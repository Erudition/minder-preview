var Sp=Object.defineProperty;var $p=(t,e,n)=>e in t?Sp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var co=(t,e,n)=>($p(t,typeof e!="symbol"?e+"":e,n),n);import{g as getDefaultExportFromCjs,a as getAugmentedNamespace,c as commonjsGlobal,f as functionBind,B as BloomFilter,i as implementation$7,b as implementation$8,d as implementation$a}from"./ionic-modules-d4dd3ca7.js";import{e as bases,f as bases$1,g as bases$2,h as commonjsRequire,C as CID,i as decode$6,j as CID$1,n as name$3,r as raw,k as code$3,l as base32,m as base32pad,o as base58btc,p as implementation$9}from"./ipfs-modules-5ddb521f.js";import{l as logger}from"./libp2p-modules-5be01019.js";var buffer$2={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup$2=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code$2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code$2.length;i<len;++i)lookup$2[i]=code$2[i],revLookup[code$2.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var a=n===e?0:4-n%4;return[n,a]}function byteLength(t){var e=getLens(t),n=e[0],a=e[1];return(n+a)*3/4-a}function _byteLength(t,e,n){return(e+n)*3/4-n}function toByteArray(t){var e,n=getLens(t),a=n[0],o=n[1],u=new Arr(_byteLength(t,a,o)),c=0,d=o>0?a-4:a,p;for(p=0;p<d;p+=4)e=revLookup[t.charCodeAt(p)]<<18|revLookup[t.charCodeAt(p+1)]<<12|revLookup[t.charCodeAt(p+2)]<<6|revLookup[t.charCodeAt(p+3)],u[c++]=e>>16&255,u[c++]=e>>8&255,u[c++]=e&255;return o===2&&(e=revLookup[t.charCodeAt(p)]<<2|revLookup[t.charCodeAt(p+1)]>>4,u[c++]=e&255),o===1&&(e=revLookup[t.charCodeAt(p)]<<10|revLookup[t.charCodeAt(p+1)]<<4|revLookup[t.charCodeAt(p+2)]>>2,u[c++]=e>>8&255,u[c++]=e&255),u}function tripletToBase64(t){return lookup$2[t>>18&63]+lookup$2[t>>12&63]+lookup$2[t>>6&63]+lookup$2[t&63]}function encodeChunk(t,e,n){for(var a,o=[],u=e;u<n;u+=3)a=(t[u]<<16&16711680)+(t[u+1]<<8&65280)+(t[u+2]&255),o.push(tripletToBase64(a));return o.join("")}function fromByteArray(t){for(var e,n=t.length,a=n%3,o=[],u=16383,c=0,d=n-a;c<d;c+=u)o.push(encodeChunk(t,c,c+u>d?d:c+u));return a===1?(e=t[n-1],o.push(lookup$2[e>>2]+lookup$2[e<<4&63]+"==")):a===2&&(e=(t[n-2]<<8)+t[n-1],o.push(lookup$2[e>>10]+lookup$2[e>>4&63]+lookup$2[e<<2&63]+"=")),o.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(t,e,n,a,o){var u,c,d=o*8-a-1,p=(1<<d)-1,v=p>>1,y=-7,b=n?o-1:0,_=n?-1:1,w=t[e+b];for(b+=_,u=w&(1<<-y)-1,w>>=-y,y+=d;y>0;u=u*256+t[e+b],b+=_,y-=8);for(c=u&(1<<-y)-1,u>>=-y,y+=a;y>0;c=c*256+t[e+b],b+=_,y-=8);if(u===0)u=1-v;else{if(u===p)return c?NaN:(w?-1:1)*(1/0);c=c+Math.pow(2,a),u=u-v}return(w?-1:1)*c*Math.pow(2,u-a)};ieee754.write=function(t,e,n,a,o,u){var c,d,p,v=u*8-o-1,y=(1<<v)-1,b=y>>1,_=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=a?0:u-1,E=a?1:-1,$=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(d=isNaN(e)?1:0,c=y):(c=Math.floor(Math.log(e)/Math.LN2),e*(p=Math.pow(2,-c))<1&&(c--,p*=2),c+b>=1?e+=_/p:e+=_*Math.pow(2,1-b),e*p>=2&&(c++,p/=2),c+b>=y?(d=0,c=y):c+b>=1?(d=(e*p-1)*Math.pow(2,o),c=c+b):(d=e*Math.pow(2,b-1)*Math.pow(2,o),c=0));o>=8;t[n+w]=d&255,w+=E,d/=256,o-=8);for(c=c<<o|d,v+=o;v>0;t[n+w]=c&255,w+=E,c/=256,v-=8);t[n+w-E]|=$*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){var e=base64Js,n=ieee754,a=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=d,t.SlowBuffer=z,t.INSPECT_MAX_BYTES=50;var o=2147483647;t.kMaxLength=o,d.TYPED_ARRAY_SUPPORT=u(),!d.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function u(){try{var ie=new Uint8Array(1),L={foo:function(){return 42}};return Object.setPrototypeOf(L,Uint8Array.prototype),Object.setPrototypeOf(ie,L),ie.foo()===42}catch{return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}});function c(ie){if(ie>o)throw new RangeError('The value "'+ie+'" is invalid for option "size"');var L=new Uint8Array(ie);return Object.setPrototypeOf(L,d.prototype),L}function d(ie,L,N){if(typeof ie=="number"){if(typeof L=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return b(ie)}return p(ie,L,N)}d.poolSize=8192;function p(ie,L,N){if(typeof ie=="string")return _(ie,L);if(ArrayBuffer.isView(ie))return E(ie);if(ie==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ie);if(qe(ie,ArrayBuffer)||ie&&qe(ie.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(qe(ie,SharedArrayBuffer)||ie&&qe(ie.buffer,SharedArrayBuffer)))return $(ie,L,N);if(typeof ie=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Q=ie.valueOf&&ie.valueOf();if(Q!=null&&Q!==ie)return d.from(Q,L,N);var we=C(ie);if(we)return we;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ie[Symbol.toPrimitive]=="function")return d.from(ie[Symbol.toPrimitive]("string"),L,N);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ie)}d.from=function(ie,L,N){return p(ie,L,N)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array);function v(ie){if(typeof ie!="number")throw new TypeError('"size" argument must be of type number');if(ie<0)throw new RangeError('The value "'+ie+'" is invalid for option "size"')}function y(ie,L,N){return v(ie),ie<=0?c(ie):L!==void 0?typeof N=="string"?c(ie).fill(L,N):c(ie).fill(L):c(ie)}d.alloc=function(ie,L,N){return y(ie,L,N)};function b(ie){return v(ie),c(ie<0?0:P(ie)|0)}d.allocUnsafe=function(ie){return b(ie)},d.allocUnsafeSlow=function(ie){return b(ie)};function _(ie,L){if((typeof L!="string"||L==="")&&(L="utf8"),!d.isEncoding(L))throw new TypeError("Unknown encoding: "+L);var N=J(ie,L)|0,Q=c(N),we=Q.write(ie,L);return we!==N&&(Q=Q.slice(0,we)),Q}function w(ie){for(var L=ie.length<0?0:P(ie.length)|0,N=c(L),Q=0;Q<L;Q+=1)N[Q]=ie[Q]&255;return N}function E(ie){if(qe(ie,Uint8Array)){var L=new Uint8Array(ie);return $(L.buffer,L.byteOffset,L.byteLength)}return w(ie)}function $(ie,L,N){if(L<0||ie.byteLength<L)throw new RangeError('"offset" is outside of buffer bounds');if(ie.byteLength<L+(N||0))throw new RangeError('"length" is outside of buffer bounds');var Q;return L===void 0&&N===void 0?Q=new Uint8Array(ie):N===void 0?Q=new Uint8Array(ie,L):Q=new Uint8Array(ie,L,N),Object.setPrototypeOf(Q,d.prototype),Q}function C(ie){if(d.isBuffer(ie)){var L=P(ie.length)|0,N=c(L);return N.length===0||ie.copy(N,0,0,L),N}if(ie.length!==void 0)return typeof ie.length!="number"||Ge(ie.length)?c(0):w(ie);if(ie.type==="Buffer"&&Array.isArray(ie.data))return w(ie.data)}function P(ie){if(ie>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return ie|0}function z(ie){return+ie!=ie&&(ie=0),d.alloc(+ie)}d.isBuffer=function(L){return L!=null&&L._isBuffer===!0&&L!==d.prototype},d.compare=function(L,N){if(qe(L,Uint8Array)&&(L=d.from(L,L.offset,L.byteLength)),qe(N,Uint8Array)&&(N=d.from(N,N.offset,N.byteLength)),!d.isBuffer(L)||!d.isBuffer(N))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(L===N)return 0;for(var Q=L.length,we=N.length,Ie=0,Ke=Math.min(Q,we);Ie<Ke;++Ie)if(L[Ie]!==N[Ie]){Q=L[Ie],we=N[Ie];break}return Q<we?-1:we<Q?1:0},d.isEncoding=function(L){switch(String(L).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(L,N){if(!Array.isArray(L))throw new TypeError('"list" argument must be an Array of Buffers');if(L.length===0)return d.alloc(0);var Q;if(N===void 0)for(N=0,Q=0;Q<L.length;++Q)N+=L[Q].length;var we=d.allocUnsafe(N),Ie=0;for(Q=0;Q<L.length;++Q){var Ke=L[Q];if(qe(Ke,Uint8Array))Ie+Ke.length>we.length?d.from(Ke).copy(we,Ie):Uint8Array.prototype.set.call(we,Ke,Ie);else if(d.isBuffer(Ke))Ke.copy(we,Ie);else throw new TypeError('"list" argument must be an Array of Buffers');Ie+=Ke.length}return we};function J(ie,L){if(d.isBuffer(ie))return ie.length;if(ArrayBuffer.isView(ie)||qe(ie,ArrayBuffer))return ie.byteLength;if(typeof ie!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ie);var N=ie.length,Q=arguments.length>2&&arguments[2]===!0;if(!Q&&N===0)return 0;for(var we=!1;;)switch(L){case"ascii":case"latin1":case"binary":return N;case"utf8":case"utf-8":return Me(ie).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N*2;case"hex":return N>>>1;case"base64":return le(ie).length;default:if(we)return Q?-1:Me(ie).length;L=(""+L).toLowerCase(),we=!0}}d.byteLength=J;function X(ie,L,N){var Q=!1;if((L===void 0||L<0)&&(L=0),L>this.length||((N===void 0||N>this.length)&&(N=this.length),N<=0)||(N>>>=0,L>>>=0,N<=L))return"";for(ie||(ie="utf8");;)switch(ie){case"hex":return j(this,L,N);case"utf8":case"utf-8":return x(this,L,N);case"ascii":return q(this,L,N);case"latin1":case"binary":return G(this,L,N);case"base64":return k(this,L,N);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,L,N);default:if(Q)throw new TypeError("Unknown encoding: "+ie);ie=(ie+"").toLowerCase(),Q=!0}}d.prototype._isBuffer=!0;function re(ie,L,N){var Q=ie[L];ie[L]=ie[N],ie[N]=Q}d.prototype.swap16=function(){var L=this.length;if(L%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var N=0;N<L;N+=2)re(this,N,N+1);return this},d.prototype.swap32=function(){var L=this.length;if(L%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var N=0;N<L;N+=4)re(this,N,N+3),re(this,N+1,N+2);return this},d.prototype.swap64=function(){var L=this.length;if(L%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var N=0;N<L;N+=8)re(this,N,N+7),re(this,N+1,N+6),re(this,N+2,N+5),re(this,N+3,N+4);return this},d.prototype.toString=function(){var L=this.length;return L===0?"":arguments.length===0?x(this,0,L):X.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(L){if(!d.isBuffer(L))throw new TypeError("Argument must be a Buffer");return this===L?!0:d.compare(this,L)===0},d.prototype.inspect=function(){var L="",N=t.INSPECT_MAX_BYTES;return L=this.toString("hex",0,N).replace(/(.{2})/g,"$1 ").trim(),this.length>N&&(L+=" ... "),"<Buffer "+L+">"},a&&(d.prototype[a]=d.prototype.inspect),d.prototype.compare=function(L,N,Q,we,Ie){if(qe(L,Uint8Array)&&(L=d.from(L,L.offset,L.byteLength)),!d.isBuffer(L))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof L);if(N===void 0&&(N=0),Q===void 0&&(Q=L?L.length:0),we===void 0&&(we=0),Ie===void 0&&(Ie=this.length),N<0||Q>L.length||we<0||Ie>this.length)throw new RangeError("out of range index");if(we>=Ie&&N>=Q)return 0;if(we>=Ie)return-1;if(N>=Q)return 1;if(N>>>=0,Q>>>=0,we>>>=0,Ie>>>=0,this===L)return 0;for(var Ke=Ie-we,dt=Q-N,me=Math.min(Ke,dt),Te=this.slice(we,Ie),Ue=L.slice(N,Q),De=0;De<me;++De)if(Te[De]!==Ue[De]){Ke=Te[De],dt=Ue[De];break}return Ke<dt?-1:dt<Ke?1:0};function de(ie,L,N,Q,we){if(ie.length===0)return-1;if(typeof N=="string"?(Q=N,N=0):N>2147483647?N=2147483647:N<-2147483648&&(N=-2147483648),N=+N,Ge(N)&&(N=we?0:ie.length-1),N<0&&(N=ie.length+N),N>=ie.length){if(we)return-1;N=ie.length-1}else if(N<0)if(we)N=0;else return-1;if(typeof L=="string"&&(L=d.from(L,Q)),d.isBuffer(L))return L.length===0?-1:xe(ie,L,N,Q,we);if(typeof L=="number")return L=L&255,typeof Uint8Array.prototype.indexOf=="function"?we?Uint8Array.prototype.indexOf.call(ie,L,N):Uint8Array.prototype.lastIndexOf.call(ie,L,N):xe(ie,[L],N,Q,we);throw new TypeError("val must be string, number or Buffer")}function xe(ie,L,N,Q,we){var Ie=1,Ke=ie.length,dt=L.length;if(Q!==void 0&&(Q=String(Q).toLowerCase(),Q==="ucs2"||Q==="ucs-2"||Q==="utf16le"||Q==="utf-16le")){if(ie.length<2||L.length<2)return-1;Ie=2,Ke/=2,dt/=2,N/=2}function me(Rt,at){return Ie===1?Rt[at]:Rt.readUInt16BE(at*Ie)}var Te;if(we){var Ue=-1;for(Te=N;Te<Ke;Te++)if(me(ie,Te)===me(L,Ue===-1?0:Te-Ue)){if(Ue===-1&&(Ue=Te),Te-Ue+1===dt)return Ue*Ie}else Ue!==-1&&(Te-=Te-Ue),Ue=-1}else for(N+dt>Ke&&(N=Ke-dt),Te=N;Te>=0;Te--){for(var De=!0,tt=0;tt<dt;tt++)if(me(ie,Te+tt)!==me(L,tt)){De=!1;break}if(De)return Te}return-1}d.prototype.includes=function(L,N,Q){return this.indexOf(L,N,Q)!==-1},d.prototype.indexOf=function(L,N,Q){return de(this,L,N,Q,!0)},d.prototype.lastIndexOf=function(L,N,Q){return de(this,L,N,Q,!1)};function $e(ie,L,N,Q){N=Number(N)||0;var we=ie.length-N;Q?(Q=Number(Q),Q>we&&(Q=we)):Q=we;var Ie=L.length;Q>Ie/2&&(Q=Ie/2);for(var Ke=0;Ke<Q;++Ke){var dt=parseInt(L.substr(Ke*2,2),16);if(Ge(dt))return Ke;ie[N+Ke]=dt}return Ke}function Pe(ie,L,N,Q){return ue(Me(L,ie.length-N),ie,N,Q)}function it(ie,L,N,Q){return ue(Re(L),ie,N,Q)}function fe(ie,L,N,Q){return ue(le(L),ie,N,Q)}function B(ie,L,N,Q){return ue(Je(L,ie.length-N),ie,N,Q)}d.prototype.write=function(L,N,Q,we){if(N===void 0)we="utf8",Q=this.length,N=0;else if(Q===void 0&&typeof N=="string")we=N,Q=this.length,N=0;else if(isFinite(N))N=N>>>0,isFinite(Q)?(Q=Q>>>0,we===void 0&&(we="utf8")):(we=Q,Q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Ie=this.length-N;if((Q===void 0||Q>Ie)&&(Q=Ie),L.length>0&&(Q<0||N<0)||N>this.length)throw new RangeError("Attempt to write outside buffer bounds");we||(we="utf8");for(var Ke=!1;;)switch(we){case"hex":return $e(this,L,N,Q);case"utf8":case"utf-8":return Pe(this,L,N,Q);case"ascii":case"latin1":case"binary":return it(this,L,N,Q);case"base64":return fe(this,L,N,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,L,N,Q);default:if(Ke)throw new TypeError("Unknown encoding: "+we);we=(""+we).toLowerCase(),Ke=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function k(ie,L,N){return L===0&&N===ie.length?e.fromByteArray(ie):e.fromByteArray(ie.slice(L,N))}function x(ie,L,N){N=Math.min(ie.length,N);for(var Q=[],we=L;we<N;){var Ie=ie[we],Ke=null,dt=Ie>239?4:Ie>223?3:Ie>191?2:1;if(we+dt<=N){var me,Te,Ue,De;switch(dt){case 1:Ie<128&&(Ke=Ie);break;case 2:me=ie[we+1],(me&192)===128&&(De=(Ie&31)<<6|me&63,De>127&&(Ke=De));break;case 3:me=ie[we+1],Te=ie[we+2],(me&192)===128&&(Te&192)===128&&(De=(Ie&15)<<12|(me&63)<<6|Te&63,De>2047&&(De<55296||De>57343)&&(Ke=De));break;case 4:me=ie[we+1],Te=ie[we+2],Ue=ie[we+3],(me&192)===128&&(Te&192)===128&&(Ue&192)===128&&(De=(Ie&15)<<18|(me&63)<<12|(Te&63)<<6|Ue&63,De>65535&&De<1114112&&(Ke=De))}}Ke===null?(Ke=65533,dt=1):Ke>65535&&(Ke-=65536,Q.push(Ke>>>10&1023|55296),Ke=56320|Ke&1023),Q.push(Ke),we+=dt}return D(Q)}var A=4096;function D(ie){var L=ie.length;if(L<=A)return String.fromCharCode.apply(String,ie);for(var N="",Q=0;Q<L;)N+=String.fromCharCode.apply(String,ie.slice(Q,Q+=A));return N}function q(ie,L,N){var Q="";N=Math.min(ie.length,N);for(var we=L;we<N;++we)Q+=String.fromCharCode(ie[we]&127);return Q}function G(ie,L,N){var Q="";N=Math.min(ie.length,N);for(var we=L;we<N;++we)Q+=String.fromCharCode(ie[we]);return Q}function j(ie,L,N){var Q=ie.length;(!L||L<0)&&(L=0),(!N||N<0||N>Q)&&(N=Q);for(var we="",Ie=L;Ie<N;++Ie)we+=ot[ie[Ie]];return we}function T(ie,L,N){for(var Q=ie.slice(L,N),we="",Ie=0;Ie<Q.length-1;Ie+=2)we+=String.fromCharCode(Q[Ie]+Q[Ie+1]*256);return we}d.prototype.slice=function(L,N){var Q=this.length;L=~~L,N=N===void 0?Q:~~N,L<0?(L+=Q,L<0&&(L=0)):L>Q&&(L=Q),N<0?(N+=Q,N<0&&(N=0)):N>Q&&(N=Q),N<L&&(N=L);var we=this.subarray(L,N);return Object.setPrototypeOf(we,d.prototype),we};function F(ie,L,N){if(ie%1!==0||ie<0)throw new RangeError("offset is not uint");if(ie+L>N)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(L,N,Q){L=L>>>0,N=N>>>0,Q||F(L,N,this.length);for(var we=this[L],Ie=1,Ke=0;++Ke<N&&(Ie*=256);)we+=this[L+Ke]*Ie;return we},d.prototype.readUintBE=d.prototype.readUIntBE=function(L,N,Q){L=L>>>0,N=N>>>0,Q||F(L,N,this.length);for(var we=this[L+--N],Ie=1;N>0&&(Ie*=256);)we+=this[L+--N]*Ie;return we},d.prototype.readUint8=d.prototype.readUInt8=function(L,N){return L=L>>>0,N||F(L,1,this.length),this[L]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(L,N){return L=L>>>0,N||F(L,2,this.length),this[L]|this[L+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(L,N){return L=L>>>0,N||F(L,2,this.length),this[L]<<8|this[L+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(L,N){return L=L>>>0,N||F(L,4,this.length),(this[L]|this[L+1]<<8|this[L+2]<<16)+this[L+3]*16777216},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(L,N){return L=L>>>0,N||F(L,4,this.length),this[L]*16777216+(this[L+1]<<16|this[L+2]<<8|this[L+3])},d.prototype.readIntLE=function(L,N,Q){L=L>>>0,N=N>>>0,Q||F(L,N,this.length);for(var we=this[L],Ie=1,Ke=0;++Ke<N&&(Ie*=256);)we+=this[L+Ke]*Ie;return Ie*=128,we>=Ie&&(we-=Math.pow(2,8*N)),we},d.prototype.readIntBE=function(L,N,Q){L=L>>>0,N=N>>>0,Q||F(L,N,this.length);for(var we=N,Ie=1,Ke=this[L+--we];we>0&&(Ie*=256);)Ke+=this[L+--we]*Ie;return Ie*=128,Ke>=Ie&&(Ke-=Math.pow(2,8*N)),Ke},d.prototype.readInt8=function(L,N){return L=L>>>0,N||F(L,1,this.length),this[L]&128?(255-this[L]+1)*-1:this[L]},d.prototype.readInt16LE=function(L,N){L=L>>>0,N||F(L,2,this.length);var Q=this[L]|this[L+1]<<8;return Q&32768?Q|4294901760:Q},d.prototype.readInt16BE=function(L,N){L=L>>>0,N||F(L,2,this.length);var Q=this[L+1]|this[L]<<8;return Q&32768?Q|4294901760:Q},d.prototype.readInt32LE=function(L,N){return L=L>>>0,N||F(L,4,this.length),this[L]|this[L+1]<<8|this[L+2]<<16|this[L+3]<<24},d.prototype.readInt32BE=function(L,N){return L=L>>>0,N||F(L,4,this.length),this[L]<<24|this[L+1]<<16|this[L+2]<<8|this[L+3]},d.prototype.readFloatLE=function(L,N){return L=L>>>0,N||F(L,4,this.length),n.read(this,L,!0,23,4)},d.prototype.readFloatBE=function(L,N){return L=L>>>0,N||F(L,4,this.length),n.read(this,L,!1,23,4)},d.prototype.readDoubleLE=function(L,N){return L=L>>>0,N||F(L,8,this.length),n.read(this,L,!0,52,8)},d.prototype.readDoubleBE=function(L,N){return L=L>>>0,N||F(L,8,this.length),n.read(this,L,!1,52,8)};function M(ie,L,N,Q,we,Ie){if(!d.isBuffer(ie))throw new TypeError('"buffer" argument must be a Buffer instance');if(L>we||L<Ie)throw new RangeError('"value" argument is out of bounds');if(N+Q>ie.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(L,N,Q,we){if(L=+L,N=N>>>0,Q=Q>>>0,!we){var Ie=Math.pow(2,8*Q)-1;M(this,L,N,Q,Ie,0)}var Ke=1,dt=0;for(this[N]=L&255;++dt<Q&&(Ke*=256);)this[N+dt]=L/Ke&255;return N+Q},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(L,N,Q,we){if(L=+L,N=N>>>0,Q=Q>>>0,!we){var Ie=Math.pow(2,8*Q)-1;M(this,L,N,Q,Ie,0)}var Ke=Q-1,dt=1;for(this[N+Ke]=L&255;--Ke>=0&&(dt*=256);)this[N+Ke]=L/dt&255;return N+Q},d.prototype.writeUint8=d.prototype.writeUInt8=function(L,N,Q){return L=+L,N=N>>>0,Q||M(this,L,N,1,255,0),this[N]=L&255,N+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(L,N,Q){return L=+L,N=N>>>0,Q||M(this,L,N,2,65535,0),this[N]=L&255,this[N+1]=L>>>8,N+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(L,N,Q){return L=+L,N=N>>>0,Q||M(this,L,N,2,65535,0),this[N]=L>>>8,this[N+1]=L&255,N+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(L,N,Q){return L=+L,N=N>>>0,Q||M(this,L,N,4,4294967295,0),this[N+3]=L>>>24,this[N+2]=L>>>16,this[N+1]=L>>>8,this[N]=L&255,N+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(L,N,Q){return L=+L,N=N>>>0,Q||M(this,L,N,4,4294967295,0),this[N]=L>>>24,this[N+1]=L>>>16,this[N+2]=L>>>8,this[N+3]=L&255,N+4},d.prototype.writeIntLE=function(L,N,Q,we){if(L=+L,N=N>>>0,!we){var Ie=Math.pow(2,8*Q-1);M(this,L,N,Q,Ie-1,-Ie)}var Ke=0,dt=1,me=0;for(this[N]=L&255;++Ke<Q&&(dt*=256);)L<0&&me===0&&this[N+Ke-1]!==0&&(me=1),this[N+Ke]=(L/dt>>0)-me&255;return N+Q},d.prototype.writeIntBE=function(L,N,Q,we){if(L=+L,N=N>>>0,!we){var Ie=Math.pow(2,8*Q-1);M(this,L,N,Q,Ie-1,-Ie)}var Ke=Q-1,dt=1,me=0;for(this[N+Ke]=L&255;--Ke>=0&&(dt*=256);)L<0&&me===0&&this[N+Ke+1]!==0&&(me=1),this[N+Ke]=(L/dt>>0)-me&255;return N+Q},d.prototype.writeInt8=function(L,N,Q){return L=+L,N=N>>>0,Q||M(this,L,N,1,127,-128),L<0&&(L=255+L+1),this[N]=L&255,N+1},d.prototype.writeInt16LE=function(L,N,Q){return L=+L,N=N>>>0,Q||M(this,L,N,2,32767,-32768),this[N]=L&255,this[N+1]=L>>>8,N+2},d.prototype.writeInt16BE=function(L,N,Q){return L=+L,N=N>>>0,Q||M(this,L,N,2,32767,-32768),this[N]=L>>>8,this[N+1]=L&255,N+2},d.prototype.writeInt32LE=function(L,N,Q){return L=+L,N=N>>>0,Q||M(this,L,N,4,2147483647,-2147483648),this[N]=L&255,this[N+1]=L>>>8,this[N+2]=L>>>16,this[N+3]=L>>>24,N+4},d.prototype.writeInt32BE=function(L,N,Q){return L=+L,N=N>>>0,Q||M(this,L,N,4,2147483647,-2147483648),L<0&&(L=4294967295+L+1),this[N]=L>>>24,this[N+1]=L>>>16,this[N+2]=L>>>8,this[N+3]=L&255,N+4};function V(ie,L,N,Q,we,Ie){if(N+Q>ie.length)throw new RangeError("Index out of range");if(N<0)throw new RangeError("Index out of range")}function ge(ie,L,N,Q,we){return L=+L,N=N>>>0,we||V(ie,L,N,4),n.write(ie,L,N,Q,23,4),N+4}d.prototype.writeFloatLE=function(L,N,Q){return ge(this,L,N,!0,Q)},d.prototype.writeFloatBE=function(L,N,Q){return ge(this,L,N,!1,Q)};function ke(ie,L,N,Q,we){return L=+L,N=N>>>0,we||V(ie,L,N,8),n.write(ie,L,N,Q,52,8),N+8}d.prototype.writeDoubleLE=function(L,N,Q){return ke(this,L,N,!0,Q)},d.prototype.writeDoubleBE=function(L,N,Q){return ke(this,L,N,!1,Q)},d.prototype.copy=function(L,N,Q,we){if(!d.isBuffer(L))throw new TypeError("argument should be a Buffer");if(Q||(Q=0),!we&&we!==0&&(we=this.length),N>=L.length&&(N=L.length),N||(N=0),we>0&&we<Q&&(we=Q),we===Q||L.length===0||this.length===0)return 0;if(N<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("Index out of range");if(we<0)throw new RangeError("sourceEnd out of bounds");we>this.length&&(we=this.length),L.length-N<we-Q&&(we=L.length-N+Q);var Ie=we-Q;return this===L&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(N,Q,we):Uint8Array.prototype.set.call(L,this.subarray(Q,we),N),Ie},d.prototype.fill=function(L,N,Q,we){if(typeof L=="string"){if(typeof N=="string"?(we=N,N=0,Q=this.length):typeof Q=="string"&&(we=Q,Q=this.length),we!==void 0&&typeof we!="string")throw new TypeError("encoding must be a string");if(typeof we=="string"&&!d.isEncoding(we))throw new TypeError("Unknown encoding: "+we);if(L.length===1){var Ie=L.charCodeAt(0);(we==="utf8"&&Ie<128||we==="latin1")&&(L=Ie)}}else typeof L=="number"?L=L&255:typeof L=="boolean"&&(L=Number(L));if(N<0||this.length<N||this.length<Q)throw new RangeError("Out of range index");if(Q<=N)return this;N=N>>>0,Q=Q===void 0?this.length:Q>>>0,L||(L=0);var Ke;if(typeof L=="number")for(Ke=N;Ke<Q;++Ke)this[Ke]=L;else{var dt=d.isBuffer(L)?L:d.from(L,we),me=dt.length;if(me===0)throw new TypeError('The value "'+L+'" is invalid for argument "value"');for(Ke=0;Ke<Q-N;++Ke)this[Ke+N]=dt[Ke%me]}return this};var he=/[^+/0-9A-Za-z-_]/g;function be(ie){if(ie=ie.split("=")[0],ie=ie.trim().replace(he,""),ie.length<2)return"";for(;ie.length%4!==0;)ie=ie+"=";return ie}function Me(ie,L){L=L||1/0;for(var N,Q=ie.length,we=null,Ie=[],Ke=0;Ke<Q;++Ke){if(N=ie.charCodeAt(Ke),N>55295&&N<57344){if(!we){if(N>56319){(L-=3)>-1&&Ie.push(239,191,189);continue}else if(Ke+1===Q){(L-=3)>-1&&Ie.push(239,191,189);continue}we=N;continue}if(N<56320){(L-=3)>-1&&Ie.push(239,191,189),we=N;continue}N=(we-55296<<10|N-56320)+65536}else we&&(L-=3)>-1&&Ie.push(239,191,189);if(we=null,N<128){if((L-=1)<0)break;Ie.push(N)}else if(N<2048){if((L-=2)<0)break;Ie.push(N>>6|192,N&63|128)}else if(N<65536){if((L-=3)<0)break;Ie.push(N>>12|224,N>>6&63|128,N&63|128)}else if(N<1114112){if((L-=4)<0)break;Ie.push(N>>18|240,N>>12&63|128,N>>6&63|128,N&63|128)}else throw new Error("Invalid code point")}return Ie}function Re(ie){for(var L=[],N=0;N<ie.length;++N)L.push(ie.charCodeAt(N)&255);return L}function Je(ie,L){for(var N,Q,we,Ie=[],Ke=0;Ke<ie.length&&!((L-=2)<0);++Ke)N=ie.charCodeAt(Ke),Q=N>>8,we=N%256,Ie.push(we),Ie.push(Q);return Ie}function le(ie){return e.toByteArray(be(ie))}function ue(ie,L,N,Q){for(var we=0;we<Q&&!(we+N>=L.length||we>=ie.length);++we)L[we+N]=ie[we];return we}function qe(ie,L){return ie instanceof L||ie!=null&&ie.constructor!=null&&ie.constructor.name!=null&&ie.constructor.name===L.name}function Ge(ie){return ie!==ie}var ot=function(){for(var ie="0123456789abcdef",L=new Array(256),N=0;N<16;++N)for(var Q=N*16,we=0;we<16;++we)L[Q+we]=ie[N]+ie[we];return L}()})(buffer$2);var browser$d={exports:{}},process=browser$d.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(t){if(cachedSetTimeout===setTimeout)return setTimeout(t,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(t,0);try{return cachedSetTimeout(t,0)}catch{try{return cachedSetTimeout.call(null,t,0)}catch{return cachedSetTimeout.call(this,t,0)}}}function runClearTimeout(t){if(cachedClearTimeout===clearTimeout)return clearTimeout(t);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(t);try{return cachedClearTimeout(t)}catch{try{return cachedClearTimeout.call(null,t)}catch{return cachedClearTimeout.call(this,t)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var t=runTimeout(cleanUpNextTick);draining=!0;for(var e=queue.length;e;){for(currentQueue=queue,queue=[];++queueIndex<e;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,e=queue.length}currentQueue=null,draining=!1,runClearTimeout(t)}}process.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];queue.push(new Item(t,e)),queue.length===1&&!draining&&runTimeout(drainQueue)};function Item(t,e){this.fun=t,this.array=e}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=!0;process.env={};process.argv=[];process.version="";process.versions={};function noop$3(){}process.on=noop$3;process.addListener=noop$3;process.once=noop$3;process.off=noop$3;process.removeListener=noop$3;process.removeAllListeners=noop$3;process.emit=noop$3;process.prependListener=noop$3;process.prependOnceListener=noop$3;process.listeners=function(t){return[]};process.binding=function(t){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(t){throw new Error("process.chdir is not supported")};process.umask=function(){return 0};var browserExports$1=browser$d.exports;const process$1=getDefaultExportFromCjs(browserExports$1);var _globalThis=function(t){function e(){var a=this||self;return delete t.prototype.__magic__,a}if(typeof globalThis=="object")return globalThis;if(this)return e();t.defineProperty(t.prototype,"__magic__",{configurable:!0,get:e});var n=__magic__;return n}(Object),_global=_globalThis;const BUILD={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,safari10:!1,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,cssVarShim:!1,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,dynamicImportShim:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0};let scopeId,contentRef,hostTagName,useNativeShadowDom=!1,checkSlotFallbackVisibility=!1,checkSlotRelocate=!1,isSvgMode=!1,renderingRef=null,queuePending=!1;const getAssetPath=t=>{const e=new URL(t,plt.$resourcesUrl$);return e.origin!==win.location.origin?e.href:e.pathname},createTime=(t,e="")=>()=>{},XLINK_NS="http://www.w3.org/1999/xlink",EMPTY_OBJ={},SVG_NS="http://www.w3.org/2000/svg",HTML_NS="http://www.w3.org/1999/xhtml",isDef=t=>t!=null,isComplexType=t=>(t=typeof t,t==="object"||t==="function");function queryNonceMetaTagContent(t){var e,n,a;return(a=(n=(e=t.head)===null||e===void 0?void 0:e.querySelector('meta[name="csp-nonce"]'))===null||n===void 0?void 0:n.getAttribute("content"))!==null&&a!==void 0?a:void 0}const h=(t,e,...n)=>{let a=null,o=null,u=null,c=!1,d=!1;const p=[],v=b=>{for(let _=0;_<b.length;_++)a=b[_],Array.isArray(a)?v(a):a!=null&&typeof a!="boolean"&&((c=typeof t!="function"&&!isComplexType(a))&&(a=String(a)),c&&d?p[p.length-1].$text$+=a:p.push(c?newVNode(null,a):a),d=c)};if(v(n),e){e.key&&(o=e.key),e.name&&(u=e.name);{const b=e.className||e.class;b&&(e.class=typeof b!="object"?b:Object.keys(b).filter(_=>b[_]).join(" "))}}if(typeof t=="function")return t(e===null?{}:e,p,vdomFnUtils);const y=newVNode(t,null);return y.$attrs$=e,p.length>0&&(y.$children$=p),y.$key$=o,y.$name$=u,y},newVNode=(t,e)=>{const n={$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null};return n.$attrs$=null,n.$key$=null,n.$name$=null,n},Host={},isHost=t=>t&&t.$tag$===Host,vdomFnUtils={forEach:(t,e)=>t.map(convertToPublic).forEach(e),map:(t,e)=>t.map(convertToPublic).map(e).map(convertToPrivate)},convertToPublic=t=>({vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}),convertToPrivate=t=>{if(typeof t.vtag=="function"){const n=Object.assign({},t.vattrs);return t.vkey&&(n.key=t.vkey),t.vname&&(n.name=t.vname),h(t.vtag,n,...t.vchildren||[])}const e=newVNode(t.vtag,t.vtext);return e.$attrs$=t.vattrs,e.$children$=t.vchildren,e.$key$=t.vkey,e.$name$=t.vname,e},computeMode=t=>modeResolutionChain.map(e=>e(t)).find(e=>!!e),setMode=t=>modeResolutionChain.push(t),getMode=t=>getHostRef(t).$modeName$,parsePropertyValue=(t,e)=>t!=null&&!isComplexType(t)?e&4?t==="false"?!1:t===""||!!t:e&2?parseFloat(t):e&1?String(t):t:t,getElement=t=>t,createEvent=(t,e,n)=>{const a=getElement(t);return{emit:o=>emitEvent(a,e,{bubbles:!!(n&4),composed:!!(n&2),cancelable:!!(n&1),detail:o})}},emitEvent=(t,e,n)=>{const a=plt.ce(e,n);return t.dispatchEvent(a),a},rootAppliedStyles=new WeakMap,registerStyle=(t,e,n)=>{let a=styles.get(t);supportsConstructableStylesheets&&n?(a=a||new CSSStyleSheet,typeof a=="string"?a=e:a.replaceSync(e)):a=e,styles.set(t,a)},addStyle=(t,e,n,a)=>{var o;let u=getScopeId(e,n);const c=styles.get(u);if(t=t.nodeType===11?t:doc,c)if(typeof c=="string"){t=t.head||t;let d=rootAppliedStyles.get(t),p;if(d||rootAppliedStyles.set(t,d=new Set),!d.has(u)){{p=doc.createElement("style"),p.innerHTML=c;const v=(o=plt.$nonce$)!==null&&o!==void 0?o:queryNonceMetaTagContent(doc);v!=null&&p.setAttribute("nonce",v),t.insertBefore(p,t.querySelector("link"))}d&&d.add(u)}}else t.adoptedStyleSheets.includes(c)||(t.adoptedStyleSheets=[...t.adoptedStyleSheets,c]);return u},attachStyles=t=>{const e=t.$cmpMeta$,n=t.$hostElement$,a=e.$flags$,o=createTime("attachStyles",e.$tagName$),u=addStyle(n.shadowRoot?n.shadowRoot:n.getRootNode(),e,t.$modeName$);a&10&&(n["s-sc"]=u,n.classList.add(u+"-h"),a&2&&n.classList.add(u+"-s")),o()},getScopeId=(t,e)=>"sc-"+(e&&t.$flags$&32?t.$tagName$+"-"+e:t.$tagName$),setAccessor=(t,e,n,a,o,u)=>{if(n!==a){let c=isMemberInElement(t,e),d=e.toLowerCase();if(e==="class"){const p=t.classList,v=parseClassList(n),y=parseClassList(a);p.remove(...v.filter(b=>b&&!y.includes(b))),p.add(...y.filter(b=>b&&!v.includes(b)))}else if(e==="style"){for(const p in n)(!a||a[p]==null)&&(p.includes("-")?t.style.removeProperty(p):t.style[p]="");for(const p in a)(!n||a[p]!==n[p])&&(p.includes("-")?t.style.setProperty(p,a[p]):t.style[p]=a[p])}else if(e!=="key")if(e==="ref")a&&a(t);else if(!t.__lookupSetter__(e)&&e[0]==="o"&&e[1]==="n")e[2]==="-"?e=e.slice(3):isMemberInElement(win,d)?e=d.slice(2):e=d[2]+e.slice(3),n&&plt.rel(t,e,n,!1),a&&plt.ael(t,e,a,!1);else{const p=isComplexType(a);if((c||p&&a!==null)&&!o)try{if(t.tagName.includes("-"))t[e]=a;else{const y=a??"";e==="list"?c=!1:(n==null||t[e]!=y)&&(t[e]=y)}}catch{}let v=!1;d!==(d=d.replace(/^xlink\:?/,""))&&(e=d,v=!0),a==null||a===!1?(a!==!1||t.getAttribute(e)==="")&&(v?t.removeAttributeNS(XLINK_NS,e):t.removeAttribute(e)):(!c||u&4||o)&&!p&&(a=a===!0?"":a,v?t.setAttributeNS(XLINK_NS,e,a):t.setAttribute(e,a))}}},parseClassListRegex=/\s/,parseClassList=t=>t?t.split(parseClassListRegex):[],updateElement=(t,e,n,a)=>{const o=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,u=t&&t.$attrs$||EMPTY_OBJ,c=e.$attrs$||EMPTY_OBJ;for(a in u)a in c||setAccessor(o,a,u[a],void 0,n,e.$flags$);for(a in c)setAccessor(o,a,u[a],c[a],n,e.$flags$)},createElm=(t,e,n,a)=>{const o=e.$children$[n];let u=0,c,d,p;if(useNativeShadowDom||(checkSlotRelocate=!0,o.$tag$==="slot"&&(scopeId&&a.classList.add(scopeId+"-s"),o.$flags$|=o.$children$?2:1)),o.$text$!==null)c=o.$elm$=doc.createTextNode(o.$text$);else if(o.$flags$&1)c=o.$elm$=doc.createTextNode("");else{if(isSvgMode||(isSvgMode=o.$tag$==="svg"),c=o.$elm$=doc.createElementNS(isSvgMode?SVG_NS:HTML_NS,o.$flags$&2?"slot-fb":o.$tag$),isSvgMode&&o.$tag$==="foreignObject"&&(isSvgMode=!1),updateElement(null,o,isSvgMode),isDef(scopeId)&&c["s-si"]!==scopeId&&c.classList.add(c["s-si"]=scopeId),o.$children$)for(u=0;u<o.$children$.length;++u)d=createElm(t,o,u,c),d&&c.appendChild(d);o.$tag$==="svg"?isSvgMode=!1:c.tagName==="foreignObject"&&(isSvgMode=!0)}return c["s-hn"]=hostTagName,o.$flags$&3&&(c["s-sr"]=!0,c["s-cr"]=contentRef,c["s-sn"]=o.$name$||"",p=t&&t.$children$&&t.$children$[n],p&&p.$tag$===o.$tag$&&t.$elm$&&putBackInOriginalLocation(t.$elm$,!1)),c},putBackInOriginalLocation=(t,e)=>{plt.$flags$|=1;const n=t.childNodes;for(let a=n.length-1;a>=0;a--){const o=n[a];o["s-hn"]!==hostTagName&&o["s-ol"]&&(parentReferenceNode(o).insertBefore(o,referenceNode(o)),o["s-ol"].remove(),o["s-ol"]=void 0,checkSlotRelocate=!0),e&&putBackInOriginalLocation(o,e)}plt.$flags$&=-2},addVnodes=(t,e,n,a,o,u)=>{let c=t["s-cr"]&&t["s-cr"].parentNode||t,d;for(c.shadowRoot&&c.tagName===hostTagName&&(c=c.shadowRoot);o<=u;++o)a[o]&&(d=createElm(null,n,o,t),d&&(a[o].$elm$=d,c.insertBefore(d,referenceNode(e))))},removeVnodes=(t,e,n)=>{for(let a=e;a<=n;++a){const o=t[a];if(o){const u=o.$elm$;nullifyVNodeRefs(o),u&&(checkSlotFallbackVisibility=!0,u["s-ol"]?u["s-ol"].remove():putBackInOriginalLocation(u,!0),u.remove())}}},updateChildren=(t,e,n,a)=>{let o=0,u=0,c=0,d=0,p=e.length-1,v=e[0],y=e[p],b=a.length-1,_=a[0],w=a[b],E,$;for(;o<=p&&u<=b;)if(v==null)v=e[++o];else if(y==null)y=e[--p];else if(_==null)_=a[++u];else if(w==null)w=a[--b];else if(isSameVnode(v,_))patch(v,_),v=e[++o],_=a[++u];else if(isSameVnode(y,w))patch(y,w),y=e[--p],w=a[--b];else if(isSameVnode(v,w))(v.$tag$==="slot"||w.$tag$==="slot")&&putBackInOriginalLocation(v.$elm$.parentNode,!1),patch(v,w),t.insertBefore(v.$elm$,y.$elm$.nextSibling),v=e[++o],w=a[--b];else if(isSameVnode(y,_))(v.$tag$==="slot"||w.$tag$==="slot")&&putBackInOriginalLocation(y.$elm$.parentNode,!1),patch(y,_),t.insertBefore(y.$elm$,v.$elm$),y=e[--p],_=a[++u];else{for(c=-1,d=o;d<=p;++d)if(e[d]&&e[d].$key$!==null&&e[d].$key$===_.$key$){c=d;break}c>=0?($=e[c],$.$tag$!==_.$tag$?E=createElm(e&&e[u],n,c,t):(patch($,_),e[c]=void 0,E=$.$elm$),_=a[++u]):(E=createElm(e&&e[u],n,u,t),_=a[++u]),E&&parentReferenceNode(v.$elm$).insertBefore(E,referenceNode(v.$elm$))}o>p?addVnodes(t,a[b+1]==null?null:a[b+1].$elm$,n,a,u,b):u>b&&removeVnodes(e,o,p)},isSameVnode=(t,e)=>t.$tag$===e.$tag$?t.$tag$==="slot"?t.$name$===e.$name$:t.$key$===e.$key$:!1,referenceNode=t=>t&&t["s-ol"]||t,parentReferenceNode=t=>(t["s-ol"]?t["s-ol"]:t).parentNode,patch=(t,e)=>{const n=e.$elm$=t.$elm$,a=t.$children$,o=e.$children$,u=e.$tag$,c=e.$text$;let d;c===null?(isSvgMode=u==="svg"?!0:u==="foreignObject"?!1:isSvgMode,u==="slot"||updateElement(t,e,isSvgMode),a!==null&&o!==null?updateChildren(n,a,e,o):o!==null?(t.$text$!==null&&(n.textContent=""),addVnodes(n,null,e,o,0,o.length-1)):a!==null&&removeVnodes(a,0,a.length-1),isSvgMode&&u==="svg"&&(isSvgMode=!1)):(d=n["s-cr"])?d.parentNode.textContent=c:t.$text$!==c&&(n.data=c)},updateFallbackSlotVisibility=t=>{const e=t.childNodes;let n,a,o,u,c,d;for(a=0,o=e.length;a<o;a++)if(n=e[a],n.nodeType===1){if(n["s-sr"]){for(c=n["s-sn"],n.hidden=!1,u=0;u<o;u++)if(d=e[u].nodeType,e[u]["s-hn"]!==n["s-hn"]||c!==""){if(d===1&&c===e[u].getAttribute("slot")){n.hidden=!0;break}}else if(d===1||d===3&&e[u].textContent.trim()!==""){n.hidden=!0;break}}updateFallbackSlotVisibility(n)}},relocateNodes=[],relocateSlotContent=t=>{let e,n,a,o,u,c,d=0;const p=t.childNodes,v=p.length;for(;d<v;d++){if(e=p[d],e["s-sr"]&&(n=e["s-cr"])&&n.parentNode)for(a=n.parentNode.childNodes,o=e["s-sn"],c=a.length-1;c>=0;c--)n=a[c],!n["s-cn"]&&!n["s-nr"]&&n["s-hn"]!==e["s-hn"]&&(isNodeLocatedInSlot(n,o)?(u=relocateNodes.find(y=>y.$nodeToRelocate$===n),checkSlotFallbackVisibility=!0,n["s-sn"]=n["s-sn"]||o,u?u.$slotRefNode$=e:relocateNodes.push({$slotRefNode$:e,$nodeToRelocate$:n}),n["s-sr"]&&relocateNodes.map(y=>{isNodeLocatedInSlot(y.$nodeToRelocate$,n["s-sn"])&&(u=relocateNodes.find(b=>b.$nodeToRelocate$===n),u&&!y.$slotRefNode$&&(y.$slotRefNode$=u.$slotRefNode$))})):relocateNodes.some(y=>y.$nodeToRelocate$===n)||relocateNodes.push({$nodeToRelocate$:n}));e.nodeType===1&&relocateSlotContent(e)}},isNodeLocatedInSlot=(t,e)=>t.nodeType===1?t.getAttribute("slot")===null&&e===""||t.getAttribute("slot")===e:t["s-sn"]===e?!0:e==="",nullifyVNodeRefs=t=>{t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(nullifyVNodeRefs)},renderVdom=(t,e)=>{const n=t.$hostElement$,a=t.$cmpMeta$,o=t.$vnode$||newVNode(null,null),u=isHost(e)?e:h(null,null,e);hostTagName=n.tagName,a.$attrsToReflect$&&(u.$attrs$=u.$attrs$||{},a.$attrsToReflect$.map(([c,d])=>u.$attrs$[d]=n[c])),u.$tag$=null,u.$flags$|=4,t.$vnode$=u,u.$elm$=o.$elm$=n.shadowRoot||n,scopeId=n["s-sc"],contentRef=n["s-cr"],useNativeShadowDom=(a.$flags$&1)!==0,checkSlotFallbackVisibility=!1,patch(o,u);{if(plt.$flags$|=1,checkSlotRelocate){relocateSlotContent(u.$elm$);let c,d,p,v,y,b,_=0;for(;_<relocateNodes.length;_++)c=relocateNodes[_],d=c.$nodeToRelocate$,d["s-ol"]||(p=doc.createTextNode(""),p["s-nr"]=d,d.parentNode.insertBefore(d["s-ol"]=p,d));for(_=0;_<relocateNodes.length;_++)if(c=relocateNodes[_],d=c.$nodeToRelocate$,c.$slotRefNode$){for(v=c.$slotRefNode$.parentNode,y=c.$slotRefNode$.nextSibling,p=d["s-ol"];p=p.previousSibling;)if(b=p["s-nr"],b&&b["s-sn"]===d["s-sn"]&&v===b.parentNode&&(b=b.nextSibling,!b||!b["s-nr"])){y=b;break}(!y&&v!==d.parentNode||d.nextSibling!==y)&&d!==y&&(!d["s-hn"]&&d["s-ol"]&&(d["s-hn"]=d["s-ol"].parentNode.nodeName),v.insertBefore(d,y))}else d.nodeType===1&&(d.hidden=!0)}checkSlotFallbackVisibility&&updateFallbackSlotVisibility(u.$elm$),plt.$flags$&=-2,relocateNodes.length=0}},attachToAncestor=(t,e)=>{},scheduleUpdate=(t,e)=>(t.$flags$|=16,attachToAncestor(t,t.$ancestorComponent$),writeTask(()=>dispatchHooks(t,e))),dispatchHooks=(t,e)=>{const n=t.$hostElement$,a=createTime("scheduleUpdate",t.$cmpMeta$.$tagName$),o=n;let u;return e?u=safeCall(o,"componentWillLoad"):u=safeCall(o,"componentWillUpdate"),u=enqueue(u,()=>safeCall(o,"componentWillRender")),a(),enqueue(u,()=>updateComponent(t,o,e))},enqueue=(t,e)=>t instanceof Promise?t.then(e):e(),updateComponent=async(t,e,n)=>{const a=t.$hostElement$,o=createTime("update",t.$cmpMeta$.$tagName$);a["s-rc"],n&&attachStyles(t);const u=createTime("render",t.$cmpMeta$.$tagName$);callRender(t,e,a),u(),o(),postUpdateComponent(t)},callRender=(t,e,n)=>{try{renderingRef=e,e=e.render&&e.render(),t.$flags$&=-17,t.$flags$|=2,(BUILD.hasRenderFn||BUILD.reflect)&&(BUILD.vdomRender||BUILD.reflect)&&(BUILD.hydrateServerSide||renderVdom(t,e))}catch(d){consoleError(d,t.$hostElement$)}return renderingRef=null,null},postUpdateComponent=t=>{const e=t.$cmpMeta$.$tagName$,n=t.$hostElement$,a=createTime("postUpdate",e),o=n;t.$ancestorComponent$,safeCall(o,"componentDidRender"),t.$flags$&64?(safeCall(o,"componentDidUpdate"),a()):(t.$flags$|=64,safeCall(o,"componentDidLoad"),a())},forceUpdate=t=>{{const e=getHostRef(t),n=e.$hostElement$.isConnected;return n&&(e.$flags$&18)===2&&scheduleUpdate(e,!1),n}},safeCall=(t,e,n)=>{if(t&&t[e])try{return t[e](n)}catch(a){consoleError(a)}},getValue$1=(t,e)=>getHostRef(t).$instanceValues$.get(e),setValue=(t,e,n,a)=>{const o=getHostRef(t),u=t,c=o.$instanceValues$.get(e),d=o.$flags$,p=u;n=parsePropertyValue(n,a.$members$[e][0]);const v=Number.isNaN(c)&&Number.isNaN(n);if(n!==c&&!v){o.$instanceValues$.set(e,n);{if(a.$watchers$&&d&128){const b=a.$watchers$[e];b&&b.map(_=>{try{p[_](n,c,e)}catch(w){consoleError(w,u)}})}if((d&18)===2){if(p.componentShouldUpdate&&p.componentShouldUpdate(n,c,e)===!1)return;scheduleUpdate(o,!1)}}}},proxyComponent=(t,e,n)=>{if(e.$members$){t.watchers&&(e.$watchers$=t.watchers);const a=Object.entries(e.$members$),o=t.prototype;a.map(([u,[c]])=>{(c&31||c&32)&&Object.defineProperty(o,u,{get(){return getValue$1(this,u)},set(d){setValue(this,u,d,e)},configurable:!0,enumerable:!0})});{const u=new Map;o.attributeChangedCallback=function(c,d,p){plt.jmp(()=>{const v=u.get(c);if(this.hasOwnProperty(v))p=this[v],delete this[v];else if(o.hasOwnProperty(v)&&typeof this[v]=="number"&&this[v]==p)return;this[v]=p===null&&typeof this[v]=="boolean"?!1:p})},t.observedAttributes=a.filter(([c,d])=>d[0]&15).map(([c,d])=>{const p=d[1]||c;return u.set(p,c),d[0]&512&&e.$attrsToReflect$.push([c,p]),p})}}return t},initializeComponent=async(t,e,n,a,o)=>{if(!(e.$flags$&32)&&(e.$flags$|=32,o=t.constructor,customElements.whenDefined(n.$tagName$).then(()=>e.$flags$|=128),o.style)){let c=o.style;typeof c!="string"&&(c=c[e.$modeName$=computeMode(t)]);const d=getScopeId(n,e.$modeName$);if(!styles.has(d)){const p=createTime("registerStyles",n.$tagName$);registerStyle(d,c,!!(n.$flags$&1)),p()}}e.$ancestorComponent$,(()=>scheduleUpdate(e,!0))()},fireConnectedCallback=t=>{},connectedCallback=t=>{if(!(plt.$flags$&1)){const e=getHostRef(t),n=e.$cmpMeta$,a=createTime("connectedCallback",n.$tagName$);e.$flags$&1?(addHostEventListeners(t,e,n.$listeners$),fireConnectedCallback(e.$lazyInstance$)):(e.$flags$|=1,n.$flags$&12&&setContentReference(t),n.$members$&&Object.entries(n.$members$).map(([o,[u]])=>{if(u&31&&t.hasOwnProperty(o)){const c=t[o];delete t[o],t[o]=c}}),initializeComponent(t,e,n)),a()}},setContentReference=t=>{const e=t["s-cr"]=doc.createComment("");e["s-cn"]=!0,t.insertBefore(e,t.firstChild)},disconnectedCallback=t=>{if(!(plt.$flags$&1)){const e=getHostRef(t);e.$rmListeners$&&(e.$rmListeners$.map(n=>n()),e.$rmListeners$=void 0)}},proxyCustomElement=(t,e)=>{const n={$flags$:e[0],$tagName$:e[1]};n.$members$=e[2],n.$listeners$=e[3],n.$watchers$=t.$watchers$,n.$attrsToReflect$=[];const a=t.prototype.connectedCallback,o=t.prototype.disconnectedCallback;return Object.assign(t.prototype,{__registerHost(){registerHost(this,n)},connectedCallback(){connectedCallback(this),a&&a.call(this)},disconnectedCallback(){disconnectedCallback(this),o&&o.call(this)},__attachShadow(){this.attachShadow({mode:"open",delegatesFocus:!!(n.$flags$&16)})}}),t.is=n.$tagName$,proxyComponent(t,n)},addHostEventListeners=(t,e,n,a)=>{n&&n.map(([o,u,c])=>{const d=getHostListenerTarget(t,o),p=hostListenerProxy(e,c),v=hostListenerOpts(o);plt.ael(d,u,p,v),(e.$rmListeners$=e.$rmListeners$||[]).push(()=>plt.rel(d,u,p,v))})},hostListenerProxy=(t,e)=>n=>{try{BUILD.lazyLoad||t.$hostElement$[e](n)}catch(a){consoleError(a)}},getHostListenerTarget=(t,e)=>e&4?doc:e&8?win:e&16?doc.body:t,hostListenerOpts=t=>supportsListenerOptions?{passive:(t&1)!==0,capture:(t&2)!==0}:(t&2)!==0,hostRefs=new WeakMap,getHostRef=t=>hostRefs.get(t),registerHost=(t,e)=>{const n={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};return addHostEventListeners(t,n,e.$listeners$),hostRefs.set(t,n)},isMemberInElement=(t,e)=>e in t,consoleError=(t,e)=>(0,console.error)(t,e),styles=new Map,modeResolutionChain=[],win=typeof window<"u"?window:{},doc=win.document||{head:{}},H=win.HTMLElement||class{},plt={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,n,a)=>t.addEventListener(e,n,a),rel:(t,e,n,a)=>t.removeEventListener(e,n,a),ce:(t,e)=>new CustomEvent(t,e)},setPlatformHelpers=t=>{Object.assign(plt,t)},supportsListenerOptions=(()=>{let t=!1;try{doc.addEventListener("e",null,Object.defineProperty({},"passive",{get(){t=!0}}))}catch{}return t})(),promiseResolve=t=>Promise.resolve(t),supportsConstructableStylesheets=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),queueDomReads=[],queueDomWrites=[],queueTask=(t,e)=>n=>{t.push(n),queuePending||(queuePending=!0,e&&plt.$flags$&4?nextTick$1(flush):plt.raf(flush))},consume=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(n){consoleError(n)}t.length=0},flush=()=>{consume(queueDomReads),consume(queueDomWrites),(queuePending=queueDomReads.length>0)&&plt.raf(flush)},nextTick$1=t=>promiseResolve().then(t),readTask=queueTask(queueDomReads,!1),writeTask=queueTask(queueDomWrites,!0);var Flipping$2={},utils$o={};/*  @license Rematrix v0.1.3

    Copyright (c) 2017 Fisssion LLC

    Permission is hereby granted, free of charge, to any person obtaining a copy
    of this software and associated documentation files (the "Software"), to deal
    in the Software without restriction, including without limitation the rights
    to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
    copies of the Software, and to permit persons to whom the Software is
    furnished to do so, subject to the following conditions:

    The above copyright notice and this permission notice shall be included in
    all copies or substantial portions of the Software.

    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
    IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
    FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
    AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
    LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
    OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
    THE SOFTWARE.
*/function format$1(t){if(t.constructor!==Array)throw new TypeError("Expected array.");if(t.length===16)return t;if(t.length===6){var e=identity$2();return e[0]=t[0],e[1]=t[1],e[4]=t[2],e[5]=t[3],e[12]=t[4],e[13]=t[5],e}throw new RangeError("Expected array with either 6 or 16 values.")}function identity$2(){for(var t=[],e=0;e<16;e++)e%5==0?t.push(1):t.push(0);return t}function inverse(t){var e=format$1(t),n=e[0]*e[5]-e[4]*e[1],a=e[0]*e[6]-e[4]*e[2],o=e[0]*e[7]-e[4]*e[3],u=e[1]*e[6]-e[5]*e[2],c=e[1]*e[7]-e[5]*e[3],d=e[2]*e[7]-e[6]*e[3],p=e[10]*e[15]-e[14]*e[11],v=e[9]*e[15]-e[13]*e[11],y=e[9]*e[14]-e[13]*e[10],b=e[8]*e[15]-e[12]*e[11],_=e[8]*e[14]-e[12]*e[10],w=e[8]*e[13]-e[12]*e[9],E=1/(n*p-a*v+o*y+u*b-c*_+d*w);if(isNaN(E)||E===1/0)throw new Error("Inverse determinant attempted to divide by zero.");return[(e[5]*p-e[6]*v+e[7]*y)*E,(-e[1]*p+e[2]*v-e[3]*y)*E,(e[13]*d-e[14]*c+e[15]*u)*E,(-e[9]*d+e[10]*c-e[11]*u)*E,(-e[4]*p+e[6]*b-e[7]*_)*E,(e[0]*p-e[2]*b+e[3]*_)*E,(-e[12]*d+e[14]*o-e[15]*a)*E,(e[8]*d-e[10]*o+e[11]*a)*E,(e[4]*v-e[5]*b+e[7]*w)*E,(-e[0]*v+e[1]*b-e[3]*w)*E,(e[12]*c-e[13]*o+e[15]*n)*E,(-e[8]*c+e[9]*o-e[11]*n)*E,(-e[4]*y+e[5]*_-e[6]*w)*E,(e[0]*y-e[1]*_+e[2]*w)*E,(-e[12]*u+e[13]*a-e[14]*n)*E,(e[8]*u-e[9]*a+e[10]*n)*E]}function multiply(t,e){for(var n=format$1(t),a=format$1(e),o=[],u=0;u<4;u++)for(var c=[n[u],n[u+4],n[u+8],n[u+12]],d=0;d<4;d++){var p=d*4,v=[a[p],a[p+1],a[p+2],a[p+3]],y=c[0]*v[0]+c[1]*v[1]+c[2]*v[2]+c[3]*v[3];o[u+p]=y}return o}function parse$1(t){if(typeof t=="string"){var e=t.match(/matrix(3d)?\(([^)]+)\)/);if(e){var n=e[2].split(", ").map(function(a){return parseFloat(a)});return format$1(n)}}return identity$2()}function rotateX(t){var e=Math.PI/180*t,n=identity$2();return n[5]=n[10]=Math.cos(e),n[6]=n[9]=Math.sin(e),n[9]*=-1,n}function rotateY(t){var e=Math.PI/180*t,n=identity$2();return n[0]=n[10]=Math.cos(e),n[2]=n[8]=Math.sin(e),n[2]*=-1,n}function rotateZ(t){var e=Math.PI/180*t,n=identity$2();return n[0]=n[5]=Math.cos(e),n[1]=n[4]=Math.sin(e),n[4]*=-1,n}function scale(t,e){var n=identity$2();return n[0]=t,n[5]=e||t,n}function scaleX(t){var e=identity$2();return e[0]=t,e}function scaleY(t){var e=identity$2();return e[5]=t,e}function scaleZ(t){var e=identity$2();return e[10]=t,e}function skew(t,e){var n=Math.PI/180*t,a=identity$2();if(a[4]=Math.tan(n),e){var o=Math.PI/180*e;a[1]=Math.tan(o)}return a}function skewX(t){var e=Math.PI/180*t,n=identity$2();return n[4]=Math.tan(e),n}function skewY(t){var e=Math.PI/180*t,n=identity$2();return n[1]=Math.tan(e),n}function translate(t,e){var n=identity$2();return n[12]=t,e&&(n[13]=e),n}function translateX(t){var e=identity$2();return e[12]=t,e}function translateY(t){var e=identity$2();return e[13]=t,e}function translateZ(t){var e=identity$2();return e[14]=t,e}const rematrix_es=Object.freeze(Object.defineProperty({__proto__:null,format:format$1,identity:identity$2,inverse,multiply,parse:parse$1,rotateX,rotateY,rotateZ,scale,scaleX,scaleY,scaleZ,skew,skewX,skewY,translate,translateX,translateY,translateZ},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(rematrix_es);var constants$1={};Object.defineProperty(constants$1,"__esModule",{value:!0});constants$1.FOLLOW_ATTR="data-flip-follow";constants$1.KEY_ATTR="data-flip-key";constants$1.STATE_ATTR="data-flip-state";constants$1.NO_DELTA={top:0,left:0,width:1,height:1};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=require$$0$1,n=constants$1;function a(w,E){var $={};return Object.keys(w).forEach(function(C){$[C]=E(w[C],C,w)}),$}t.mapValues=a;function o(w,E,$){var C={};return Object.keys(w||{}).forEach(function(P){C[P]=$(w[P],E[P],P)}),C}t.mapTwoValues=o;function u(w,E){return e.translate(w,E).join(",")}t.matrixTranslate=u;function c(w,E){return e.scale(w,E).join(",")}t.matrixScale=c;function d(){for(var w=[],E=0;E<arguments.length;E++)w[E]=arguments[E];return w.filter(function($){return!!$}).reduce(e.multiply).join(",")}t.matrixMultiply=d;function p(w,E){return["height","width","top","left"].indexOf(w)!==-1&&typeof E=="number"?E+"px":E}t.styleValue=p;function v(w,E){return typeof E=="function"?E(w):(E||0)*w}t.getStaggerDelay=v,t.identity=function(w){return w},t.noop=function(){},t.rect=function(w){var E=w.getBoundingClientRect(),$=E.top,C=E.left,P=E.width,z=E.height;return{top:$,left:C,width:P,height:z,get transform(){return getComputedStyle(w).transform||void 0}}};function y(w){var E=t.rect(w),$=E.width,C=E.height;return!($===0&&C===0)}t.isVisible=y;function b(w,E){return w?w.height?E.height?{top:w.top-E.top,left:w.left-E.left,width:w.width/E.width,height:w.height/E.height}:E:w:n.NO_DELTA}t.getDelta=b,t.deltaChanged=function(w){return!!w.top||!!w.left||w.width!==1||w.height!==1},t.boundsChanged=function(w,E){return!!(w.top-E.top||w.left-E.left||w.width-E.width||w.height-E.height)};function _(){var w={},E=[];return{on:function($,C){$==="*"?E.push(C):(w[$]||(w[$]=[])).push(C)},off:function($,C){$==="*"?E.splice(E.indexOf(C)>>>0,1):w[$]&&w[$].splice(w[$].indexOf(C)>>>0,1)},emit:function($,C){(w[$]||[]).slice().map(function(P){P(C)}),E.slice().map(function(P){P($,C)})}}}t.mitt=_})(utils$o);var mirror={},__assign$2=commonjsGlobal&&commonjsGlobal.__assign||Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t};Object.defineProperty(mirror,"__esModule",{value:!0});function mirrorPlugin(t,e){if(e!=="flip")return t;var n={};return Object.keys(t).forEach(function(a){var o=t[a],u=o.element||o.previous&&o.previous.element;if(u&&u.hasAttribute("data-flip-follow")){var c=u.getAttribute("data-flip-follow");if(c&&t[c])n[a]=__assign$2({},o,{delta:__assign$2({left:0,top:0},t[c].delta,{width:1,height:1})});else if(o.type==="ENTER"||o.type==="LEAVE"){for(var d=u.nextElementSibling;d&&(!d.hasAttribute("data-flip-key")||t[d.getAttribute("data-flip-key")].type!=="MOVE");)d=d.nextElementSibling;if(d){var p=t[d.getAttribute("data-flip-key")].delta;n[a]=__assign$2({},o,{delta:{left:p.left,top:p.top,width:1,height:1}})}}}}),Object.assign(t,n)}mirror.default=mirrorPlugin;var radius={};Object.defineProperty(radius,"__esModule",{value:!0});function radiusPlugin(t,e){return e==="read"&&Object.keys(t).forEach(function(n){var a=t[n],o=a.element;o&&(a.data.radius=getComputedStyle&&getComputedStyle(o).borderRadius||"0")}),t}radius.default=radiusPlugin;var __assign$1=commonjsGlobal&&commonjsGlobal.__assign||Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t};Object.defineProperty(Flipping$2,"__esModule",{value:!0});var utils_1=utils$o,constants_1=constants$1,mirror_1=mirror,radius_1=radius,active=function(){return!0},identity$1=function(t){return t},flipDatasetMap={flipKey:["key",identity$1],flipNoScale:["noScale",function(){return!0}]},getFlipData=function(t){if(!("dataset"in t))return{};var e=t.dataset,n={};return Object.keys(e).forEach(function(a){if(flipDatasetMap[a]){var o=flipDatasetMap[a],u=o[0],c=o[1];n[u]=c(e[a])}else a.indexOf("flip")===0&&(n[a[4].toLowerCase()+a.slice(5)]=e[a])}),n},createSelector=function(t,e){return e===void 0&&(e=constants_1.KEY_ATTR),typeof t=="string"?function(n){var a=n.querySelectorAll(t),o=[];return a.forEach(function(u){if(utils_1.isVisible(u)){var c=u.getAttribute(e);c&&o.push(u)}}),o}:t},Flipping$1=function(){function t(e){e===void 0&&(e={}),this.attribute=e.attribute||constants_1.KEY_ATTR,this.selector=createSelector(e.selector||"["+this.attribute+"]",this.attribute),this.active=e.active||active,this.activeSelector=e.activeSelector||utils_1.isVisible,this.getBounds=e.getBounds||utils_1.rect,this.getDelta=e.getDelta||utils_1.getDelta,this.parentElement=e.parent||document.documentElement,this.plugins=e.plugins||[mirror_1.default,radius_1.default],this.emitter=utils_1.mitt(),e.onRead&&this.on("read",e.onRead),e.onFlip&&this.on("flip",e.onFlip),e.onEnter&&this.on("enter",e.onEnter),e.onLeave&&this.on("leave",e.onLeave),this.states={}}return t.prototype.getRelativeBounds=function(e,n){return __assign$1({},n,{top:n.top-e.top,left:n.left-e.left})},t.prototype.selectActive=function(e){var n=this,a=this.selector(e),o=[];return a.forEach(function(u){if(n.activeSelector(u)){var c=u.getAttribute(n.attribute);c&&o.push(u)}}),o},t.prototype.findParent=function(e,n){n===void 0&&(n=this.parentElement);var a=e.getAttribute("data-flip-parent"),o=e.parentElement;if(a)for(;o&&o.getAttribute(this.attribute)!==a;)o=o.parentElement;else for(;o&&!o.hasAttribute(this.attribute);)o=o.parentElement;return o||n},t.prototype.dispatch=function(e,n){var a=this.plugins.reduce(function(o,u){return u(o,e)},n);this.emitter.emit(e,a)},t.prototype.on=function(e,n){this.emitter.on(e,n)},t.prototype.onFlip=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var a,o;e.length===2?(a=e[0],o=e[1]):o=e[0],this.emitter.on("flip",a?function(u){var c=u[a];c&&o(c)}:o)},t.prototype.read=function(e){e===void 0&&(e={}),this.flip(__assign$1({},e,{readOnly:!0}))},t.prototype.flip=function(e){var n=this;e===void 0&&(e={});var a=e.parent||this.parentElement,o=this.selectActive(a),u={};return o.forEach(function(c,d){var p=c.getAttribute(n.attribute);if(p){var v=getFlipData(c),y=n.findParent(c,a),b=y.getAttribute(n.attribute),_=b?u[b]:void 0,w=n.getBounds(y),E=n.states[p],$=E&&E.type!=="LEAVE",C=n.getRelativeBounds(w,n.getBounds(c)),P=$&&E&&E.bounds?n.getDelta(E.bounds,C):void 0,z={type:$?"MOVE":"ENTER",key:p,element:c,bounds:C,delta:P,start:Date.now(),animation:$?E.animation:void 0,index:d,previous:E?{type:E.type,bounds:E.bounds,animation:E.animation,element:E.element,data:E.data}:void 0,parent:_,data:v};n.states[p]=u[p]=z}}),e.readOnly?this.dispatch("read",u):(Object.keys(this.states).forEach(function(c,d){if(!u[c]){var p=n.states[c];n.states[c]=u[c]={type:"LEAVE",key:c,element:void 0,bounds:void 0,start:Date.now(),animation:void 0,delta:void 0,index:d,parent:void 0,previous:{type:p.type,bounds:p.bounds,animation:p.animation,element:p.element}}}}),this.dispatch("flip",u))},t.prototype.setAnimation=function(e,n){this.states[e].animation=n},t.prototype.wrap=function(e,n){var a=this;return n===void 0&&(n={}),function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];a.read(n);var c=e.apply(null,o);return a.flip(n),c}},t.prototype.progress=function(e,n){var a=this.states[e].delta;if(a)return t.progress(a,n)},t.progress=function(e,n){if(!e)return constants_1.NO_DELTA;var a=1-n;return{top:e.top*a,left:e.left*a,width:e.width*a,height:e.height*a}},t.rect=utils_1.rect,t.willScale=function(e){return!!(e&&e.element&&!e.element.hasAttribute("data-noflip")&&e.delta&&(e.delta.width!==1||e.delta.height!==1))},t.willMove=function(e){return!e||!e.delta?!1:e&&(e.delta.top!==0||e.delta.left!==0)},t}();Flipping$2.default=Flipping$1;var __extends=commonjsGlobal&&commonjsGlobal.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])};return function(e,n){t(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),__assign=commonjsGlobal&&commonjsGlobal.__assign||Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Flipping_1=Flipping$2;function styleVars(t,e,n){n===void 0&&(n="flip"),Object.keys(e).forEach(function(a){var o=e[a];o===void 0||!t||t.style.setProperty("--"+n+"-"+a,""+e[a])})}var flipStyle=function(t){return`
[`+t+`] {
  transition-property: transform;
  transition-duration: calc(var(--flip-active, 1) * 0.6s);
  transform-origin: top left;
  transform:
    translateX(calc(var(--flip-dx, 0) * 1px))
    translateY(calc(var(--flip-dy, 0) * 1px))
    scale(var(--flip-dw, 1), var(--flip-dh, 1));
}
`},matrixRegex=/matrix\(.*, .*, .*, .*, (.*), (.*)\)/,FlippingCSS=function(t){__extends(e,t);function e(){var n=t.call(this,{onFlip:function(a){Object.keys(a).forEach(function(o){var u=a[o];if(u.delta){var c=0,d=0;if(u.bounds&&u.bounds.transform){var p=u.bounds.transform.match(matrixRegex);p&&p.length===3&&(c=parseFloat(p[1]),d=parseFloat(p[2]))}styleVars(u.element,__assign({dx:u.delta.left+c,dy:u.delta.top+d,dw:u.delta.width,dh:u.delta.height},u.data&&u.data.noScale?{dw:1,dh:1}:void 0,{active:0}))}}),requestAnimationFrame(function(){requestAnimationFrame(function(){Object.keys(a).forEach(function(o){var u=a[o];u.bounds&&styleVars(u.element,{dx:0,dy:0,dw:1,dh:1,active:1})})})})}})||this;return n.injectStyle(),n}return e.prototype.injectStyle=function(){var n=document.createElement("style");n.innerHTML=flipStyle(this.attribute),document.querySelector("head").appendChild(n)},e}(Flipping_1.default),css=FlippingCSS;const Flipping=getDefaultExportFromCjs(css);var isPlainObj=t=>{if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype};const isOptionObject=isPlainObj,{hasOwnProperty:hasOwnProperty$2}=Object.prototype,{propertyIsEnumerable}=Object,defineProperty=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0}),globalThis$1=commonjsGlobal,defaultMergeOptions={concatArrays:!1,ignoreUndefined:!1},getEnumerableOwnPropertyKeys=t=>{const e=[];for(const n in t)hasOwnProperty$2.call(t,n)&&e.push(n);if(Object.getOwnPropertySymbols){const n=Object.getOwnPropertySymbols(t);for(const a of n)propertyIsEnumerable.call(t,a)&&e.push(a)}return e};function clone(t){return Array.isArray(t)?cloneArray(t):isOptionObject(t)?cloneOptionObject(t):t}function cloneArray(t){const e=t.slice(0,0);return getEnumerableOwnPropertyKeys(t).forEach(n=>{defineProperty(e,n,clone(t[n]))}),e}function cloneOptionObject(t){const e=Object.getPrototypeOf(t)===null?Object.create(null):{};return getEnumerableOwnPropertyKeys(t).forEach(n=>{defineProperty(e,n,clone(t[n]))}),e}const mergeKeys=(t,e,n,a)=>(n.forEach(o=>{typeof e[o]>"u"&&a.ignoreUndefined||(o in t&&t[o]!==Object.getPrototypeOf(t)?defineProperty(t,o,merge$3(t[o],e[o],a)):defineProperty(t,o,clone(e[o])))}),t),concatArrays=(t,e,n)=>{let a=t.slice(0,0),o=0;return[t,e].forEach(u=>{const c=[];for(let d=0;d<u.length;d++)hasOwnProperty$2.call(u,d)&&(c.push(String(d)),u===t?defineProperty(a,o++,u[d]):defineProperty(a,o++,clone(u[d])));a=mergeKeys(a,u,getEnumerableOwnPropertyKeys(u).filter(d=>!c.includes(d)),n)}),a};function merge$3(t,e,n){return n.concatArrays&&Array.isArray(t)&&Array.isArray(e)?concatArrays(t,e,n):!isOptionObject(e)||!isOptionObject(t)?clone(e):mergeKeys(t,e,getEnumerableOwnPropertyKeys(e),n)}var mergeOptions=function(...t){const e=merge$3(clone(defaultMergeOptions),this!==globalThis$1&&this||{},defaultMergeOptions);let n={_:{}};for(const a of t)if(a!==void 0){if(!isOptionObject(a))throw new TypeError("`"+a+"` is not an Option Object");n=merge$3(n,{_:a},e)}return n._};const mergeOptions$1=getDefaultExportFromCjs(mergeOptions);var browser$c={exports:{}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var t=1e3,e=t*60,n=e*60,a=n*24,o=a*7,u=a*365.25;ms=function(y,b){b=b||{};var _=typeof y;if(_==="string"&&y.length>0)return c(y);if(_==="number"&&isFinite(y))return b.long?p(y):d(y);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(y))};function c(y){if(y=String(y),!(y.length>100)){var b=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(y);if(b){var _=parseFloat(b[1]),w=(b[2]||"ms").toLowerCase();switch(w){case"years":case"year":case"yrs":case"yr":case"y":return _*u;case"weeks":case"week":case"w":return _*o;case"days":case"day":case"d":return _*a;case"hours":case"hour":case"hrs":case"hr":case"h":return _*n;case"minutes":case"minute":case"mins":case"min":case"m":return _*e;case"seconds":case"second":case"secs":case"sec":case"s":return _*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return _;default:return}}}}function d(y){var b=Math.abs(y);return b>=a?Math.round(y/a)+"d":b>=n?Math.round(y/n)+"h":b>=e?Math.round(y/e)+"m":b>=t?Math.round(y/t)+"s":y+"ms"}function p(y){var b=Math.abs(y);return b>=a?v(y,b,a,"day"):b>=n?v(y,b,n,"hour"):b>=e?v(y,b,e,"minute"):b>=t?v(y,b,t,"second"):y+" ms"}function v(y,b,_,w){var E=b>=_*1.5;return Math.round(y/_)+" "+w+(E?"s":"")}return ms}function setup(t){n.debug=n,n.default=n,n.coerce=p,n.disable=u,n.enable=o,n.enabled=c,n.humanize=requireMs(),n.destroy=v,Object.keys(t).forEach(y=>{n[y]=t[y]}),n.names=[],n.skips=[],n.formatters={};function e(y){let b=0;for(let _=0;_<y.length;_++)b=(b<<5)-b+y.charCodeAt(_),b|=0;return n.colors[Math.abs(b)%n.colors.length]}n.selectColor=e;function n(y){let b,_=null,w,E;function $(...C){if(!$.enabled)return;const P=$,z=Number(new Date),J=z-(b||z);P.diff=J,P.prev=b,P.curr=z,b=z,C[0]=n.coerce(C[0]),typeof C[0]!="string"&&C.unshift("%O");let X=0;C[0]=C[0].replace(/%([a-zA-Z%])/g,(de,xe)=>{if(de==="%%")return"%";X++;const $e=n.formatters[xe];if(typeof $e=="function"){const Pe=C[X];de=$e.call(P,Pe),C.splice(X,1),X--}return de}),n.formatArgs.call(P,C),(P.log||n.log).apply(P,C)}return $.namespace=y,$.useColors=n.useColors(),$.color=n.selectColor(y),$.extend=a,$.destroy=n.destroy,Object.defineProperty($,"enabled",{enumerable:!0,configurable:!1,get:()=>_!==null?_:(w!==n.namespaces&&(w=n.namespaces,E=n.enabled(y)),E),set:C=>{_=C}}),typeof n.init=="function"&&n.init($),$}function a(y,b){const _=n(this.namespace+(typeof b>"u"?":":b)+y);return _.log=this.log,_}function o(y){n.save(y),n.namespaces=y,n.names=[],n.skips=[];let b;const _=(typeof y=="string"?y:"").split(/[\s,]+/),w=_.length;for(b=0;b<w;b++)_[b]&&(y=_[b].replace(/\*/g,".*?"),y[0]==="-"?n.skips.push(new RegExp("^"+y.slice(1)+"$")):n.names.push(new RegExp("^"+y+"$")))}function u(){const y=[...n.names.map(d),...n.skips.map(d).map(b=>"-"+b)].join(",");return n.enable(""),y}function c(y){if(y[y.length-1]==="*")return!0;let b,_;for(b=0,_=n.skips.length;b<_;b++)if(n.skips[b].test(y))return!1;for(b=0,_=n.names.length;b<_;b++)if(n.names[b].test(y))return!0;return!1}function d(y){return y.toString().substring(2,y.toString().length-2).replace(/\.\*\?$/,"*")}function p(y){return y instanceof Error?y.stack||y.message:y}function v(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var common$7=setup;(function(t,e){e.formatArgs=a,e.save=o,e.load=u,e.useColors=n,e.storage=c(),e.destroy=(()=>{let p=!1;return()=>{p||(p=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function a(p){if(p[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+p[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const v="color: "+this.color;p.splice(1,0,v,"color: inherit");let y=0,b=0;p[0].replace(/%[a-zA-Z%]/g,_=>{_!=="%%"&&(y++,_==="%c"&&(b=y))}),p.splice(b,0,v)}e.log=console.debug||console.log||(()=>{});function o(p){try{p?e.storage.setItem("debug",p):e.storage.removeItem("debug")}catch{}}function u(){let p;try{p=e.storage.getItem("debug")}catch{}return!p&&typeof process$1<"u"&&"env"in process$1&&(p={}.DEBUG),p}function c(){try{return localStorage}catch{}}t.exports=common$7(e);const{formatters:d}=t.exports;d.j=function(p){try{return JSON.stringify(p)}catch(v){return"[UnexpectedJSONParseError]: "+v.message}}})(browser$c,browser$c.exports);var browserExports=browser$c.exports;const debug=getDefaultExportFromCjs(browserExports);function assign(t,e){for(const n in e)Object.defineProperty(t,n,{value:e[n],enumerable:!0,configurable:!0});return t}function createError(t,e,n){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");n||(n={}),typeof e=="object"&&(n=e,e=""),e&&(n.code=e);try{return assign(t,n)}catch{n.message=t.message,n.stack=t.stack;const o=function(){};return o.prototype=Object.create(Object.getPrototypeOf(t)),assign(new o,n)}}var errCode=createError;const errcode=getDefaultExportFromCjs(errCode);var indexMinimal={},minimal$1={},aspromise=asPromise;function asPromise(t,e){for(var n=new Array(arguments.length-1),a=0,o=2,u=!0;o<arguments.length;)n[a++]=arguments[o++];return new Promise(function(d,p){n[a]=function(y){if(u)if(u=!1,y)p(y);else{for(var b=new Array(arguments.length-1),_=0;_<b.length;)b[_++]=arguments[_];d.apply(null,b)}};try{t.apply(e||null,n)}catch(v){u&&(u=!1,p(v))}})}var base64$1={};(function(t){var e=t;e.length=function(d){var p=d.length;if(!p)return 0;for(var v=0;--p%4>1&&d.charAt(p)==="=";)++v;return Math.ceil(d.length*3)/4-v};for(var n=new Array(64),a=new Array(123),o=0;o<64;)a[n[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;e.encode=function(d,p,v){for(var y=null,b=[],_=0,w=0,E;p<v;){var $=d[p++];switch(w){case 0:b[_++]=n[$>>2],E=($&3)<<4,w=1;break;case 1:b[_++]=n[E|$>>4],E=($&15)<<2,w=2;break;case 2:b[_++]=n[E|$>>6],b[_++]=n[$&63],w=0;break}_>8191&&((y||(y=[])).push(String.fromCharCode.apply(String,b)),_=0)}return w&&(b[_++]=n[E],b[_++]=61,w===1&&(b[_++]=61)),y?(_&&y.push(String.fromCharCode.apply(String,b.slice(0,_))),y.join("")):String.fromCharCode.apply(String,b.slice(0,_))};var u="invalid encoding";e.decode=function(d,p,v){for(var y=v,b=0,_,w=0;w<d.length;){var E=d.charCodeAt(w++);if(E===61&&b>1)break;if((E=a[E])===void 0)throw Error(u);switch(b){case 0:_=E,b=1;break;case 1:p[v++]=_<<2|(E&48)>>4,_=E,b=2;break;case 2:p[v++]=(_&15)<<4|(E&60)>>2,_=E,b=3;break;case 3:p[v++]=(_&3)<<6|E,b=0;break}}if(b===1)throw Error(u);return v-y},e.test=function(d){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(d)}})(base64$1);var eventemitter=EventEmitter$4;function EventEmitter$4(){this._listeners={}}EventEmitter$4.prototype.on=function(e,n,a){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:n,ctx:a||this}),this};EventEmitter$4.prototype.off=function(e,n){if(e===void 0)this._listeners={};else if(n===void 0)this._listeners[e]=[];else for(var a=this._listeners[e],o=0;o<a.length;)a[o].fn===n?a.splice(o,1):++o;return this};EventEmitter$4.prototype.emit=function(e){var n=this._listeners[e];if(n){for(var a=[],o=1;o<arguments.length;)a.push(arguments[o++]);for(o=0;o<n.length;)n[o].fn.apply(n[o++].ctx,a)}return this};var float=factory(factory);function factory(t){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),n=new Uint8Array(e.buffer),a=n[3]===128;function o(p,v,y){e[0]=p,v[y]=n[0],v[y+1]=n[1],v[y+2]=n[2],v[y+3]=n[3]}function u(p,v,y){e[0]=p,v[y]=n[3],v[y+1]=n[2],v[y+2]=n[1],v[y+3]=n[0]}t.writeFloatLE=a?o:u,t.writeFloatBE=a?u:o;function c(p,v){return n[0]=p[v],n[1]=p[v+1],n[2]=p[v+2],n[3]=p[v+3],e[0]}function d(p,v){return n[3]=p[v],n[2]=p[v+1],n[1]=p[v+2],n[0]=p[v+3],e[0]}t.readFloatLE=a?c:d,t.readFloatBE=a?d:c}():function(){function e(a,o,u,c){var d=o<0?1:0;if(d&&(o=-o),o===0)a(1/o>0?0:2147483648,u,c);else if(isNaN(o))a(2143289344,u,c);else if(o>34028234663852886e22)a((d<<31|2139095040)>>>0,u,c);else if(o<11754943508222875e-54)a((d<<31|Math.round(o/1401298464324817e-60))>>>0,u,c);else{var p=Math.floor(Math.log(o)/Math.LN2),v=Math.round(o*Math.pow(2,-p)*8388608)&8388607;a((d<<31|p+127<<23|v)>>>0,u,c)}}t.writeFloatLE=e.bind(null,writeUintLE),t.writeFloatBE=e.bind(null,writeUintBE);function n(a,o,u){var c=a(o,u),d=(c>>31)*2+1,p=c>>>23&255,v=c&8388607;return p===255?v?NaN:d*(1/0):p===0?d*1401298464324817e-60*v:d*Math.pow(2,p-150)*(v+8388608)}t.readFloatLE=n.bind(null,readUintLE),t.readFloatBE=n.bind(null,readUintBE)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),n=new Uint8Array(e.buffer),a=n[7]===128;function o(p,v,y){e[0]=p,v[y]=n[0],v[y+1]=n[1],v[y+2]=n[2],v[y+3]=n[3],v[y+4]=n[4],v[y+5]=n[5],v[y+6]=n[6],v[y+7]=n[7]}function u(p,v,y){e[0]=p,v[y]=n[7],v[y+1]=n[6],v[y+2]=n[5],v[y+3]=n[4],v[y+4]=n[3],v[y+5]=n[2],v[y+6]=n[1],v[y+7]=n[0]}t.writeDoubleLE=a?o:u,t.writeDoubleBE=a?u:o;function c(p,v){return n[0]=p[v],n[1]=p[v+1],n[2]=p[v+2],n[3]=p[v+3],n[4]=p[v+4],n[5]=p[v+5],n[6]=p[v+6],n[7]=p[v+7],e[0]}function d(p,v){return n[7]=p[v],n[6]=p[v+1],n[5]=p[v+2],n[4]=p[v+3],n[3]=p[v+4],n[2]=p[v+5],n[1]=p[v+6],n[0]=p[v+7],e[0]}t.readDoubleLE=a?c:d,t.readDoubleBE=a?d:c}():function(){function e(a,o,u,c,d,p){var v=c<0?1:0;if(v&&(c=-c),c===0)a(0,d,p+o),a(1/c>0?0:2147483648,d,p+u);else if(isNaN(c))a(0,d,p+o),a(2146959360,d,p+u);else if(c>17976931348623157e292)a(0,d,p+o),a((v<<31|2146435072)>>>0,d,p+u);else{var y;if(c<22250738585072014e-324)y=c/5e-324,a(y>>>0,d,p+o),a((v<<31|y/4294967296)>>>0,d,p+u);else{var b=Math.floor(Math.log(c)/Math.LN2);b===1024&&(b=1023),y=c*Math.pow(2,-b),a(y*4503599627370496>>>0,d,p+o),a((v<<31|b+1023<<20|y*1048576&1048575)>>>0,d,p+u)}}}t.writeDoubleLE=e.bind(null,writeUintLE,0,4),t.writeDoubleBE=e.bind(null,writeUintBE,4,0);function n(a,o,u,c,d){var p=a(c,d+o),v=a(c,d+u),y=(v>>31)*2+1,b=v>>>20&2047,_=4294967296*(v&1048575)+p;return b===2047?_?NaN:y*(1/0):b===0?y*5e-324*_:y*Math.pow(2,b-1075)*(_+4503599627370496)}t.readDoubleLE=n.bind(null,readUintLE,0,4),t.readDoubleBE=n.bind(null,readUintBE,4,0)}(),t}function writeUintLE(t,e,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}function writeUintBE(t,e,n){e[n]=t>>>24,e[n+1]=t>>>16&255,e[n+2]=t>>>8&255,e[n+3]=t&255}function readUintLE(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function readUintBE(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}var utf8$2={};(function(t){var e=t;e.length=function(a){for(var o=0,u=0,c=0;c<a.length;++c)u=a.charCodeAt(c),u<128?o+=1:u<2048?o+=2:(u&64512)===55296&&(a.charCodeAt(c+1)&64512)===56320?(++c,o+=4):o+=3;return o},e.read=function(a,o,u){var c=u-o;if(c<1)return"";for(var d=null,p=[],v=0,y;o<u;)y=a[o++],y<128?p[v++]=y:y>191&&y<224?p[v++]=(y&31)<<6|a[o++]&63:y>239&&y<365?(y=((y&7)<<18|(a[o++]&63)<<12|(a[o++]&63)<<6|a[o++]&63)-65536,p[v++]=55296+(y>>10),p[v++]=56320+(y&1023)):p[v++]=(y&15)<<12|(a[o++]&63)<<6|a[o++]&63,v>8191&&((d||(d=[])).push(String.fromCharCode.apply(String,p)),v=0);return d?(v&&d.push(String.fromCharCode.apply(String,p.slice(0,v))),d.join("")):String.fromCharCode.apply(String,p.slice(0,v))},e.write=function(a,o,u){for(var c=u,d,p,v=0;v<a.length;++v)d=a.charCodeAt(v),d<128?o[u++]=d:d<2048?(o[u++]=d>>6|192,o[u++]=d&63|128):(d&64512)===55296&&((p=a.charCodeAt(v+1))&64512)===56320?(d=65536+((d&1023)<<10)+(p&1023),++v,o[u++]=d>>18|240,o[u++]=d>>12&63|128,o[u++]=d>>6&63|128,o[u++]=d&63|128):(o[u++]=d>>12|224,o[u++]=d>>6&63|128,o[u++]=d&63|128);return u-c}})(utf8$2);var pool_1=pool;function pool(t,e,n){var a=n||8192,o=a>>>1,u=null,c=a;return function(p){if(p<1||p>o)return t(p);c+p>a&&(u=t(a),c=0);var v=e.call(u,c,c+=p);return c&7&&(c=(c|7)+1),v}}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=e;var t=requireMinimal();function e(u,c){this.lo=u>>>0,this.hi=c>>>0}var n=e.zero=new e(0,0);n.toNumber=function(){return 0},n.zzEncode=n.zzDecode=function(){return this},n.length=function(){return 1};var a=e.zeroHash="\0\0\0\0\0\0\0\0";e.fromNumber=function(c){if(c===0)return n;var d=c<0;d&&(c=-c);var p=c>>>0,v=(c-p)/4294967296>>>0;return d&&(v=~v>>>0,p=~p>>>0,++p>4294967295&&(p=0,++v>4294967295&&(v=0))),new e(p,v)},e.from=function(c){if(typeof c=="number")return e.fromNumber(c);if(t.isString(c))if(t.Long)c=t.Long.fromString(c);else return e.fromNumber(parseInt(c,10));return c.low||c.high?new e(c.low>>>0,c.high>>>0):n},e.prototype.toNumber=function(c){if(!c&&this.hi>>>31){var d=~this.lo+1>>>0,p=~this.hi>>>0;return d||(p=p+1>>>0),-(d+p*4294967296)}return this.lo+this.hi*4294967296},e.prototype.toLong=function(c){return t.Long?new t.Long(this.lo|0,this.hi|0,!!c):{low:this.lo|0,high:this.hi|0,unsigned:!!c}};var o=String.prototype.charCodeAt;return e.fromHash=function(c){return c===a?n:new e((o.call(c,0)|o.call(c,1)<<8|o.call(c,2)<<16|o.call(c,3)<<24)>>>0,(o.call(c,4)|o.call(c,5)<<8|o.call(c,6)<<16|o.call(c,7)<<24)>>>0)},e.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},e.prototype.zzEncode=function(){var c=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^c)>>>0,this.lo=(this.lo<<1^c)>>>0,this},e.prototype.zzDecode=function(){var c=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^c)>>>0,this.hi=(this.hi>>>1^c)>>>0,this},e.prototype.length=function(){var c=this.lo,d=(this.lo>>>28|this.hi<<4)>>>0,p=this.hi>>>24;return p===0?d===0?c<16384?c<128?1:2:c<2097152?3:4:d<16384?d<128?5:6:d<2097152?7:8:p<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(t){var e=t;e.asPromise=aspromise,e.base64=base64$1,e.EventEmitter=eventemitter,e.float=float,e.inquire=inquire_1,e.utf8=utf8$2,e.pool=pool_1,e.LongBits=requireLongbits(),e.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),e.global=e.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal,e.emptyArray=Object.freeze?Object.freeze([]):[],e.emptyObject=Object.freeze?Object.freeze({}):{},e.isInteger=Number.isInteger||function(u){return typeof u=="number"&&isFinite(u)&&Math.floor(u)===u},e.isString=function(u){return typeof u=="string"||u instanceof String},e.isObject=function(u){return u&&typeof u=="object"},e.isset=e.isSet=function(u,c){var d=u[c];return d!=null&&u.hasOwnProperty(c)?typeof d!="object"||(Array.isArray(d)?d.length:Object.keys(d).length)>0:!1},e.Buffer=function(){try{var o=e.inquire("buffer").Buffer;return o.prototype.utf8Write?o:null}catch{return null}}(),e._Buffer_from=null,e._Buffer_allocUnsafe=null,e.newBuffer=function(u){return typeof u=="number"?e.Buffer?e._Buffer_allocUnsafe(u):new e.Array(u):e.Buffer?e._Buffer_from(u):typeof Uint8Array>"u"?u:new Uint8Array(u)},e.Array=typeof Uint8Array<"u"?Uint8Array:Array,e.Long=e.global.dcodeIO&&e.global.dcodeIO.Long||e.global.Long||e.inquire("long"),e.key2Re=/^true|false|0|1$/,e.key32Re=/^-?(?:0|[1-9][0-9]*)$/,e.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,e.longToHash=function(u){return u?e.LongBits.from(u).toHash():e.LongBits.zeroHash},e.longFromHash=function(u,c){var d=e.LongBits.fromHash(u);return e.Long?e.Long.fromBits(d.lo,d.hi,c):d.toNumber(!!c)};function n(o,u,c){for(var d=Object.keys(u),p=0;p<d.length;++p)(o[d[p]]===void 0||!c)&&(o[d[p]]=u[d[p]]);return o}e.merge=n,e.lcFirst=function(u){return u.charAt(0).toLowerCase()+u.substring(1)};function a(o){function u(c,d){if(!(this instanceof u))return new u(c,d);Object.defineProperty(this,"message",{get:function(){return c}}),Error.captureStackTrace?Error.captureStackTrace(this,u):Object.defineProperty(this,"stack",{value:new Error().stack||""}),d&&n(this,d)}return u.prototype=Object.create(Error.prototype,{constructor:{value:u,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return o},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),u}e.newError=a,e.ProtocolError=a("ProtocolError"),e.oneOfGetter=function(u){for(var c={},d=0;d<u.length;++d)c[u[d]]=1;return function(){for(var p=Object.keys(this),v=p.length-1;v>-1;--v)if(c[p[v]]===1&&this[p[v]]!==void 0&&this[p[v]]!==null)return p[v]}},e.oneOfSetter=function(u){return function(c){for(var d=0;d<u.length;++d)u[d]!==c&&delete this[u[d]]}},e.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},e._configure=function(){var o=e.Buffer;if(!o){e._Buffer_from=e._Buffer_allocUnsafe=null;return}e._Buffer_from=o.from!==Uint8Array.from&&o.from||function(c,d){return new o(c,d)},e._Buffer_allocUnsafe=o.allocUnsafe||function(c){return new o(c)}}}(minimal$1)),minimal$1}var writer=Writer$1,util$5=requireMinimal(),BufferWriter$1,LongBits$1=util$5.LongBits,base64=util$5.base64,utf8$1=util$5.utf8;function Op(t,e,n){this.fn=t,this.len=e,this.next=void 0,this.val=n}function noop$2(){}function State(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function Writer$1(){this.len=0,this.head=new Op(noop$2,0,0),this.tail=this.head,this.states=null}var create$5=function t(){return util$5.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$5();Writer$1.alloc=function t(e){return new util$5.Array(e)};util$5.Array!==Array&&(Writer$1.alloc=util$5.pool(Writer$1.alloc,util$5.Array.prototype.subarray));Writer$1.prototype._push=function t(e,n,a){return this.tail=this.tail.next=new Op(e,n,a),this.len+=n,this};function writeByte(t,e,n){e[n]=t&255}function writeVarint32(t,e,n){for(;t>127;)e[n++]=t&127|128,t>>>=7;e[n]=t}function VarintOp(t,e){this.len=t,this.next=void 0,this.val=e}VarintOp.prototype=Object.create(Op.prototype);VarintOp.prototype.fn=writeVarint32;Writer$1.prototype.uint32=function t(e){return this.len+=(this.tail=this.tail.next=new VarintOp((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};Writer$1.prototype.int32=function t(e){return e<0?this._push(writeVarint64,10,LongBits$1.fromNumber(e)):this.uint32(e)};Writer$1.prototype.sint32=function t(e){return this.uint32((e<<1^e>>31)>>>0)};function writeVarint64(t,e,n){for(;t.hi;)e[n++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[n++]=t.lo&127|128,t.lo=t.lo>>>7;e[n++]=t.lo}Writer$1.prototype.uint64=function t(e){var n=LongBits$1.from(e);return this._push(writeVarint64,n.length(),n)};Writer$1.prototype.int64=Writer$1.prototype.uint64;Writer$1.prototype.sint64=function t(e){var n=LongBits$1.from(e).zzEncode();return this._push(writeVarint64,n.length(),n)};Writer$1.prototype.bool=function t(e){return this._push(writeByte,1,e?1:0)};function writeFixed32(t,e,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}Writer$1.prototype.fixed32=function t(e){return this._push(writeFixed32,4,e>>>0)};Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32;Writer$1.prototype.fixed64=function t(e){var n=LongBits$1.from(e);return this._push(writeFixed32,4,n.lo)._push(writeFixed32,4,n.hi)};Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64;Writer$1.prototype.float=function t(e){return this._push(util$5.float.writeFloatLE,4,e)};Writer$1.prototype.double=function t(e){return this._push(util$5.float.writeDoubleLE,8,e)};var writeBytes=util$5.Array.prototype.set?function t(e,n,a){n.set(e,a)}:function t(e,n,a){for(var o=0;o<e.length;++o)n[a+o]=e[o]};Writer$1.prototype.bytes=function t(e){var n=e.length>>>0;if(!n)return this._push(writeByte,1,0);if(util$5.isString(e)){var a=Writer$1.alloc(n=base64.length(e));base64.decode(e,a,0),e=a}return this.uint32(n)._push(writeBytes,n,e)};Writer$1.prototype.string=function t(e){var n=utf8$1.length(e);return n?this.uint32(n)._push(utf8$1.write,n,e):this._push(writeByte,1,0)};Writer$1.prototype.fork=function t(){return this.states=new State(this),this.head=this.tail=new Op(noop$2,0,0),this.len=0,this};Writer$1.prototype.reset=function t(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop$2,0,0),this.len=0),this};Writer$1.prototype.ldelim=function t(){var e=this.head,n=this.tail,a=this.len;return this.reset().uint32(a),a&&(this.tail.next=e.next,this.tail=n,this.len+=a),this};Writer$1.prototype.finish=function t(){for(var e=this.head.next,n=this.constructor.alloc(this.len),a=0;e;)e.fn(e.val,n,a),a+=e.len,e=e.next;return n};Writer$1._configure=function(t){BufferWriter$1=t,Writer$1.create=create$5(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$4=requireMinimal();function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$4._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$4.Buffer&&util$4.Buffer.prototype instanceof Uint8Array&&util$4.Buffer.prototype.set.name==="set"?function(e,n,a){n.set(e,a)}:function(e,n,a){if(e.copy)e.copy(n,a,0,e.length);else for(var o=0;o<e.length;)n[a++]=e[o++]}};BufferWriter.prototype.bytes=function t(e){util$4.isString(e)&&(e=util$4._Buffer_from(e,"base64"));var n=e.length>>>0;return this.uint32(n),n&&this._push(BufferWriter.writeBytesBuffer,n,e),this};function writeStringBuffer(t,e,n){t.length<40?util$4.utf8.write(t,e,n):e.utf8Write?e.utf8Write(t,n):e.write(t,n)}BufferWriter.prototype.string=function t(e){var n=util$4.Buffer.byteLength(e);return this.uint32(n),n&&this._push(writeStringBuffer,n,e),this};BufferWriter._configure();var reader=Reader$1,util$3=requireMinimal(),BufferReader$1,LongBits=util$3.LongBits,utf8=util$3.utf8;function indexOutOfRange(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function Reader$1(t){this.buf=t,this.pos=0,this.len=t.length}var create_array=typeof Uint8Array<"u"?function t(e){if(e instanceof Uint8Array||Array.isArray(e))return new Reader$1(e);throw Error("illegal buffer")}:function t(e){if(Array.isArray(e))return new Reader$1(e);throw Error("illegal buffer")},create$4=function t(){return util$3.Buffer?function(n){return(Reader$1.create=function(o){return util$3.Buffer.isBuffer(o)?new BufferReader$1(o):create_array(o)})(n)}:create_array};Reader$1.create=create$4();Reader$1.prototype._slice=util$3.Array.prototype.subarray||util$3.Array.prototype.slice;Reader$1.prototype.uint32=function t(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return e}}();Reader$1.prototype.int32=function t(){return this.uint32()|0};Reader$1.prototype.sint32=function t(){var e=this.uint32();return e>>>1^-(e&1)|0};function readLongVarint(){var t=new LongBits(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw indexOutOfRange(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw indexOutOfRange(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function t(){return this.uint32()!==0};function readFixed32_end(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}Reader$1.prototype.fixed32=function t(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)};Reader$1.prototype.sfixed32=function t(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function t(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var e=util$3.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};Reader$1.prototype.double=function t(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var e=util$3.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};Reader$1.prototype.bytes=function t(){var e=this.uint32(),n=this.pos,a=this.pos+e;if(a>this.len)throw indexOutOfRange(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(n,a):n===a?new this.buf.constructor(0):this._slice.call(this.buf,n,a)};Reader$1.prototype.string=function t(){var e=this.bytes();return utf8.read(e,0,e.length)};Reader$1.prototype.skip=function t(e){if(typeof e=="number"){if(this.pos+e>this.len)throw indexOutOfRange(this,e);this.pos+=e}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this};Reader$1.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!==4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};Reader$1._configure=function(t){BufferReader$1=t,Reader$1.create=create$4(),BufferReader$1._configure();var e=util$3.Long?"toLong":"toNumber";util$3.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[e](!1)},uint64:function(){return readLongVarint.call(this)[e](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[e](!1)},fixed64:function(){return readFixed64.call(this)[e](!0)},sfixed64:function(){return readFixed64.call(this)[e](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$2=requireMinimal();function BufferReader(t){Reader.call(this,t)}BufferReader._configure=function(){util$2.Buffer&&(BufferReader.prototype._slice=util$2.Buffer.prototype.slice)};BufferReader.prototype.string=function t(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};BufferReader._configure();var rpc={},service=Service,util$1=requireMinimal();(Service.prototype=Object.create(util$1.EventEmitter.prototype)).constructor=Service;function Service(t,e,n){if(typeof t!="function")throw TypeError("rpcImpl must be a function");util$1.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=!!e,this.responseDelimited=!!n}Service.prototype.rpcCall=function t(e,n,a,o,u){if(!o)throw TypeError("request must be specified");var c=this;if(!u)return util$1.asPromise(t,c,e,n,a,o);if(!c.rpcImpl){setTimeout(function(){u(Error("already ended"))},0);return}try{return c.rpcImpl(e,n[c.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(p,v){if(p)return c.emit("error",p,e),u(p);if(v===null){c.end(!0);return}if(!(v instanceof a))try{v=a[c.responseDelimited?"decodeDelimited":"decode"](v)}catch(y){return c.emit("error",y,e),u(y)}return c.emit("data",v,e),u(null,v)})}catch(d){c.emit("error",d,e),setTimeout(function(){u(d)},0);return}};Service.prototype.end=function t(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};(function(t){var e=t;e.Service=service})(rpc);var roots={};(function(t){var e=t;e.build="minimal",e.Writer=writer,e.BufferWriter=writer_buffer,e.Reader=reader,e.BufferReader=reader_buffer,e.util=requireMinimal(),e.rpc=rpc,e.roots=roots,e.configure=n;function n(){e.util._configure(),e.Writer._configure(e.BufferWriter),e.Reader._configure(e.BufferReader)}n()})(indexMinimal);var minimal=indexMinimal;const $protobuf=getDefaultExportFromCjs(minimal),typeofs=["string","number","bigint","symbol"],objectTypeNames=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function is(t){if(t===null)return"null";if(t===void 0)return"undefined";if(t===!0||t===!1)return"boolean";const e=typeof t;if(typeofs.includes(e))return e;if(e==="function")return"Function";if(Array.isArray(t))return"Array";if(isBuffer$1(t))return"Buffer";const n=getObjectType(t);return n||"Object"}function isBuffer$1(t){return t&&t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer.call(null,t)}function getObjectType(t){const e=Object.prototype.toString.call(t).slice(8,-1);if(objectTypeNames.includes(e))return e}class Type{constructor(e,n,a){this.major=e,this.majorEncoded=e<<5,this.name=n,this.terminal=a}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}Type.uint=new Type(0,"uint",!0);Type.negint=new Type(1,"negint",!0);Type.bytes=new Type(2,"bytes",!0);Type.string=new Type(3,"string",!0);Type.array=new Type(4,"array",!1);Type.map=new Type(5,"map",!1);Type.tag=new Type(6,"tag",!1);Type.float=new Type(7,"float",!0);Type.false=new Type(7,"false",!0);Type.true=new Type(7,"true",!0);Type.null=new Type(7,"null",!0);Type.undefined=new Type(7,"undefined",!0);Type.break=new Type(7,"break",!0);class Token{constructor(e,n,a){this.type=e,this.value=n,this.encodedLength=a,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const useBuffer=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",textDecoder$2=new TextDecoder,textEncoder$4=new TextEncoder;function isBuffer(t){return useBuffer&&globalThis.Buffer.isBuffer(t)}function asU8A(t){return t instanceof Uint8Array?isBuffer(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t:Uint8Array.from(t)}const toString$5=useBuffer?(t,e,n)=>n-e>64?globalThis.Buffer.from(t.subarray(e,n)).toString("utf8"):utf8Slice(t,e,n):(t,e,n)=>n-e>64?textDecoder$2.decode(t.subarray(e,n)):utf8Slice(t,e,n),fromString$5=useBuffer?t=>t.length>64?globalThis.Buffer.from(t):utf8ToBytes(t):t=>t.length>64?textEncoder$4.encode(t):utf8ToBytes(t),fromArray=t=>Uint8Array.from(t),slice=useBuffer?(t,e,n)=>isBuffer(t)?new Uint8Array(t.subarray(e,n)):t.slice(e,n):(t,e,n)=>t.slice(e,n),concat$3=useBuffer?(t,e)=>(t=t.map(n=>n instanceof Uint8Array?n:globalThis.Buffer.from(n)),asU8A(globalThis.Buffer.concat(t,e))):(t,e)=>{const n=new Uint8Array(e);let a=0;for(let o of t)a+o.length>n.length&&(o=o.subarray(0,n.length-a)),n.set(o,a),a+=o.length;return n},alloc=useBuffer?t=>globalThis.Buffer.allocUnsafe(t):t=>new Uint8Array(t);function compare$1(t,e){if(isBuffer(t)&&isBuffer(e))return t.compare(e);for(let n=0;n<t.length;n++)if(t[n]!==e[n])return t[n]<e[n]?-1:1;return 0}function utf8ToBytes(t,e=1/0){let n;const a=t.length;let o=null;const u=[];for(let c=0;c<a;++c){if(n=t.charCodeAt(c),n>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&u.push(239,191,189);continue}else if(c+1===a){(e-=3)>-1&&u.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&u.push(239,191,189),o=n;continue}n=(o-55296<<10|n-56320)+65536}else o&&(e-=3)>-1&&u.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;u.push(n)}else if(n<2048){if((e-=2)<0)break;u.push(n>>6|192,n&63|128)}else if(n<65536){if((e-=3)<0)break;u.push(n>>12|224,n>>6&63|128,n&63|128)}else if(n<1114112){if((e-=4)<0)break;u.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else throw new Error("Invalid code point")}return u}function utf8Slice(t,e,n){const a=[];for(;e<n;){const o=t[e];let u=null,c=o>239?4:o>223?3:o>191?2:1;if(e+c<=n){let d,p,v,y;switch(c){case 1:o<128&&(u=o);break;case 2:d=t[e+1],(d&192)===128&&(y=(o&31)<<6|d&63,y>127&&(u=y));break;case 3:d=t[e+1],p=t[e+2],(d&192)===128&&(p&192)===128&&(y=(o&15)<<12|(d&63)<<6|p&63,y>2047&&(y<55296||y>57343)&&(u=y));break;case 4:d=t[e+1],p=t[e+2],v=t[e+3],(d&192)===128&&(p&192)===128&&(v&192)===128&&(y=(o&15)<<18|(d&63)<<12|(p&63)<<6|v&63,y>65535&&y<1114112&&(u=y))}}u===null?(u=65533,c=1):u>65535&&(u-=65536,a.push(u>>>10&1023|55296),u=56320|u&1023),a.push(u),e+=c}return decodeCodePointsArray(a)}const MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(t){const e=t.length;if(e<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,t);let n="",a=0;for(;a<e;)n+=String.fromCharCode.apply(String,t.slice(a,a+=MAX_ARGUMENTS_LENGTH));return n}const defaultChunkSize=256;class Bl{constructor(e=defaultChunkSize){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let n=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const o=n.length-(this.maxCursor-this.cursor)-1;n.set(e,o)}else{if(n){const o=n.length-(this.maxCursor-this.cursor)-1;o<n.length&&(this.chunks[this.chunks.length-1]=n.subarray(0,o),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(n=alloc(this.chunkSize),this.chunks.push(n),this.maxCursor+=n.length,this._initReuseChunk===null&&(this._initReuseChunk=n),n.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let n;if(this.chunks.length===1){const a=this.chunks[0];e&&this.cursor>a.length/2?(n=this.cursor===a.length?a:a.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):n=slice(a,0,this.cursor)}else n=concat$3(this.chunks,this.cursor);return e&&this.reset(),n}}const decodeErrPrefix="CBOR decode error:",encodeErrPrefix="CBOR encode error:";function assertEnoughData(t,e,n){if(t.length-e<n)throw new Error(`${decodeErrPrefix} not enough data for type`)}const uintBoundaries=[24,256,65536,4294967296,BigInt("18446744073709551616")];function readUint8(t,e,n){assertEnoughData(t,e,1);const a=t[e];if(n.strict===!0&&a<uintBoundaries[0])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return a}function readUint16(t,e,n){assertEnoughData(t,e,2);const a=t[e]<<8|t[e+1];if(n.strict===!0&&a<uintBoundaries[1])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return a}function readUint32(t,e,n){assertEnoughData(t,e,4);const a=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3];if(n.strict===!0&&a<uintBoundaries[2])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return a}function readUint64(t,e,n){assertEnoughData(t,e,8);const a=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3],o=t[e+4]*16777216+(t[e+5]<<16)+(t[e+6]<<8)+t[e+7],u=(BigInt(a)<<BigInt(32))+BigInt(o);if(n.strict===!0&&u<uintBoundaries[3])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);if(u<=Number.MAX_SAFE_INTEGER)return Number(u);if(n.allowBigInt===!0)return u;throw new Error(`${decodeErrPrefix} integers outside of the safe integer range are not supported`)}function decodeUint8(t,e,n,a){return new Token(Type.uint,readUint8(t,e+1,a),2)}function decodeUint16(t,e,n,a){return new Token(Type.uint,readUint16(t,e+1,a),3)}function decodeUint32(t,e,n,a){return new Token(Type.uint,readUint32(t,e+1,a),5)}function decodeUint64(t,e,n,a){return new Token(Type.uint,readUint64(t,e+1,a),9)}function encodeUint(t,e){return encodeUintValue(t,0,e.value)}function encodeUintValue(t,e,n){if(n<uintBoundaries[0]){const a=Number(n);t.push([e|a])}else if(n<uintBoundaries[1]){const a=Number(n);t.push([e|24,a])}else if(n<uintBoundaries[2]){const a=Number(n);t.push([e|25,a>>>8,a&255])}else if(n<uintBoundaries[3]){const a=Number(n);t.push([e|26,a>>>24&255,a>>>16&255,a>>>8&255,a&255])}else{const a=BigInt(n);if(a<uintBoundaries[4]){const o=[e|27,0,0,0,0,0,0,0];let u=Number(a&BigInt(4294967295)),c=Number(a>>BigInt(32)&BigInt(4294967295));o[8]=u&255,u=u>>8,o[7]=u&255,u=u>>8,o[6]=u&255,u=u>>8,o[5]=u&255,o[4]=c&255,c=c>>8,o[3]=c&255,c=c>>8,o[2]=c&255,c=c>>8,o[1]=c&255,t.push(o)}else throw new Error(`${decodeErrPrefix} encountered BigInt larger than allowable range`)}}encodeUint.encodedSize=function t(e){return encodeUintValue.encodedSize(e.value)};encodeUintValue.encodedSize=function t(e){return e<uintBoundaries[0]?1:e<uintBoundaries[1]?2:e<uintBoundaries[2]?3:e<uintBoundaries[3]?5:9};encodeUint.compareTokens=function t(e,n){return e.value<n.value?-1:e.value>n.value?1:0};function decodeNegint8(t,e,n,a){return new Token(Type.negint,-1-readUint8(t,e+1,a),2)}function decodeNegint16(t,e,n,a){return new Token(Type.negint,-1-readUint16(t,e+1,a),3)}function decodeNegint32(t,e,n,a){return new Token(Type.negint,-1-readUint32(t,e+1,a),5)}const neg1b=BigInt(-1),pos1b=BigInt(1);function decodeNegint64(t,e,n,a){const o=readUint64(t,e+1,a);if(typeof o!="bigint"){const u=-1-o;if(u>=Number.MIN_SAFE_INTEGER)return new Token(Type.negint,u,9)}if(a.allowBigInt!==!0)throw new Error(`${decodeErrPrefix} integers outside of the safe integer range are not supported`);return new Token(Type.negint,neg1b-BigInt(o),9)}function encodeNegint(t,e){const n=e.value,a=typeof n=="bigint"?n*neg1b-pos1b:n*-1-1;encodeUintValue(t,e.type.majorEncoded,a)}encodeNegint.encodedSize=function t(e){const n=e.value,a=typeof n=="bigint"?n*neg1b-pos1b:n*-1-1;return a<uintBoundaries[0]?1:a<uintBoundaries[1]?2:a<uintBoundaries[2]?3:a<uintBoundaries[3]?5:9};encodeNegint.compareTokens=function t(e,n){return e.value<n.value?1:e.value>n.value?-1:0};function toToken$3(t,e,n,a){assertEnoughData(t,e,n+a);const o=slice(t,e+n,e+n+a);return new Token(Type.bytes,o,n+a)}function decodeBytesCompact(t,e,n,a){return toToken$3(t,e,1,n)}function decodeBytes8(t,e,n,a){return toToken$3(t,e,2,readUint8(t,e+1,a))}function decodeBytes16(t,e,n,a){return toToken$3(t,e,3,readUint16(t,e+1,a))}function decodeBytes32(t,e,n,a){return toToken$3(t,e,5,readUint32(t,e+1,a))}function decodeBytes64(t,e,n,a){const o=readUint64(t,e+1,a);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer bytes lengths not supported`);return toToken$3(t,e,9,o)}function tokenBytes(t){return t.encodedBytes===void 0&&(t.encodedBytes=t.type===Type.string?fromString$5(t.value):t.value),t.encodedBytes}function encodeBytes(t,e){const n=tokenBytes(e);encodeUintValue(t,e.type.majorEncoded,n.length),t.push(n)}encodeBytes.encodedSize=function t(e){const n=tokenBytes(e);return encodeUintValue.encodedSize(n.length)+n.length};encodeBytes.compareTokens=function t(e,n){return compareBytes(tokenBytes(e),tokenBytes(n))};function compareBytes(t,e){return t.length<e.length?-1:t.length>e.length?1:compare$1(t,e)}function toToken$2(t,e,n,a,o){const u=n+a;assertEnoughData(t,e,u);const c=new Token(Type.string,toString$5(t,e+n,e+u),u);return o.retainStringBytes===!0&&(c.byteValue=slice(t,e+n,e+u)),c}function decodeStringCompact(t,e,n,a){return toToken$2(t,e,1,n,a)}function decodeString8(t,e,n,a){return toToken$2(t,e,2,readUint8(t,e+1,a),a)}function decodeString16(t,e,n,a){return toToken$2(t,e,3,readUint16(t,e+1,a),a)}function decodeString32(t,e,n,a){return toToken$2(t,e,5,readUint32(t,e+1,a),a)}function decodeString64(t,e,n,a){const o=readUint64(t,e+1,a);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer string lengths not supported`);return toToken$2(t,e,9,o,a)}const encodeString$1=encodeBytes;function toToken$1(t,e,n,a){return new Token(Type.array,a,n)}function decodeArrayCompact(t,e,n,a){return toToken$1(t,e,1,n)}function decodeArray8(t,e,n,a){return toToken$1(t,e,2,readUint8(t,e+1,a))}function decodeArray16(t,e,n,a){return toToken$1(t,e,3,readUint16(t,e+1,a))}function decodeArray32(t,e,n,a){return toToken$1(t,e,5,readUint32(t,e+1,a))}function decodeArray64(t,e,n,a){const o=readUint64(t,e+1,a);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer array lengths not supported`);return toToken$1(t,e,9,o)}function decodeArrayIndefinite(t,e,n,a){if(a.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return toToken$1(t,e,1,1/0)}function encodeArray(t,e){encodeUintValue(t,Type.array.majorEncoded,e.value)}encodeArray.compareTokens=encodeUint.compareTokens;encodeArray.encodedSize=function t(e){return encodeUintValue.encodedSize(e.value)};function toToken(t,e,n,a){return new Token(Type.map,a,n)}function decodeMapCompact(t,e,n,a){return toToken(t,e,1,n)}function decodeMap8(t,e,n,a){return toToken(t,e,2,readUint8(t,e+1,a))}function decodeMap16(t,e,n,a){return toToken(t,e,3,readUint16(t,e+1,a))}function decodeMap32(t,e,n,a){return toToken(t,e,5,readUint32(t,e+1,a))}function decodeMap64(t,e,n,a){const o=readUint64(t,e+1,a);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer map lengths not supported`);return toToken(t,e,9,o)}function decodeMapIndefinite(t,e,n,a){if(a.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return toToken(t,e,1,1/0)}function encodeMap(t,e){encodeUintValue(t,Type.map.majorEncoded,e.value)}encodeMap.compareTokens=encodeUint.compareTokens;encodeMap.encodedSize=function t(e){return encodeUintValue.encodedSize(e.value)};function decodeTagCompact(t,e,n,a){return new Token(Type.tag,n,1)}function decodeTag8(t,e,n,a){return new Token(Type.tag,readUint8(t,e+1,a),2)}function decodeTag16(t,e,n,a){return new Token(Type.tag,readUint16(t,e+1,a),3)}function decodeTag32(t,e,n,a){return new Token(Type.tag,readUint32(t,e+1,a),5)}function decodeTag64(t,e,n,a){return new Token(Type.tag,readUint64(t,e+1,a),9)}function encodeTag(t,e){encodeUintValue(t,Type.tag.majorEncoded,e.value)}encodeTag.compareTokens=encodeUint.compareTokens;encodeTag.encodedSize=function t(e){return encodeUintValue.encodedSize(e.value)};const MINOR_FALSE=20,MINOR_TRUE=21,MINOR_NULL=22,MINOR_UNDEFINED=23;function decodeUndefined(t,e,n,a){if(a.allowUndefined===!1)throw new Error(`${decodeErrPrefix} undefined values are not supported`);return a.coerceUndefinedToNull===!0?new Token(Type.null,null,1):new Token(Type.undefined,void 0,1)}function decodeBreak(t,e,n,a){if(a.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return new Token(Type.break,void 0,1)}function createToken(t,e,n){if(n){if(n.allowNaN===!1&&Number.isNaN(t))throw new Error(`${decodeErrPrefix} NaN values are not supported`);if(n.allowInfinity===!1&&(t===1/0||t===-1/0))throw new Error(`${decodeErrPrefix} Infinity values are not supported`)}return new Token(Type.float,t,e)}function decodeFloat16(t,e,n,a){return createToken(readFloat16(t,e+1),3,a)}function decodeFloat32(t,e,n,a){return createToken(readFloat32(t,e+1),5,a)}function decodeFloat64(t,e,n,a){return createToken(readFloat64(t,e+1),9,a)}function encodeFloat(t,e,n){const a=e.value;if(a===!1)t.push([Type.float.majorEncoded|MINOR_FALSE]);else if(a===!0)t.push([Type.float.majorEncoded|MINOR_TRUE]);else if(a===null)t.push([Type.float.majorEncoded|MINOR_NULL]);else if(a===void 0)t.push([Type.float.majorEncoded|MINOR_UNDEFINED]);else{let o,u=!1;(!n||n.float64!==!0)&&(encodeFloat16(a),o=readFloat16(ui8a,1),a===o||Number.isNaN(a)?(ui8a[0]=249,t.push(ui8a.slice(0,3)),u=!0):(encodeFloat32(a),o=readFloat32(ui8a,1),a===o&&(ui8a[0]=250,t.push(ui8a.slice(0,5)),u=!0))),u||(encodeFloat64(a),o=readFloat64(ui8a,1),ui8a[0]=251,t.push(ui8a.slice(0,9)))}}encodeFloat.encodedSize=function t(e,n){const a=e.value;if(a===!1||a===!0||a===null||a===void 0)return 1;if(!n||n.float64!==!0){encodeFloat16(a);let o=readFloat16(ui8a,1);if(a===o||Number.isNaN(a))return 3;if(encodeFloat32(a),o=readFloat32(ui8a,1),a===o)return 5}return 9};const buffer$1=new ArrayBuffer(9),dataView=new DataView(buffer$1,1),ui8a=new Uint8Array(buffer$1,0);function encodeFloat16(t){if(t===1/0)dataView.setUint16(0,31744,!1);else if(t===-1/0)dataView.setUint16(0,64512,!1);else if(Number.isNaN(t))dataView.setUint16(0,32256,!1);else{dataView.setFloat32(0,t);const e=dataView.getUint32(0),n=(e&2139095040)>>23,a=e&8388607;if(n===255)dataView.setUint16(0,31744,!1);else if(n===0)dataView.setUint16(0,(t&2147483648)>>16|a>>13,!1);else{const o=n-127;o<-24?dataView.setUint16(0,0):o<-14?dataView.setUint16(0,(e&2147483648)>>16|1<<24+o,!1):dataView.setUint16(0,(e&2147483648)>>16|o+15<<10|a>>13,!1)}}}function readFloat16(t,e){if(t.length-e<2)throw new Error(`${decodeErrPrefix} not enough data for float16`);const n=(t[e]<<8)+t[e+1];if(n===31744)return 1/0;if(n===64512)return-1/0;if(n===32256)return NaN;const a=n>>10&31,o=n&1023;let u;return a===0?u=o*2**-24:a!==31?u=(o+1024)*2**(a-25):u=o===0?1/0:NaN,n&32768?-u:u}function encodeFloat32(t){dataView.setFloat32(0,t,!1)}function readFloat32(t,e){if(t.length-e<4)throw new Error(`${decodeErrPrefix} not enough data for float32`);const n=(t.byteOffset||0)+e;return new DataView(t.buffer,n,4).getFloat32(0,!1)}function encodeFloat64(t){dataView.setFloat64(0,t,!1)}function readFloat64(t,e){if(t.length-e<8)throw new Error(`${decodeErrPrefix} not enough data for float64`);const n=(t.byteOffset||0)+e;return new DataView(t.buffer,n,8).getFloat64(0,!1)}encodeFloat.compareTokens=encodeUint.compareTokens;function invalidMinor(t,e,n){throw new Error(`${decodeErrPrefix} encountered invalid minor (${n}) for major ${t[e]>>>5}`)}function errorer(t){return()=>{throw new Error(`${decodeErrPrefix} ${t}`)}}const jump=[];for(let t=0;t<=23;t++)jump[t]=invalidMinor;jump[24]=decodeUint8;jump[25]=decodeUint16;jump[26]=decodeUint32;jump[27]=decodeUint64;jump[28]=invalidMinor;jump[29]=invalidMinor;jump[30]=invalidMinor;jump[31]=invalidMinor;for(let t=32;t<=55;t++)jump[t]=invalidMinor;jump[56]=decodeNegint8;jump[57]=decodeNegint16;jump[58]=decodeNegint32;jump[59]=decodeNegint64;jump[60]=invalidMinor;jump[61]=invalidMinor;jump[62]=invalidMinor;jump[63]=invalidMinor;for(let t=64;t<=87;t++)jump[t]=decodeBytesCompact;jump[88]=decodeBytes8;jump[89]=decodeBytes16;jump[90]=decodeBytes32;jump[91]=decodeBytes64;jump[92]=invalidMinor;jump[93]=invalidMinor;jump[94]=invalidMinor;jump[95]=errorer("indefinite length bytes/strings are not supported");for(let t=96;t<=119;t++)jump[t]=decodeStringCompact;jump[120]=decodeString8;jump[121]=decodeString16;jump[122]=decodeString32;jump[123]=decodeString64;jump[124]=invalidMinor;jump[125]=invalidMinor;jump[126]=invalidMinor;jump[127]=errorer("indefinite length bytes/strings are not supported");for(let t=128;t<=151;t++)jump[t]=decodeArrayCompact;jump[152]=decodeArray8;jump[153]=decodeArray16;jump[154]=decodeArray32;jump[155]=decodeArray64;jump[156]=invalidMinor;jump[157]=invalidMinor;jump[158]=invalidMinor;jump[159]=decodeArrayIndefinite;for(let t=160;t<=183;t++)jump[t]=decodeMapCompact;jump[184]=decodeMap8;jump[185]=decodeMap16;jump[186]=decodeMap32;jump[187]=decodeMap64;jump[188]=invalidMinor;jump[189]=invalidMinor;jump[190]=invalidMinor;jump[191]=decodeMapIndefinite;for(let t=192;t<=215;t++)jump[t]=decodeTagCompact;jump[216]=decodeTag8;jump[217]=decodeTag16;jump[218]=decodeTag32;jump[219]=decodeTag64;jump[220]=invalidMinor;jump[221]=invalidMinor;jump[222]=invalidMinor;jump[223]=invalidMinor;for(let t=224;t<=243;t++)jump[t]=errorer("simple values are not supported");jump[244]=invalidMinor;jump[245]=invalidMinor;jump[246]=invalidMinor;jump[247]=decodeUndefined;jump[248]=errorer("simple values are not supported");jump[249]=decodeFloat16;jump[250]=decodeFloat32;jump[251]=decodeFloat64;jump[252]=invalidMinor;jump[253]=invalidMinor;jump[254]=invalidMinor;jump[255]=decodeBreak;const quick=[];for(let t=0;t<24;t++)quick[t]=new Token(Type.uint,t,1);for(let t=-1;t>=-24;t--)quick[31-t]=new Token(Type.negint,t,1);quick[64]=new Token(Type.bytes,new Uint8Array(0),1);quick[96]=new Token(Type.string,"",1);quick[128]=new Token(Type.array,0,1);quick[160]=new Token(Type.map,0,1);quick[244]=new Token(Type.false,!1,1);quick[245]=new Token(Type.true,!0,1);quick[246]=new Token(Type.null,null,1);function quickEncodeToken(t){switch(t.type){case Type.false:return fromArray([244]);case Type.true:return fromArray([245]);case Type.null:return fromArray([246]);case Type.bytes:return t.value.length?void 0:fromArray([64]);case Type.string:return t.value===""?fromArray([96]):void 0;case Type.array:return t.value===0?fromArray([128]):void 0;case Type.map:return t.value===0?fromArray([160]):void 0;case Type.uint:return t.value<24?fromArray([Number(t.value)]):void 0;case Type.negint:if(t.value>=-24)return fromArray([31-Number(t.value)])}}const defaultEncodeOptions={float64:!1,mapSorter,quickEncodeToken};function makeCborEncoders(){const t=[];return t[Type.uint.major]=encodeUint,t[Type.negint.major]=encodeNegint,t[Type.bytes.major]=encodeBytes,t[Type.string.major]=encodeString$1,t[Type.array.major]=encodeArray,t[Type.map.major]=encodeMap,t[Type.tag.major]=encodeTag,t[Type.float.major]=encodeFloat,t}const cborEncoders=makeCborEncoders(),buf=new Bl;class Ref{constructor(e,n){this.obj=e,this.parent=n}includes(e){let n=this;do if(n.obj===e)return!0;while(n=n.parent);return!1}static createCheck(e,n){if(e&&e.includes(n))throw new Error(`${encodeErrPrefix} object contains circular references`);return new Ref(n,e)}}const simpleTokens={null:new Token(Type.null,null),undefined:new Token(Type.undefined,void 0),true:new Token(Type.true,!0),false:new Token(Type.false,!1),emptyArray:new Token(Type.array,0),emptyMap:new Token(Type.map,0)},typeEncoders={number(t,e,n,a){return!Number.isInteger(t)||!Number.isSafeInteger(t)?new Token(Type.float,t):t>=0?new Token(Type.uint,t):new Token(Type.negint,t)},bigint(t,e,n,a){return t>=BigInt(0)?new Token(Type.uint,t):new Token(Type.negint,t)},Uint8Array(t,e,n,a){return new Token(Type.bytes,t)},string(t,e,n,a){return new Token(Type.string,t)},boolean(t,e,n,a){return t?simpleTokens.true:simpleTokens.false},null(t,e,n,a){return simpleTokens.null},undefined(t,e,n,a){return simpleTokens.undefined},ArrayBuffer(t,e,n,a){return new Token(Type.bytes,new Uint8Array(t))},DataView(t,e,n,a){return new Token(Type.bytes,new Uint8Array(t.buffer,t.byteOffset,t.byteLength))},Array(t,e,n,a){if(!t.length)return n.addBreakTokens===!0?[simpleTokens.emptyArray,new Token(Type.break)]:simpleTokens.emptyArray;a=Ref.createCheck(a,t);const o=[];let u=0;for(const c of t)o[u++]=objectToTokens(c,n,a);return n.addBreakTokens?[new Token(Type.array,t.length),o,new Token(Type.break)]:[new Token(Type.array,t.length),o]},Object(t,e,n,a){const o=e!=="Object",u=o?t.keys():Object.keys(t),c=o?t.size:u.length;if(!c)return n.addBreakTokens===!0?[simpleTokens.emptyMap,new Token(Type.break)]:simpleTokens.emptyMap;a=Ref.createCheck(a,t);const d=[];let p=0;for(const v of u)d[p++]=[objectToTokens(v,n,a),objectToTokens(o?t.get(v):t[v],n,a)];return sortMapEntries(d,n),n.addBreakTokens?[new Token(Type.map,c),d,new Token(Type.break)]:[new Token(Type.map,c),d]}};typeEncoders.Map=typeEncoders.Object;typeEncoders.Buffer=typeEncoders.Uint8Array;for(const t of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))typeEncoders[`${t}Array`]=typeEncoders.DataView;function objectToTokens(t,e={},n){const a=is(t),o=e&&e.typeEncoders&&e.typeEncoders[a]||typeEncoders[a];if(typeof o=="function"){const c=o(t,a,e,n);if(c!=null)return c}const u=typeEncoders[a];if(!u)throw new Error(`${encodeErrPrefix} unsupported type: ${a}`);return u(t,a,e,n)}function sortMapEntries(t,e){e.mapSorter&&t.sort(e.mapSorter)}function mapSorter(t,e){const n=Array.isArray(t[0])?t[0][0]:t[0],a=Array.isArray(e[0])?e[0][0]:e[0];if(n.type!==a.type)return n.type.compare(a.type);const o=n.type.major,u=cborEncoders[o].compareTokens(n,a);return u===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),u}function tokensToEncoded(t,e,n,a){if(Array.isArray(e))for(const o of e)tokensToEncoded(t,o,n,a);else n[e.type.major](t,e,a)}function encodeCustom(t,e,n){const a=objectToTokens(t,n);if(!Array.isArray(a)&&n.quickEncodeToken){const o=n.quickEncodeToken(a);if(o)return o;const u=e[a.type.major];if(u.encodedSize){const c=u.encodedSize(a,n),d=new Bl(c);if(u(d,a,n),d.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${a} was wrong`);return asU8A(d.chunks[0])}}return buf.reset(),tokensToEncoded(buf,a,e,n),buf.toBytes(!0)}function encode$6(t,e){return e=Object.assign({},defaultEncodeOptions,e),encodeCustom(t,cborEncoders,e)}const defaultDecodeOptions={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class Tokeniser{constructor(e,n={}){this.pos=0,this.data=e,this.options=n}done(){return this.pos>=this.data.length}next(){const e=this.data[this.pos];let n=quick[e];if(n===void 0){const a=jump[e];if(!a)throw new Error(`${decodeErrPrefix} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);const o=e&31;n=a(this.data,this.pos,o,this.options)}return this.pos+=n.encodedLength,n}}const DONE=Symbol.for("DONE"),BREAK=Symbol.for("BREAK");function tokenToArray(t,e,n){const a=[];for(let o=0;o<t.value;o++){const u=tokensToObject(e,n);if(u===BREAK){if(t.value===1/0)break;throw new Error(`${decodeErrPrefix} got unexpected break to lengthed array`)}if(u===DONE)throw new Error(`${decodeErrPrefix} found array but not enough entries (got ${o}, expected ${t.value})`);a[o]=u}return a}function tokenToMap(t,e,n){const a=n.useMaps===!0,o=a?void 0:{},u=a?new Map:void 0;for(let c=0;c<t.value;c++){const d=tokensToObject(e,n);if(d===BREAK){if(t.value===1/0)break;throw new Error(`${decodeErrPrefix} got unexpected break to lengthed map`)}if(d===DONE)throw new Error(`${decodeErrPrefix} found map but not enough entries (got ${c} [no key], expected ${t.value})`);if(a!==!0&&typeof d!="string")throw new Error(`${decodeErrPrefix} non-string keys not supported (got ${typeof d})`);if(n.rejectDuplicateMapKeys===!0&&(a&&u.has(d)||!a&&d in o))throw new Error(`${decodeErrPrefix} found repeat map key "${d}"`);const p=tokensToObject(e,n);if(p===DONE)throw new Error(`${decodeErrPrefix} found map but not enough entries (got ${c} [no value], expected ${t.value})`);a?u.set(d,p):o[d]=p}return a?u:o}function tokensToObject(t,e){if(t.done())return DONE;const n=t.next();if(n.type===Type.break)return BREAK;if(n.type.terminal)return n.value;if(n.type===Type.array)return tokenToArray(n,t,e);if(n.type===Type.map)return tokenToMap(n,t,e);if(n.type===Type.tag){if(e.tags&&typeof e.tags[n.value]=="function"){const a=tokensToObject(t,e);return e.tags[n.value](a)}throw new Error(`${decodeErrPrefix} tag not supported (${n.value})`)}throw new Error("unsupported")}function decode$5(t,e){if(!(t instanceof Uint8Array))throw new Error(`${decodeErrPrefix} data to decode must be a Uint8Array`);e=Object.assign({},defaultDecodeOptions,e);const n=e.tokenizer||new Tokeniser(t,e),a=tokensToObject(n,e);if(a===DONE)throw new Error(`${decodeErrPrefix} did not find any content to decode`);if(a===BREAK)throw new Error(`${decodeErrPrefix} got unexpected break`);if(!n.done())throw new Error(`${decodeErrPrefix} too many terminals, data makes no sense`);return a}function asUint8Array$2(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function allocUnsafe$2(t=0){return globalThis.Buffer?.allocUnsafe!=null?asUint8Array$2(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function createCodec$2(t,e,n,a){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:a}}}const string$2=createCodec$2("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),ascii$2=createCodec$2("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=allocUnsafe$2(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),BASES$2={utf8:string$2,"utf-8":string$2,hex:bases.base16,latin1:ascii$2,ascii:ascii$2,binary:ascii$2,...bases};function fromString$4(t,e="utf8"){const n=BASES$2[e];if(n==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?asUint8Array$2(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}class Parser{constructor(){co(this,"index",0);co(this,"input","")}new(e){return this.index=0,this.input=e,this}readAtomically(e){const n=this.index,a=e();return a===void 0&&(this.index=n),a}parseWith(e){const n=e();if(this.index===this.input.length)return n}peekChar(){if(!(this.index>=this.input.length))return this.input[this.index]}readChar(){if(!(this.index>=this.input.length))return this.input[this.index++]}readGivenChar(e){return this.readAtomically(()=>{const n=this.readChar();if(n===e)return n})}readSeparator(e,n,a){return this.readAtomically(()=>{if(!(n>0&&this.readGivenChar(e)===void 0))return a()})}readNumber(e,n,a,o){return this.readAtomically(()=>{let u=0,c=0;const d=this.peekChar();if(d===void 0)return;const p=d==="0",v=2**(8*o)-1;for(;;){const y=this.readAtomically(()=>{const b=this.readChar();if(b===void 0)return;const _=Number.parseInt(b,e);if(!Number.isNaN(_))return _});if(y===void 0)break;if(u*=e,u+=y,u>v||(c+=1,n!==void 0&&c>n))return}if(c!==0)return!a&&p&&c>1?void 0:u})}readIPv4Addr(){return this.readAtomically(()=>{const e=new Uint8Array(4);for(let n=0;n<e.length;n++){const a=this.readSeparator(".",n,()=>this.readNumber(10,3,!1,1));if(a===void 0)return;e[n]=a}return e})}readIPv6Addr(){const e=n=>{for(let a=0;a<n.length/2;a++){const o=a*2;if(a<n.length-3){const c=this.readSeparator(":",a,()=>this.readIPv4Addr());if(c!==void 0)return n[o]=c[0],n[o+1]=c[1],n[o+2]=c[2],n[o+3]=c[3],[o+4,!0]}const u=this.readSeparator(":",a,()=>this.readNumber(16,4,!0,2));if(u===void 0)return[o,!1];n[o]=u>>8,n[o+1]=u&255}return[n.length,!1]};return this.readAtomically(()=>{const n=new Uint8Array(16),[a,o]=e(n);if(a===16)return n;if(o||this.readGivenChar(":")===void 0||this.readGivenChar(":")===void 0)return;const u=new Uint8Array(14),c=16-(a+2),[d]=e(u.subarray(0,c));return n.set(u.subarray(0,d),16-d),n})}readIPAddr(){return this.readIPv4Addr()??this.readIPv6Addr()}}const MAX_IPV6_LENGTH=45,MAX_IPV4_LENGTH=15,parser=new Parser;function parseIPv4(t){if(!(t.length>MAX_IPV4_LENGTH))return parser.new(t).parseWith(()=>parser.readIPv4Addr())}function parseIPv6(t){if(!(t.length>MAX_IPV6_LENGTH))return parser.new(t).parseWith(()=>parser.readIPv6Addr())}function parseIP(t){if(!(t.length>MAX_IPV6_LENGTH))return parser.new(t).parseWith(()=>parser.readIPAddr())}function isIPv4(t){return!!parseIPv4(t)}function isIPv6(t){return!!parseIPv6(t)}function isIP(t){return!!parseIP(t)}function asUint8Array$1(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function allocUnsafe$1(t=0){return globalThis.Buffer?.allocUnsafe!=null?asUint8Array$1(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function createCodec$1(t,e,n,a){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:a}}}const string$1=createCodec$1("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),ascii$1=createCodec$1("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=allocUnsafe$1(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),BASES$1={utf8:string$1,"utf-8":string$1,hex:bases$1.base16,latin1:ascii$1,ascii:ascii$1,binary:ascii$1,...bases$1};function toString$4(t,e="utf8"){const n=BASES$1[e];if(n==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}var encode_1=encode$5,MSB$1=128,REST$1=127,MSBALL=~REST$1,INT=Math.pow(2,31);function encode$5(t,e,n){if(Number.MAX_SAFE_INTEGER&&t>Number.MAX_SAFE_INTEGER)throw encode$5.bytes=0,new RangeError("Could not encode varint");e=e||[],n=n||0;for(var a=n;t>=INT;)e[n++]=t&255|MSB$1,t/=128;for(;t&MSBALL;)e[n++]=t&255|MSB$1,t>>>=7;return e[n]=t|0,encode$5.bytes=n-a+1,e}var decode$4=read,MSB=128,REST=127;function read(t,a){var n=0,a=a||0,o=0,u=a,c,d=t.length;do{if(u>=d||o>49)throw read.bytes=0,new RangeError("Could not decode varint");c=t[u++],n+=o<28?(c&REST)<<o:(c&REST)*Math.pow(2,o),o+=7}while(c>=MSB);return read.bytes=u-a,n}var N1=Math.pow(2,7),N2=Math.pow(2,14),N3=Math.pow(2,21),N4=Math.pow(2,28),N5=Math.pow(2,35),N6=Math.pow(2,42),N7=Math.pow(2,49),N8=Math.pow(2,56),N9=Math.pow(2,63),length$1=function(t){return t<N1?1:t<N2?2:t<N3?3:t<N4?4:t<N5?5:t<N6?6:t<N7?7:t<N8?8:t<N9?9:10},varint={encode:encode_1,decode:decode$4,encodingLength:length$1};const varint$1=getDefaultExportFromCjs(varint);function fromString$3(t,e="utf8"){const n=BASES$1[e];if(n==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?asUint8Array$1(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function concat$2(t,e){e==null&&(e=t.reduce((o,u)=>o+u.length,0));const n=allocUnsafe$1(e);let a=0;for(const o of t)n.set(o,a),a+=o.length;return asUint8Array$1(n)}function equals$1(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.byteLength;n++)if(t[n]!==e[n])return!1;return!0}function toString$3(t,e="utf8"){const n=BASES$2[e];if(n==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}let nanoid=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");const pathSepS="/",pathSepB=new TextEncoder().encode(pathSepS),pathSep=pathSepB[0];class Key{constructor(e,n){if(typeof e=="string")this._buf=fromString$4(e);else if(e instanceof Uint8Array)this._buf=e;else throw new Error("Invalid key, should be String of Uint8Array");if(n==null&&(n=!0),n&&this.clean(),this._buf.byteLength===0||this._buf[0]!==pathSep)throw new Error("Invalid key")}toString(e="utf8"){return toString$3(this._buf,e)}uint8Array(){return this._buf}get[Symbol.toStringTag](){return`Key(${this.toString()})`}static withNamespaces(e){return new Key(e.join(pathSepS))}static random(){return new Key(nanoid().replace(/-/g,""))}static asKey(e){return e instanceof Uint8Array||typeof e=="string"?new Key(e):typeof e.uint8Array=="function"?new Key(e.uint8Array()):null}clean(){if((this._buf==null||this._buf.byteLength===0)&&(this._buf=pathSepB),this._buf[0]!==pathSep){const e=new Uint8Array(this._buf.byteLength+1);e.fill(pathSep,0,1),e.set(this._buf,1),this._buf=e}for(;this._buf.byteLength>1&&this._buf[this._buf.byteLength-1]===pathSep;)this._buf=this._buf.subarray(0,-1)}less(e){const n=this.list(),a=e.list();for(let o=0;o<n.length;o++){if(a.length<o+1)return!1;const u=n[o],c=a[o];if(u<c)return!0;if(u>c)return!1}return n.length<a.length}reverse(){return Key.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){const e=this.namespaces();return e[e.length-1]}list(){return this.toString().split(pathSepS).slice(1)}type(){return namespaceType(this.baseNamespace())}name(){return namespaceValue(this.baseNamespace())}instance(e){return new Key(this.toString()+":"+e)}path(){let e=this.parent().toString();return e.endsWith(pathSepS)||(e+=pathSepS),e+=this.type(),new Key(e)}parent(){const e=this.list();return e.length===1?new Key(pathSepS):new Key(e.slice(0,-1).join(pathSepS))}child(e){return this.toString()===pathSepS?e:e.toString()===pathSepS?this:new Key(this.toString()+e.toString(),!1)}isAncestorOf(e){return e.toString()===this.toString()?!1:e.toString().startsWith(this.toString())}isDecendantOf(e){return e.toString()===this.toString()?!1:this.toString().startsWith(e.toString())}isTopLevel(){return this.list().length===1}concat(...e){return Key.withNamespaces([...this.namespaces(),...flatten(e.map(n=>n.namespaces()))])}}function namespaceType(t){const e=t.split(":");return e.length<2?"":e.slice(0,-1).join(":")}function namespaceValue(t){const e=t.split(":");return e[e.length-1]}function flatten(t){return[].concat(...t)}var eventemitter3={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(n=!1));function o(p,v,y){this.fn=p,this.context=v,this.once=y||!1}function u(p,v,y,b,_){if(typeof y!="function")throw new TypeError("The listener must be a function");var w=new o(y,b||p,_),E=n?n+v:v;return p._events[E]?p._events[E].fn?p._events[E]=[p._events[E],w]:p._events[E].push(w):(p._events[E]=w,p._eventsCount++),p}function c(p,v){--p._eventsCount===0?p._events=new a:delete p._events[v]}function d(){this._events=new a,this._eventsCount=0}d.prototype.eventNames=function(){var v=[],y,b;if(this._eventsCount===0)return v;for(b in y=this._events)e.call(y,b)&&v.push(n?b.slice(1):b);return Object.getOwnPropertySymbols?v.concat(Object.getOwnPropertySymbols(y)):v},d.prototype.listeners=function(v){var y=n?n+v:v,b=this._events[y];if(!b)return[];if(b.fn)return[b.fn];for(var _=0,w=b.length,E=new Array(w);_<w;_++)E[_]=b[_].fn;return E},d.prototype.listenerCount=function(v){var y=n?n+v:v,b=this._events[y];return b?b.fn?1:b.length:0},d.prototype.emit=function(v,y,b,_,w,E){var $=n?n+v:v;if(!this._events[$])return!1;var C=this._events[$],P=arguments.length,z,J;if(C.fn){switch(C.once&&this.removeListener(v,C.fn,void 0,!0),P){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,y),!0;case 3:return C.fn.call(C.context,y,b),!0;case 4:return C.fn.call(C.context,y,b,_),!0;case 5:return C.fn.call(C.context,y,b,_,w),!0;case 6:return C.fn.call(C.context,y,b,_,w,E),!0}for(J=1,z=new Array(P-1);J<P;J++)z[J-1]=arguments[J];C.fn.apply(C.context,z)}else{var X=C.length,re;for(J=0;J<X;J++)switch(C[J].once&&this.removeListener(v,C[J].fn,void 0,!0),P){case 1:C[J].fn.call(C[J].context);break;case 2:C[J].fn.call(C[J].context,y);break;case 3:C[J].fn.call(C[J].context,y,b);break;case 4:C[J].fn.call(C[J].context,y,b,_);break;default:if(!z)for(re=1,z=new Array(P-1);re<P;re++)z[re-1]=arguments[re];C[J].fn.apply(C[J].context,z)}}return!0},d.prototype.on=function(v,y,b){return u(this,v,y,b,!1)},d.prototype.once=function(v,y,b){return u(this,v,y,b,!0)},d.prototype.removeListener=function(v,y,b,_){var w=n?n+v:v;if(!this._events[w])return this;if(!y)return c(this,w),this;var E=this._events[w];if(E.fn)E.fn===y&&(!_||E.once)&&(!b||E.context===b)&&c(this,w);else{for(var $=0,C=[],P=E.length;$<P;$++)(E[$].fn!==y||_&&!E[$].once||b&&E[$].context!==b)&&C.push(E[$]);C.length?this._events[w]=C.length===1?C[0]:C:c(this,w)}return this},d.prototype.removeAllListeners=function(v){var y;return v?(y=n?n+v:v,this._events[y]&&c(this,y)):(this._events=new a,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,t.exports=d})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const EventEmitter$3=getDefaultExportFromCjs(eventemitter3Exports);let TimeoutError$1=class extends Error{constructor(e){super(e),this.name="TimeoutError"}},AbortError$2=class extends Error{constructor(e){super(),this.name="AbortError",this.message=e}};const getDOMException$1=t=>globalThis.DOMException===void 0?new AbortError$2(t):new DOMException(t),getAbortedReason$1=t=>{const e=t.reason===void 0?getDOMException$1("This operation was aborted."):t.reason;return e instanceof Error?e:getDOMException$1(e)};function pTimeout$1(t,e,n,a){let o;const u=new Promise((c,d)=>{if(typeof e!="number"||Math.sign(e)!==1)throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${e}\``);if(e===Number.POSITIVE_INFINITY){c(t);return}if(a={customTimers:{setTimeout,clearTimeout},...a},a.signal){const{signal:p}=a;p.aborted&&d(getAbortedReason$1(p)),p.addEventListener("abort",()=>{d(getAbortedReason$1(p))})}o=a.customTimers.setTimeout.call(void 0,()=>{if(typeof n=="function"){try{c(n())}catch(y){d(y)}return}const p=typeof n=="string"?n:`Promise timed out after ${e} milliseconds`,v=n instanceof Error?n:new TimeoutError$1(p);typeof t.cancel=="function"&&t.cancel(),d(v)},e),(async()=>{try{c(await t)}catch(p){d(p)}finally{a.customTimers.clearTimeout.call(void 0,o)}})()});return u.clear=()=>{clearTimeout(o),o=void 0},u}function lowerBound(t,e,n){let a=0,o=t.length;for(;o>0;){const u=Math.trunc(o/2);let c=a+u;n(t[c],e)<=0?(a=++c,o-=u+1):o=u}return a}var __classPrivateFieldGet$2=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(t):a?a.value:e.get(t)},_PriorityQueue_queue;class PriorityQueue{constructor(){_PriorityQueue_queue.set(this,[])}enqueue(e,n){n={priority:0,...n};const a={priority:n.priority,run:e};if(this.size&&__classPrivateFieldGet$2(this,_PriorityQueue_queue,"f")[this.size-1].priority>=n.priority){__classPrivateFieldGet$2(this,_PriorityQueue_queue,"f").push(a);return}const o=lowerBound(__classPrivateFieldGet$2(this,_PriorityQueue_queue,"f"),a,(u,c)=>c.priority-u.priority);__classPrivateFieldGet$2(this,_PriorityQueue_queue,"f").splice(o,0,a)}dequeue(){const e=__classPrivateFieldGet$2(this,_PriorityQueue_queue,"f").shift();return e?.run}filter(e){return __classPrivateFieldGet$2(this,_PriorityQueue_queue,"f").filter(n=>n.priority===e.priority).map(n=>n.run)}get size(){return __classPrivateFieldGet$2(this,_PriorityQueue_queue,"f").length}}_PriorityQueue_queue=new WeakMap;var __classPrivateFieldSet$1=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,a,o){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?o.call(t,n):o?o.value=n:e.set(t,n),n},__classPrivateFieldGet$1=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(t):a?a.value:e.get(t)},_PQueue_instances,_PQueue_carryoverConcurrencyCount,_PQueue_isIntervalIgnored,_PQueue_intervalCount,_PQueue_intervalCap,_PQueue_interval,_PQueue_intervalEnd,_PQueue_intervalId,_PQueue_timeoutId,_PQueue_queue,_PQueue_queueClass,_PQueue_pending,_PQueue_concurrency,_PQueue_isPaused,_PQueue_throwOnTimeout,_PQueue_doesIntervalAllowAnother_get,_PQueue_doesConcurrentAllowAnother_get,_PQueue_next,_PQueue_onResumeInterval,_PQueue_isIntervalPaused_get,_PQueue_tryToStartAnother,_PQueue_initializeIntervalIfNeeded,_PQueue_onInterval,_PQueue_processQueue,_PQueue_throwOnAbort,_PQueue_onEvent;let AbortError$1=class extends Error{};class PQueue extends EventEmitter$3{constructor(e){var n,a,o,u;if(super(),_PQueue_instances.add(this),_PQueue_carryoverConcurrencyCount.set(this,void 0),_PQueue_isIntervalIgnored.set(this,void 0),_PQueue_intervalCount.set(this,0),_PQueue_intervalCap.set(this,void 0),_PQueue_interval.set(this,void 0),_PQueue_intervalEnd.set(this,0),_PQueue_intervalId.set(this,void 0),_PQueue_timeoutId.set(this,void 0),_PQueue_queue.set(this,void 0),_PQueue_queueClass.set(this,void 0),_PQueue_pending.set(this,0),_PQueue_concurrency.set(this,void 0),_PQueue_isPaused.set(this,void 0),_PQueue_throwOnTimeout.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:PriorityQueue,...e},!(typeof e.intervalCap=="number"&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(a=(n=e.intervalCap)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:""}\` (${typeof e.intervalCap})`);if(e.interval===void 0||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(u=(o=e.interval)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""}\` (${typeof e.interval})`);__classPrivateFieldSet$1(this,_PQueue_carryoverConcurrencyCount,e.carryoverConcurrencyCount,"f"),__classPrivateFieldSet$1(this,_PQueue_isIntervalIgnored,e.intervalCap===Number.POSITIVE_INFINITY||e.interval===0,"f"),__classPrivateFieldSet$1(this,_PQueue_intervalCap,e.intervalCap,"f"),__classPrivateFieldSet$1(this,_PQueue_interval,e.interval,"f"),__classPrivateFieldSet$1(this,_PQueue_queue,new e.queueClass,"f"),__classPrivateFieldSet$1(this,_PQueue_queueClass,e.queueClass,"f"),this.concurrency=e.concurrency,this.timeout=e.timeout,__classPrivateFieldSet$1(this,_PQueue_throwOnTimeout,e.throwOnTimeout===!0,"f"),__classPrivateFieldSet$1(this,_PQueue_isPaused,e.autoStart===!1,"f")}get concurrency(){return __classPrivateFieldGet$1(this,_PQueue_concurrency,"f")}set concurrency(e){if(!(typeof e=="number"&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);__classPrivateFieldSet$1(this,_PQueue_concurrency,e,"f"),__classPrivateFieldGet$1(this,_PQueue_instances,"m",_PQueue_processQueue).call(this)}async add(e,n={}){return n={timeout:this.timeout,throwOnTimeout:__classPrivateFieldGet$1(this,_PQueue_throwOnTimeout,"f"),...n},new Promise((a,o)=>{__classPrivateFieldGet$1(this,_PQueue_queue,"f").enqueue(async()=>{var u,c,d;__classPrivateFieldSet$1(this,_PQueue_pending,(c=__classPrivateFieldGet$1(this,_PQueue_pending,"f"),c++,c),"f"),__classPrivateFieldSet$1(this,_PQueue_intervalCount,(d=__classPrivateFieldGet$1(this,_PQueue_intervalCount,"f"),d++,d),"f");try{if(!((u=n.signal)===null||u===void 0)&&u.aborted)throw new AbortError$1("The task was aborted.");let p=e({signal:n.signal});n.timeout&&(p=pTimeout$1(Promise.resolve(p),n.timeout)),n.signal&&(p=Promise.race([p,__classPrivateFieldGet$1(this,_PQueue_instances,"m",_PQueue_throwOnAbort).call(this,n.signal)]));const v=await p;a(v),this.emit("completed",v)}catch(p){if(p instanceof TimeoutError$1&&!n.throwOnTimeout){a();return}o(p),this.emit("error",p)}finally{__classPrivateFieldGet$1(this,_PQueue_instances,"m",_PQueue_next).call(this)}},n),this.emit("add"),__classPrivateFieldGet$1(this,_PQueue_instances,"m",_PQueue_tryToStartAnother).call(this)})}async addAll(e,n){return Promise.all(e.map(async a=>this.add(a,n)))}start(){return __classPrivateFieldGet$1(this,_PQueue_isPaused,"f")?(__classPrivateFieldSet$1(this,_PQueue_isPaused,!1,"f"),__classPrivateFieldGet$1(this,_PQueue_instances,"m",_PQueue_processQueue).call(this),this):this}pause(){__classPrivateFieldSet$1(this,_PQueue_isPaused,!0,"f")}clear(){__classPrivateFieldSet$1(this,_PQueue_queue,new(__classPrivateFieldGet$1(this,_PQueue_queueClass,"f")),"f")}async onEmpty(){__classPrivateFieldGet$1(this,_PQueue_queue,"f").size!==0&&await __classPrivateFieldGet$1(this,_PQueue_instances,"m",_PQueue_onEvent).call(this,"empty")}async onSizeLessThan(e){__classPrivateFieldGet$1(this,_PQueue_queue,"f").size<e||await __classPrivateFieldGet$1(this,_PQueue_instances,"m",_PQueue_onEvent).call(this,"next",()=>__classPrivateFieldGet$1(this,_PQueue_queue,"f").size<e)}async onIdle(){__classPrivateFieldGet$1(this,_PQueue_pending,"f")===0&&__classPrivateFieldGet$1(this,_PQueue_queue,"f").size===0||await __classPrivateFieldGet$1(this,_PQueue_instances,"m",_PQueue_onEvent).call(this,"idle")}get size(){return __classPrivateFieldGet$1(this,_PQueue_queue,"f").size}sizeBy(e){return __classPrivateFieldGet$1(this,_PQueue_queue,"f").filter(e).length}get pending(){return __classPrivateFieldGet$1(this,_PQueue_pending,"f")}get isPaused(){return __classPrivateFieldGet$1(this,_PQueue_isPaused,"f")}}_PQueue_carryoverConcurrencyCount=new WeakMap,_PQueue_isIntervalIgnored=new WeakMap,_PQueue_intervalCount=new WeakMap,_PQueue_intervalCap=new WeakMap,_PQueue_interval=new WeakMap,_PQueue_intervalEnd=new WeakMap,_PQueue_intervalId=new WeakMap,_PQueue_timeoutId=new WeakMap,_PQueue_queue=new WeakMap,_PQueue_queueClass=new WeakMap,_PQueue_pending=new WeakMap,_PQueue_concurrency=new WeakMap,_PQueue_isPaused=new WeakMap,_PQueue_throwOnTimeout=new WeakMap,_PQueue_instances=new WeakSet,_PQueue_doesIntervalAllowAnother_get=function t(){return __classPrivateFieldGet$1(this,_PQueue_isIntervalIgnored,"f")||__classPrivateFieldGet$1(this,_PQueue_intervalCount,"f")<__classPrivateFieldGet$1(this,_PQueue_intervalCap,"f")},_PQueue_doesConcurrentAllowAnother_get=function t(){return __classPrivateFieldGet$1(this,_PQueue_pending,"f")<__classPrivateFieldGet$1(this,_PQueue_concurrency,"f")},_PQueue_next=function t(){var e;__classPrivateFieldSet$1(this,_PQueue_pending,(e=__classPrivateFieldGet$1(this,_PQueue_pending,"f"),e--,e),"f"),__classPrivateFieldGet$1(this,_PQueue_instances,"m",_PQueue_tryToStartAnother).call(this),this.emit("next")},_PQueue_onResumeInterval=function t(){__classPrivateFieldGet$1(this,_PQueue_instances,"m",_PQueue_onInterval).call(this),__classPrivateFieldGet$1(this,_PQueue_instances,"m",_PQueue_initializeIntervalIfNeeded).call(this),__classPrivateFieldSet$1(this,_PQueue_timeoutId,void 0,"f")},_PQueue_isIntervalPaused_get=function t(){const e=Date.now();if(__classPrivateFieldGet$1(this,_PQueue_intervalId,"f")===void 0){const n=__classPrivateFieldGet$1(this,_PQueue_intervalEnd,"f")-e;if(n<0)__classPrivateFieldSet$1(this,_PQueue_intervalCount,__classPrivateFieldGet$1(this,_PQueue_carryoverConcurrencyCount,"f")?__classPrivateFieldGet$1(this,_PQueue_pending,"f"):0,"f");else return __classPrivateFieldGet$1(this,_PQueue_timeoutId,"f")===void 0&&__classPrivateFieldSet$1(this,_PQueue_timeoutId,setTimeout(()=>{__classPrivateFieldGet$1(this,_PQueue_instances,"m",_PQueue_onResumeInterval).call(this)},n),"f"),!0}return!1},_PQueue_tryToStartAnother=function t(){if(__classPrivateFieldGet$1(this,_PQueue_queue,"f").size===0)return __classPrivateFieldGet$1(this,_PQueue_intervalId,"f")&&clearInterval(__classPrivateFieldGet$1(this,_PQueue_intervalId,"f")),__classPrivateFieldSet$1(this,_PQueue_intervalId,void 0,"f"),this.emit("empty"),__classPrivateFieldGet$1(this,_PQueue_pending,"f")===0&&this.emit("idle"),!1;if(!__classPrivateFieldGet$1(this,_PQueue_isPaused,"f")){const e=!__classPrivateFieldGet$1(this,_PQueue_instances,"a",_PQueue_isIntervalPaused_get);if(__classPrivateFieldGet$1(this,_PQueue_instances,"a",_PQueue_doesIntervalAllowAnother_get)&&__classPrivateFieldGet$1(this,_PQueue_instances,"a",_PQueue_doesConcurrentAllowAnother_get)){const n=__classPrivateFieldGet$1(this,_PQueue_queue,"f").dequeue();return n?(this.emit("active"),n(),e&&__classPrivateFieldGet$1(this,_PQueue_instances,"m",_PQueue_initializeIntervalIfNeeded).call(this),!0):!1}}return!1},_PQueue_initializeIntervalIfNeeded=function t(){__classPrivateFieldGet$1(this,_PQueue_isIntervalIgnored,"f")||__classPrivateFieldGet$1(this,_PQueue_intervalId,"f")!==void 0||(__classPrivateFieldSet$1(this,_PQueue_intervalId,setInterval(()=>{__classPrivateFieldGet$1(this,_PQueue_instances,"m",_PQueue_onInterval).call(this)},__classPrivateFieldGet$1(this,_PQueue_interval,"f")),"f"),__classPrivateFieldSet$1(this,_PQueue_intervalEnd,Date.now()+__classPrivateFieldGet$1(this,_PQueue_interval,"f"),"f"))},_PQueue_onInterval=function t(){__classPrivateFieldGet$1(this,_PQueue_intervalCount,"f")===0&&__classPrivateFieldGet$1(this,_PQueue_pending,"f")===0&&__classPrivateFieldGet$1(this,_PQueue_intervalId,"f")&&(clearInterval(__classPrivateFieldGet$1(this,_PQueue_intervalId,"f")),__classPrivateFieldSet$1(this,_PQueue_intervalId,void 0,"f")),__classPrivateFieldSet$1(this,_PQueue_intervalCount,__classPrivateFieldGet$1(this,_PQueue_carryoverConcurrencyCount,"f")?__classPrivateFieldGet$1(this,_PQueue_pending,"f"):0,"f"),__classPrivateFieldGet$1(this,_PQueue_instances,"m",_PQueue_processQueue).call(this)},_PQueue_processQueue=function t(){for(;__classPrivateFieldGet$1(this,_PQueue_instances,"m",_PQueue_tryToStartAnother).call(this););},_PQueue_throwOnAbort=async function t(e){return new Promise((n,a)=>{e.addEventListener("abort",()=>{a(new AbortError$1("The task was aborted."))},{once:!0})})},_PQueue_onEvent=async function t(e,n){return new Promise(a=>{const o=()=>{n&&!n()||(this.off(e,o),a())};this.on(e,o)})};const all$2=async t=>{const e=[];for await(const n of t)e.push(n);return e};var itAll=all$2;const all$3=getDefaultExportFromCjs(itAll);function dbOpenFailedError(t){return t=t||new Error("Cannot open database"),errcode(t,"ERR_DB_OPEN_FAILED")}function dbDeleteFailedError(t){return t=t||new Error("Delete failed"),errcode(t,"ERR_DB_DELETE_FAILED")}function dbWriteFailedError(t){return t=t||new Error("Write failed"),errcode(t,"ERR_DB_WRITE_FAILED")}function notFoundError(t){return t=t||new Error("Not Found"),errcode(t,"ERR_NOT_FOUND")}var cryptoBrowserify={},browser$b={exports:{}},safeBuffer={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=buffer$2,a=n.Buffer;function o(c,d){for(var p in c)d[p]=c[p]}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?t.exports=n:(o(n,e),e.Buffer=u);function u(c,d,p){return a(c,d,p)}u.prototype=Object.create(a.prototype),o(a,u),u.from=function(c,d,p){if(typeof c=="number")throw new TypeError("Argument must not be a number");return a(c,d,p)},u.alloc=function(c,d,p){if(typeof c!="number")throw new TypeError("Argument must be a number");var v=a(c);return d!==void 0?typeof p=="string"?v.fill(d,p):v.fill(d):v.fill(0),v},u.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return a(c)},u.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(c)}})(safeBuffer,safeBuffer.exports);var safeBufferExports=safeBuffer.exports,hasRequiredBrowser$b;function requireBrowser$b(){if(hasRequiredBrowser$b)return browser$b.exports;hasRequiredBrowser$b=1;var t=65536,e=4294967295;function n(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var a=safeBufferExports.Buffer,o=commonjsGlobal.crypto||commonjsGlobal.msCrypto;o&&o.getRandomValues?browser$b.exports=u:browser$b.exports=n;function u(c,d){if(c>e)throw new RangeError("requested too many random bytes");var p=a.allocUnsafe(c);if(c>0)if(c>t)for(var v=0;v<c;v+=t)o.getRandomValues(p.slice(v,v+t));else o.getRandomValues(p);return typeof d=="function"?process$1.nextTick(function(){d(null,p)}):p}return browser$b.exports}var inherits_browser={exports:{}};typeof Object.create=="function"?inherits_browser.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(e,n){if(n){e.super_=n;var a=function(){};a.prototype=n.prototype,e.prototype=new a,e.prototype.constructor=e}};var inherits_browserExports=inherits_browser.exports,readableBrowser={exports:{}},events$1={exports:{}},R=typeof Reflect=="object"?Reflect:null,ReflectApply=R&&typeof R.apply=="function"?R.apply:function t(e,n,a){return Function.prototype.apply.call(e,n,a)},ReflectOwnKeys;R&&typeof R.ownKeys=="function"?ReflectOwnKeys=R.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:ReflectOwnKeys=function(e){return Object.getOwnPropertyNames(e)};function ProcessEmitWarning(t){console&&console.warn&&console.warn(t)}var NumberIsNaN=Number.isNaN||function t(e){return e!==e};function EventEmitter$2(){EventEmitter$2.init.call(this)}events$1.exports=EventEmitter$2;events$1.exports.once=once;EventEmitter$2.EventEmitter=EventEmitter$2;EventEmitter$2.prototype._events=void 0;EventEmitter$2.prototype._eventsCount=0;EventEmitter$2.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(EventEmitter$2,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(t){if(typeof t!="number"||t<0||NumberIsNaN(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");defaultMaxListeners=t}});EventEmitter$2.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};EventEmitter$2.prototype.setMaxListeners=function t(e){if(typeof e!="number"||e<0||NumberIsNaN(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function _getMaxListeners(t){return t._maxListeners===void 0?EventEmitter$2.defaultMaxListeners:t._maxListeners}EventEmitter$2.prototype.getMaxListeners=function t(){return _getMaxListeners(this)};EventEmitter$2.prototype.emit=function t(e){for(var n=[],a=1;a<arguments.length;a++)n.push(arguments[a]);var o=e==="error",u=this._events;if(u!==void 0)o=o&&u.error===void 0;else if(!o)return!1;if(o){var c;if(n.length>0&&(c=n[0]),c instanceof Error)throw c;var d=new Error("Unhandled error."+(c?" ("+c.message+")":""));throw d.context=c,d}var p=u[e];if(p===void 0)return!1;if(typeof p=="function")ReflectApply(p,this,n);else for(var v=p.length,y=arrayClone(p,v),a=0;a<v;++a)ReflectApply(y[a],this,n);return!0};function _addListener(t,e,n,a){var o,u,c;if(checkListener(n),u=t._events,u===void 0?(u=t._events=Object.create(null),t._eventsCount=0):(u.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),u=t._events),c=u[e]),c===void 0)c=u[e]=n,++t._eventsCount;else if(typeof c=="function"?c=u[e]=a?[n,c]:[c,n]:a?c.unshift(n):c.push(n),o=_getMaxListeners(t),o>0&&c.length>o&&!c.warned){c.warned=!0;var d=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");d.name="MaxListenersExceededWarning",d.emitter=t,d.type=e,d.count=c.length,ProcessEmitWarning(d)}return t}EventEmitter$2.prototype.addListener=function t(e,n){return _addListener(this,e,n,!1)};EventEmitter$2.prototype.on=EventEmitter$2.prototype.addListener;EventEmitter$2.prototype.prependListener=function t(e,n){return _addListener(this,e,n,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(t,e,n){var a={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=onceWrapper.bind(a);return o.listener=n,a.wrapFn=o,o}EventEmitter$2.prototype.once=function t(e,n){return checkListener(n),this.on(e,_onceWrap(this,e,n)),this};EventEmitter$2.prototype.prependOnceListener=function t(e,n){return checkListener(n),this.prependListener(e,_onceWrap(this,e,n)),this};EventEmitter$2.prototype.removeListener=function t(e,n){var a,o,u,c,d;if(checkListener(n),o=this._events,o===void 0)return this;if(a=o[e],a===void 0)return this;if(a===n||a.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete o[e],o.removeListener&&this.emit("removeListener",e,a.listener||n));else if(typeof a!="function"){for(u=-1,c=a.length-1;c>=0;c--)if(a[c]===n||a[c].listener===n){d=a[c].listener,u=c;break}if(u<0)return this;u===0?a.shift():spliceOne(a,u),a.length===1&&(o[e]=a[0]),o.removeListener!==void 0&&this.emit("removeListener",e,d||n)}return this};EventEmitter$2.prototype.off=EventEmitter$2.prototype.removeListener;EventEmitter$2.prototype.removeAllListeners=function t(e){var n,a,o;if(a=this._events,a===void 0)return this;if(a.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):a[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete a[e]),this;if(arguments.length===0){var u=Object.keys(a),c;for(o=0;o<u.length;++o)c=u[o],c!=="removeListener"&&this.removeAllListeners(c);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=a[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(o=n.length-1;o>=0;o--)this.removeListener(e,n[o]);return this};function _listeners(t,e,n){var a=t._events;if(a===void 0)return[];var o=a[e];return o===void 0?[]:typeof o=="function"?n?[o.listener||o]:[o]:n?unwrapListeners(o):arrayClone(o,o.length)}EventEmitter$2.prototype.listeners=function t(e){return _listeners(this,e,!0)};EventEmitter$2.prototype.rawListeners=function t(e){return _listeners(this,e,!1)};EventEmitter$2.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):listenerCount.call(t,e)};EventEmitter$2.prototype.listenerCount=listenerCount;function listenerCount(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}EventEmitter$2.prototype.eventNames=function t(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(t,e){for(var n=new Array(e),a=0;a<e;++a)n[a]=t[a];return n}function spliceOne(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function unwrapListeners(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function once(t,e){return new Promise(function(n,a){function o(c){t.removeListener(e,u),a(c)}function u(){typeof t.removeListener=="function"&&t.removeListener("error",o),n([].slice.call(arguments))}eventTargetAgnosticAddListener(t,e,u,{once:!0}),e!=="error"&&addErrorHandlerIfEventEmitter(t,o,{once:!0})})}function addErrorHandlerIfEventEmitter(t,e,n){typeof t.on=="function"&&eventTargetAgnosticAddListener(t,"error",e,n)}function eventTargetAgnosticAddListener(t,e,n,a){if(typeof t.on=="function")a.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function o(u){a.once&&t.removeEventListener(e,o),n(u)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var eventsExports=events$1.exports,streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=eventsExports.EventEmitter),streamBrowser}var util={},types={},shams$1=function t(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),a=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(a)!=="[object Symbol]")return!1;var o=42;e[n]=o;for(n in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var u=Object.getOwnPropertySymbols(e);if(u.length!==1||u[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(e,n);if(c.value!==o||c.enumerable!==!0)return!1}return!0},hasSymbols$2=shams$1,shams=function t(){return hasSymbols$2()&&!!Symbol.toStringTag},origSymbol=typeof Symbol<"u"&&Symbol,hasSymbolSham=shams$1,hasSymbols$1=function t(){return typeof origSymbol!="function"||typeof Symbol!="function"||typeof origSymbol("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:hasSymbolSham()},test={foo:{}},$Object=Object,hasProto$1=function t(){return{__proto__:test}.foo===test.foo&&!({__proto__:null}instanceof $Object)},bind$1=functionBind,src=bind$1.call(Function.call,Object.prototype.hasOwnProperty),undefined$1,$SyntaxError=SyntaxError,$Function=Function,$TypeError=TypeError,getEvalledConstructor=function(t){try{return $Function('"use strict"; return ('+t+").constructor;")()}catch{}},$gOPD$1=Object.getOwnPropertyDescriptor;if($gOPD$1)try{$gOPD$1({},"")}catch{$gOPD$1=null}var throwTypeError=function(){throw new $TypeError},ThrowTypeError=$gOPD$1?function(){try{return arguments.callee,throwTypeError}catch{try{return $gOPD$1(arguments,"callee").get}catch{return throwTypeError}}}():throwTypeError,hasSymbols=hasSymbols$1(),hasProto=hasProto$1(),getProto$1=Object.getPrototypeOf||(hasProto?function(t){return t.__proto__}:null),needsEval={},TypedArray=typeof Uint8Array>"u"||!getProto$1?undefined$1:getProto$1(Uint8Array),INTRINSICS={"%AggregateError%":typeof AggregateError>"u"?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols&&getProto$1?getProto$1([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":typeof Atomics>"u"?undefined$1:Atomics,"%BigInt%":typeof BigInt>"u"?undefined$1:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?undefined$1:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?undefined$1:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?undefined$1:Float32Array,"%Float64Array%":typeof Float64Array>"u"?undefined$1:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":typeof Int8Array>"u"?undefined$1:Int8Array,"%Int16Array%":typeof Int16Array>"u"?undefined$1:Int16Array,"%Int32Array%":typeof Int32Array>"u"?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols&&getProto$1?getProto$1(getProto$1([][Symbol.iterator]())):undefined$1,"%JSON%":typeof JSON=="object"?JSON:undefined$1,"%Map%":typeof Map>"u"?undefined$1:Map,"%MapIteratorPrototype%":typeof Map>"u"||!hasSymbols||!getProto$1?undefined$1:getProto$1(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?undefined$1:Promise,"%Proxy%":typeof Proxy>"u"?undefined$1:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?undefined$1:Set,"%SetIteratorPrototype%":typeof Set>"u"||!hasSymbols||!getProto$1?undefined$1:getProto$1(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols&&getProto$1?getProto$1(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols?Symbol:undefined$1,"%SyntaxError%":$SyntaxError,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError,"%Uint8Array%":typeof Uint8Array>"u"?undefined$1:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?undefined$1:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?undefined$1:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?undefined$1:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?undefined$1:WeakMap,"%WeakRef%":typeof WeakRef>"u"?undefined$1:WeakRef,"%WeakSet%":typeof WeakSet>"u"?undefined$1:WeakSet};if(getProto$1)try{null.error}catch(t){var errorProto=getProto$1(getProto$1(t));INTRINSICS["%Error.prototype%"]=errorProto}var doEval=function t(e){var n;if(e==="%AsyncFunction%")n=getEvalledConstructor("async function () {}");else if(e==="%GeneratorFunction%")n=getEvalledConstructor("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=getEvalledConstructor("async function* () {}");else if(e==="%AsyncGenerator%"){var a=t("%AsyncGeneratorFunction%");a&&(n=a.prototype)}else if(e==="%AsyncIteratorPrototype%"){var o=t("%AsyncGenerator%");o&&getProto$1&&(n=getProto$1(o.prototype))}return INTRINSICS[e]=n,n},LEGACY_ALIASES={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind=functionBind,hasOwn=src,$concat=bind.call(Function.call,Array.prototype.concat),$spliceApply=bind.call(Function.apply,Array.prototype.splice),$replace=bind.call(Function.call,String.prototype.replace),$strSlice=bind.call(Function.call,String.prototype.slice),$exec=bind.call(Function.call,RegExp.prototype.exec),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function t(e){var n=$strSlice(e,0,1),a=$strSlice(e,-1);if(n==="%"&&a!=="%")throw new $SyntaxError("invalid intrinsic syntax, expected closing `%`");if(a==="%"&&n!=="%")throw new $SyntaxError("invalid intrinsic syntax, expected opening `%`");var o=[];return $replace(e,rePropName,function(u,c,d,p){o[o.length]=d?$replace(p,reEscapeChar,"$1"):c||u}),o},getBaseIntrinsic=function t(e,n){var a=e,o;if(hasOwn(LEGACY_ALIASES,a)&&(o=LEGACY_ALIASES[a],a="%"+o[0]+"%"),hasOwn(INTRINSICS,a)){var u=INTRINSICS[a];if(u===needsEval&&(u=doEval(a)),typeof u>"u"&&!n)throw new $TypeError("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:o,name:a,value:u}}throw new $SyntaxError("intrinsic "+e+" does not exist!")},getIntrinsic=function t(e,n){if(typeof e!="string"||e.length===0)throw new $TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new $TypeError('"allowMissing" argument must be a boolean');if($exec(/^%?[^%]*%?$/,e)===null)throw new $SyntaxError("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var a=stringToPath(e),o=a.length>0?a[0]:"",u=getBaseIntrinsic("%"+o+"%",n),c=u.name,d=u.value,p=!1,v=u.alias;v&&(o=v[0],$spliceApply(a,$concat([0,1],v)));for(var y=1,b=!0;y<a.length;y+=1){var _=a[y],w=$strSlice(_,0,1),E=$strSlice(_,-1);if((w==='"'||w==="'"||w==="`"||E==='"'||E==="'"||E==="`")&&w!==E)throw new $SyntaxError("property names with quotes must have matching quotes");if((_==="constructor"||!b)&&(p=!0),o+="."+_,c="%"+o+"%",hasOwn(INTRINSICS,c))d=INTRINSICS[c];else if(d!=null){if(!(_ in d)){if(!n)throw new $TypeError("base intrinsic for "+e+" exists, but the property is not available.");return}if($gOPD$1&&y+1>=a.length){var $=$gOPD$1(d,_);b=!!$,b&&"get"in $&&!("originalValue"in $.get)?d=$.get:d=d[_]}else b=hasOwn(d,_),d=d[_];b&&!p&&(INTRINSICS[c]=d)}}return d},callBind$1={exports:{}};(function(t){var e=functionBind,n=getIntrinsic,a=n("%Function.prototype.apply%"),o=n("%Function.prototype.call%"),u=n("%Reflect.apply%",!0)||e.call(o,a),c=n("%Object.getOwnPropertyDescriptor%",!0),d=n("%Object.defineProperty%",!0),p=n("%Math.max%");if(d)try{d({},"a",{value:1})}catch{d=null}t.exports=function(b){var _=u(e,o,arguments);if(c&&d){var w=c(_,"length");w.configurable&&d(_,"length",{value:1+p(0,b.length-(arguments.length-1))})}return _};var v=function(){return u(e,a,arguments)};d?d(t.exports,"apply",{value:v}):t.exports.apply=v})(callBind$1);var callBindExports=callBind$1.exports,GetIntrinsic$1=getIntrinsic,callBind=callBindExports,$indexOf$1=callBind(GetIntrinsic$1("String.prototype.indexOf")),callBound$3=function t(e,n){var a=GetIntrinsic$1(e,!!n);return typeof a=="function"&&$indexOf$1(e,".prototype.")>-1?callBind(a):a},hasToStringTag$4=shams(),callBound$2=callBound$3,$toString$2=callBound$2("Object.prototype.toString"),isStandardArguments=function t(e){return hasToStringTag$4&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:$toString$2(e)==="[object Arguments]"},isLegacyArguments=function t(e){return isStandardArguments(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&$toString$2(e)!=="[object Array]"&&$toString$2(e.callee)==="[object Function]"},supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;var isArguments=supportsStandardArguments?isStandardArguments:isLegacyArguments,toStr$2=Object.prototype.toString,fnToStr$1=Function.prototype.toString,isFnRegex=/^\s*(?:function)?\*/,hasToStringTag$3=shams(),getProto=Object.getPrototypeOf,getGeneratorFunc=function(){if(!hasToStringTag$3)return!1;try{return Function("return function*() {}")()}catch{}},GeneratorFunction,isGeneratorFunction=function t(e){if(typeof e!="function")return!1;if(isFnRegex.test(fnToStr$1.call(e)))return!0;if(!hasToStringTag$3){var n=toStr$2.call(e);return n==="[object GeneratorFunction]"}if(!getProto)return!1;if(typeof GeneratorFunction>"u"){var a=getGeneratorFunc();GeneratorFunction=a?getProto(a):!1}return getProto(e)===GeneratorFunction},fnToStr=Function.prototype.toString,reflectApply=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,badArrayLike,isCallableMarker;if(typeof reflectApply=="function"&&typeof Object.defineProperty=="function")try{badArrayLike=Object.defineProperty({},"length",{get:function(){throw isCallableMarker}}),isCallableMarker={},reflectApply(function(){throw 42},null,badArrayLike)}catch(t){t!==isCallableMarker&&(reflectApply=null)}else reflectApply=null;var constructorRegex=/^\s*class\b/,isES6ClassFn=function t(e){try{var n=fnToStr.call(e);return constructorRegex.test(n)}catch{return!1}},tryFunctionObject=function t(e){try{return isES6ClassFn(e)?!1:(fnToStr.call(e),!0)}catch{return!1}},toStr$1=Object.prototype.toString,objectClass="[object Object]",fnClass="[object Function]",genClass="[object GeneratorFunction]",ddaClass="[object HTMLAllCollection]",ddaClass2="[object HTML document.all class]",ddaClass3="[object HTMLCollection]",hasToStringTag$2=typeof Symbol=="function"&&!!Symbol.toStringTag,isIE68=!(0 in[,]),isDDA=function t(){return!1};if(typeof document=="object"){var all$1=document.all;toStr$1.call(all$1)===toStr$1.call(document.all)&&(isDDA=function(e){if((isIE68||!e)&&(typeof e>"u"||typeof e=="object"))try{var n=toStr$1.call(e);return(n===ddaClass||n===ddaClass2||n===ddaClass3||n===objectClass)&&e("")==null}catch{}return!1})}var isCallable$1=reflectApply?function t(e){if(isDDA(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{reflectApply(e,null,badArrayLike)}catch(n){if(n!==isCallableMarker)return!1}return!isES6ClassFn(e)&&tryFunctionObject(e)}:function t(e){if(isDDA(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(hasToStringTag$2)return tryFunctionObject(e);if(isES6ClassFn(e))return!1;var n=toStr$1.call(e);return n!==fnClass&&n!==genClass&&!/^\[object HTML/.test(n)?!1:tryFunctionObject(e)},isCallable=isCallable$1,toStr=Object.prototype.toString,hasOwnProperty$1=Object.prototype.hasOwnProperty,forEachArray=function t(e,n,a){for(var o=0,u=e.length;o<u;o++)hasOwnProperty$1.call(e,o)&&(a==null?n(e[o],o,e):n.call(a,e[o],o,e))},forEachString=function t(e,n,a){for(var o=0,u=e.length;o<u;o++)a==null?n(e.charAt(o),o,e):n.call(a,e.charAt(o),o,e)},forEachObject=function t(e,n,a){for(var o in e)hasOwnProperty$1.call(e,o)&&(a==null?n(e[o],o,e):n.call(a,e[o],o,e))},forEach$2=function t(e,n,a){if(!isCallable(n))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=a),toStr.call(e)==="[object Array]"?forEachArray(e,n,o):typeof e=="string"?forEachString(e,n,o):forEachObject(e,n,o)},forEach_1=forEach$2,possibleNames=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],g$2=typeof globalThis>"u"?commonjsGlobal:globalThis,availableTypedArrays$2=function t(){for(var e=[],n=0;n<possibleNames.length;n++)typeof g$2[possibleNames[n]]=="function"&&(e[e.length]=possibleNames[n]);return e},GetIntrinsic=getIntrinsic,$gOPD=GetIntrinsic("%Object.getOwnPropertyDescriptor%",!0);if($gOPD)try{$gOPD([],"length")}catch{$gOPD=null}var gopd=$gOPD,forEach$1=forEach_1,availableTypedArrays$1=availableTypedArrays$2,callBound$1=callBound$3,$toString$1=callBound$1("Object.prototype.toString"),hasToStringTag$1=shams(),gOPD$1=gopd,g$1=typeof globalThis>"u"?commonjsGlobal:globalThis,typedArrays$1=availableTypedArrays$1(),$indexOf=callBound$1("Array.prototype.indexOf",!0)||function t(e,n){for(var a=0;a<e.length;a+=1)if(e[a]===n)return a;return-1},$slice$1=callBound$1("String.prototype.slice"),toStrTags$1={},getPrototypeOf$1=Object.getPrototypeOf;hasToStringTag$1&&gOPD$1&&getPrototypeOf$1&&forEach$1(typedArrays$1,function(t){var e=new g$1[t];if(Symbol.toStringTag in e){var n=getPrototypeOf$1(e),a=gOPD$1(n,Symbol.toStringTag);if(!a){var o=getPrototypeOf$1(n);a=gOPD$1(o,Symbol.toStringTag)}toStrTags$1[t]=a.get}});var tryTypedArrays$1=function t(e){var n=!1;return forEach$1(toStrTags$1,function(a,o){if(!n)try{n=a.call(e)===o}catch{}}),n},isTypedArray$1=function t(e){if(!e||typeof e!="object")return!1;if(!hasToStringTag$1||!(Symbol.toStringTag in e)){var n=$slice$1($toString$1(e),8,-1);return $indexOf(typedArrays$1,n)>-1}return gOPD$1?tryTypedArrays$1(e):!1},forEach=forEach_1,availableTypedArrays=availableTypedArrays$2,callBound=callBound$3,gOPD=gopd,$toString=callBound("Object.prototype.toString"),hasToStringTag=shams(),g=typeof globalThis>"u"?commonjsGlobal:globalThis,typedArrays=availableTypedArrays(),$slice=callBound("String.prototype.slice"),toStrTags={},getPrototypeOf=Object.getPrototypeOf;hasToStringTag&&gOPD&&getPrototypeOf&&forEach(typedArrays,function(t){if(typeof g[t]=="function"){var e=new g[t];if(Symbol.toStringTag in e){var n=getPrototypeOf(e),a=gOPD(n,Symbol.toStringTag);if(!a){var o=getPrototypeOf(n);a=gOPD(o,Symbol.toStringTag)}toStrTags[t]=a.get}}});var tryTypedArrays=function t(e){var n=!1;return forEach(toStrTags,function(a,o){if(!n)try{var u=a.call(e);u===o&&(n=u)}catch{}}),n},isTypedArray=isTypedArray$1,whichTypedArray=function t(e){return isTypedArray(e)?!hasToStringTag||!(Symbol.toStringTag in e)?$slice($toString(e),8,-1):tryTypedArrays(e):!1};(function(t){var e=isArguments,n=isGeneratorFunction,a=whichTypedArray,o=isTypedArray$1;function u(Q){return Q.call.bind(Q)}var c=typeof BigInt<"u",d=typeof Symbol<"u",p=u(Object.prototype.toString),v=u(Number.prototype.valueOf),y=u(String.prototype.valueOf),b=u(Boolean.prototype.valueOf);if(c)var _=u(BigInt.prototype.valueOf);if(d)var w=u(Symbol.prototype.valueOf);function E(Q,we){if(typeof Q!="object")return!1;try{return we(Q),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=n,t.isTypedArray=o;function $(Q){return typeof Promise<"u"&&Q instanceof Promise||Q!==null&&typeof Q=="object"&&typeof Q.then=="function"&&typeof Q.catch=="function"}t.isPromise=$;function C(Q){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Q):o(Q)||V(Q)}t.isArrayBufferView=C;function P(Q){return a(Q)==="Uint8Array"}t.isUint8Array=P;function z(Q){return a(Q)==="Uint8ClampedArray"}t.isUint8ClampedArray=z;function J(Q){return a(Q)==="Uint16Array"}t.isUint16Array=J;function X(Q){return a(Q)==="Uint32Array"}t.isUint32Array=X;function re(Q){return a(Q)==="Int8Array"}t.isInt8Array=re;function de(Q){return a(Q)==="Int16Array"}t.isInt16Array=de;function xe(Q){return a(Q)==="Int32Array"}t.isInt32Array=xe;function $e(Q){return a(Q)==="Float32Array"}t.isFloat32Array=$e;function Pe(Q){return a(Q)==="Float64Array"}t.isFloat64Array=Pe;function it(Q){return a(Q)==="BigInt64Array"}t.isBigInt64Array=it;function fe(Q){return a(Q)==="BigUint64Array"}t.isBigUint64Array=fe;function B(Q){return p(Q)==="[object Map]"}B.working=typeof Map<"u"&&B(new Map);function k(Q){return typeof Map>"u"?!1:B.working?B(Q):Q instanceof Map}t.isMap=k;function x(Q){return p(Q)==="[object Set]"}x.working=typeof Set<"u"&&x(new Set);function A(Q){return typeof Set>"u"?!1:x.working?x(Q):Q instanceof Set}t.isSet=A;function D(Q){return p(Q)==="[object WeakMap]"}D.working=typeof WeakMap<"u"&&D(new WeakMap);function q(Q){return typeof WeakMap>"u"?!1:D.working?D(Q):Q instanceof WeakMap}t.isWeakMap=q;function G(Q){return p(Q)==="[object WeakSet]"}G.working=typeof WeakSet<"u"&&G(new WeakSet);function j(Q){return G(Q)}t.isWeakSet=j;function T(Q){return p(Q)==="[object ArrayBuffer]"}T.working=typeof ArrayBuffer<"u"&&T(new ArrayBuffer);function F(Q){return typeof ArrayBuffer>"u"?!1:T.working?T(Q):Q instanceof ArrayBuffer}t.isArrayBuffer=F;function M(Q){return p(Q)==="[object DataView]"}M.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&M(new DataView(new ArrayBuffer(1),0,1));function V(Q){return typeof DataView>"u"?!1:M.working?M(Q):Q instanceof DataView}t.isDataView=V;var ge=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ke(Q){return p(Q)==="[object SharedArrayBuffer]"}function he(Q){return typeof ge>"u"?!1:(typeof ke.working>"u"&&(ke.working=ke(new ge)),ke.working?ke(Q):Q instanceof ge)}t.isSharedArrayBuffer=he;function be(Q){return p(Q)==="[object AsyncFunction]"}t.isAsyncFunction=be;function Me(Q){return p(Q)==="[object Map Iterator]"}t.isMapIterator=Me;function Re(Q){return p(Q)==="[object Set Iterator]"}t.isSetIterator=Re;function Je(Q){return p(Q)==="[object Generator]"}t.isGeneratorObject=Je;function le(Q){return p(Q)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=le;function ue(Q){return E(Q,v)}t.isNumberObject=ue;function qe(Q){return E(Q,y)}t.isStringObject=qe;function Ge(Q){return E(Q,b)}t.isBooleanObject=Ge;function ot(Q){return c&&E(Q,_)}t.isBigIntObject=ot;function ie(Q){return d&&E(Q,w)}t.isSymbolObject=ie;function L(Q){return ue(Q)||qe(Q)||Ge(Q)||ot(Q)||ie(Q)}t.isBoxedPrimitive=L;function N(Q){return typeof Uint8Array<"u"&&(F(Q)||he(Q))}t.isAnyArrayBuffer=N,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Q){Object.defineProperty(t,Q,{enumerable:!1,value:function(){throw new Error(Q+" is not supported in userland")}})})})(types);var isBufferBrowser=function t(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"};(function(t){var e=Object.getOwnPropertyDescriptors||function(V){for(var ge=Object.keys(V),ke={},he=0;he<ge.length;he++)ke[ge[he]]=Object.getOwnPropertyDescriptor(V,ge[he]);return ke},n=/%[sdj%]/g;t.format=function(M){if(!re(M)){for(var V=[],ge=0;ge<arguments.length;ge++)V.push(c(arguments[ge]));return V.join(" ")}for(var ge=1,ke=arguments,he=ke.length,be=String(M).replace(n,function(Re){if(Re==="%%")return"%";if(ge>=he)return Re;switch(Re){case"%s":return String(ke[ge++]);case"%d":return Number(ke[ge++]);case"%j":try{return JSON.stringify(ke[ge++])}catch{return"[Circular]"}default:return Re}}),Me=ke[ge];ge<he;Me=ke[++ge])z(Me)||!Pe(Me)?be+=" "+Me:be+=" "+c(Me);return be},t.deprecate=function(M,V){if(typeof process$1<"u"&&process$1.noDeprecation===!0)return M;if(typeof process$1>"u")return function(){return t.deprecate(M,V).apply(this,arguments)};var ge=!1;function ke(){if(!ge){if(process$1.throwDeprecation)throw new Error(V);process$1.traceDeprecation?console.trace(V):console.error(V),ge=!0}return M.apply(this,arguments)}return ke};var a={},o=/^$/;if({}.NODE_DEBUG){var u={}.NODE_DEBUG;u=u.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+u+"$","i")}t.debuglog=function(M){if(M=M.toUpperCase(),!a[M])if(o.test(M)){var V=process$1.pid;a[M]=function(){var ge=t.format.apply(t,arguments);console.error("%s %d: %s",M,V,ge)}}else a[M]=function(){};return a[M]};function c(M,V){var ge={seen:[],stylize:p};return arguments.length>=3&&(ge.depth=arguments[2]),arguments.length>=4&&(ge.colors=arguments[3]),P(V)?ge.showHidden=V:V&&t._extend(ge,V),xe(ge.showHidden)&&(ge.showHidden=!1),xe(ge.depth)&&(ge.depth=2),xe(ge.colors)&&(ge.colors=!1),xe(ge.customInspect)&&(ge.customInspect=!0),ge.colors&&(ge.stylize=d),y(ge,M,ge.depth)}t.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function d(M,V){var ge=c.styles[V];return ge?"\x1B["+c.colors[ge][0]+"m"+M+"\x1B["+c.colors[ge][1]+"m":M}function p(M,V){return M}function v(M){var V={};return M.forEach(function(ge,ke){V[ge]=!0}),V}function y(M,V,ge){if(M.customInspect&&V&&B(V.inspect)&&V.inspect!==t.inspect&&!(V.constructor&&V.constructor.prototype===V)){var ke=V.inspect(ge,M);return re(ke)||(ke=y(M,ke,ge)),ke}var he=b(M,V);if(he)return he;var be=Object.keys(V),Me=v(be);if(M.showHidden&&(be=Object.getOwnPropertyNames(V)),fe(V)&&(be.indexOf("message")>=0||be.indexOf("description")>=0))return _(V);if(be.length===0){if(B(V)){var Re=V.name?": "+V.name:"";return M.stylize("[Function"+Re+"]","special")}if($e(V))return M.stylize(RegExp.prototype.toString.call(V),"regexp");if(it(V))return M.stylize(Date.prototype.toString.call(V),"date");if(fe(V))return _(V)}var Je="",le=!1,ue=["{","}"];if(C(V)&&(le=!0,ue=["[","]"]),B(V)){var qe=V.name?": "+V.name:"";Je=" [Function"+qe+"]"}if($e(V)&&(Je=" "+RegExp.prototype.toString.call(V)),it(V)&&(Je=" "+Date.prototype.toUTCString.call(V)),fe(V)&&(Je=" "+_(V)),be.length===0&&(!le||V.length==0))return ue[0]+Je+ue[1];if(ge<0)return $e(V)?M.stylize(RegExp.prototype.toString.call(V),"regexp"):M.stylize("[Object]","special");M.seen.push(V);var Ge;return le?Ge=w(M,V,ge,Me,be):Ge=be.map(function(ot){return E(M,V,ge,Me,ot,le)}),M.seen.pop(),$(Ge,Je,ue)}function b(M,V){if(xe(V))return M.stylize("undefined","undefined");if(re(V)){var ge="'"+JSON.stringify(V).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return M.stylize(ge,"string")}if(X(V))return M.stylize(""+V,"number");if(P(V))return M.stylize(""+V,"boolean");if(z(V))return M.stylize("null","null")}function _(M){return"["+Error.prototype.toString.call(M)+"]"}function w(M,V,ge,ke,he){for(var be=[],Me=0,Re=V.length;Me<Re;++Me)G(V,String(Me))?be.push(E(M,V,ge,ke,String(Me),!0)):be.push("");return he.forEach(function(Je){Je.match(/^\d+$/)||be.push(E(M,V,ge,ke,Je,!0))}),be}function E(M,V,ge,ke,he,be){var Me,Re,Je;if(Je=Object.getOwnPropertyDescriptor(V,he)||{value:V[he]},Je.get?Je.set?Re=M.stylize("[Getter/Setter]","special"):Re=M.stylize("[Getter]","special"):Je.set&&(Re=M.stylize("[Setter]","special")),G(ke,he)||(Me="["+he+"]"),Re||(M.seen.indexOf(Je.value)<0?(z(ge)?Re=y(M,Je.value,null):Re=y(M,Je.value,ge-1),Re.indexOf(`
`)>-1&&(be?Re=Re.split(`
`).map(function(le){return"  "+le}).join(`
`).slice(2):Re=`
`+Re.split(`
`).map(function(le){return"   "+le}).join(`
`))):Re=M.stylize("[Circular]","special")),xe(Me)){if(be&&he.match(/^\d+$/))return Re;Me=JSON.stringify(""+he),Me.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Me=Me.slice(1,-1),Me=M.stylize(Me,"name")):(Me=Me.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Me=M.stylize(Me,"string"))}return Me+": "+Re}function $(M,V,ge){var ke=M.reduce(function(he,be){return be.indexOf(`
`)>=0,he+be.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ke>60?ge[0]+(V===""?"":V+`
 `)+" "+M.join(`,
  `)+" "+ge[1]:ge[0]+V+" "+M.join(", ")+" "+ge[1]}t.types=types;function C(M){return Array.isArray(M)}t.isArray=C;function P(M){return typeof M=="boolean"}t.isBoolean=P;function z(M){return M===null}t.isNull=z;function J(M){return M==null}t.isNullOrUndefined=J;function X(M){return typeof M=="number"}t.isNumber=X;function re(M){return typeof M=="string"}t.isString=re;function de(M){return typeof M=="symbol"}t.isSymbol=de;function xe(M){return M===void 0}t.isUndefined=xe;function $e(M){return Pe(M)&&x(M)==="[object RegExp]"}t.isRegExp=$e,t.types.isRegExp=$e;function Pe(M){return typeof M=="object"&&M!==null}t.isObject=Pe;function it(M){return Pe(M)&&x(M)==="[object Date]"}t.isDate=it,t.types.isDate=it;function fe(M){return Pe(M)&&(x(M)==="[object Error]"||M instanceof Error)}t.isError=fe,t.types.isNativeError=fe;function B(M){return typeof M=="function"}t.isFunction=B;function k(M){return M===null||typeof M=="boolean"||typeof M=="number"||typeof M=="string"||typeof M=="symbol"||typeof M>"u"}t.isPrimitive=k,t.isBuffer=isBufferBrowser;function x(M){return Object.prototype.toString.call(M)}function A(M){return M<10?"0"+M.toString(10):M.toString(10)}var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function q(){var M=new Date,V=[A(M.getHours()),A(M.getMinutes()),A(M.getSeconds())].join(":");return[M.getDate(),D[M.getMonth()],V].join(" ")}t.log=function(){console.log("%s - %s",q(),t.format.apply(t,arguments))},t.inherits=inherits_browserExports,t._extend=function(M,V){if(!V||!Pe(V))return M;for(var ge=Object.keys(V),ke=ge.length;ke--;)M[ge[ke]]=V[ge[ke]];return M};function G(M,V){return Object.prototype.hasOwnProperty.call(M,V)}var j=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(V){if(typeof V!="function")throw new TypeError('The "original" argument must be of type Function');if(j&&V[j]){var ge=V[j];if(typeof ge!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ge,j,{value:ge,enumerable:!1,writable:!1,configurable:!0}),ge}function ge(){for(var ke,he,be=new Promise(function(Je,le){ke=Je,he=le}),Me=[],Re=0;Re<arguments.length;Re++)Me.push(arguments[Re]);Me.push(function(Je,le){Je?he(Je):ke(le)});try{V.apply(this,Me)}catch(Je){he(Je)}return be}return Object.setPrototypeOf(ge,Object.getPrototypeOf(V)),j&&Object.defineProperty(ge,j,{value:ge,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ge,e(V))},t.promisify.custom=j;function T(M,V){if(!M){var ge=new Error("Promise was rejected with a falsy value");ge.reason=M,M=ge}return V(M)}function F(M){if(typeof M!="function")throw new TypeError('The "original" argument must be of type Function');function V(){for(var ge=[],ke=0;ke<arguments.length;ke++)ge.push(arguments[ke]);var he=ge.pop();if(typeof he!="function")throw new TypeError("The last argument must be of type Function");var be=this,Me=function(){return he.apply(be,arguments)};M.apply(this,ge).then(function(Re){process$1.nextTick(Me.bind(null,null,Re))},function(Re){process$1.nextTick(T.bind(null,Re,Me))})}return Object.setPrototypeOf(V,Object.getPrototypeOf(M)),Object.defineProperties(V,e(M)),V}t.callbackify=F})(util);var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function t(E,$){var C=Object.keys(E);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(E);$&&(P=P.filter(function(z){return Object.getOwnPropertyDescriptor(E,z).enumerable})),C.push.apply(C,P)}return C}function e(E){for(var $=1;$<arguments.length;$++){var C=arguments[$]!=null?arguments[$]:{};$%2?t(Object(C),!0).forEach(function(P){n(E,P,C[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(C)):t(Object(C)).forEach(function(P){Object.defineProperty(E,P,Object.getOwnPropertyDescriptor(C,P))})}return E}function n(E,$,C){return $=c($),$ in E?Object.defineProperty(E,$,{value:C,enumerable:!0,configurable:!0,writable:!0}):E[$]=C,E}function a(E,$){if(!(E instanceof $))throw new TypeError("Cannot call a class as a function")}function o(E,$){for(var C=0;C<$.length;C++){var P=$[C];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(E,c(P.key),P)}}function u(E,$,C){return $&&o(E.prototype,$),C&&o(E,C),Object.defineProperty(E,"prototype",{writable:!1}),E}function c(E){var $=d(E,"string");return typeof $=="symbol"?$:String($)}function d(E,$){if(typeof E!="object"||E===null)return E;var C=E[Symbol.toPrimitive];if(C!==void 0){var P=C.call(E,$||"default");if(typeof P!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(E)}var p=buffer$2,v=p.Buffer,y=util,b=y.inspect,_=b&&b.custom||"inspect";function w(E,$,C){v.prototype.copy.call(E,$,C)}return buffer_list=function(){function E(){a(this,E),this.head=null,this.tail=null,this.length=0}return u(E,[{key:"push",value:function(C){var P={data:C,next:null};this.length>0?this.tail.next=P:this.head=P,this.tail=P,++this.length}},{key:"unshift",value:function(C){var P={data:C,next:this.head};this.length===0&&(this.tail=P),this.head=P,++this.length}},{key:"shift",value:function(){if(this.length!==0){var C=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,C}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(C){if(this.length===0)return"";for(var P=this.head,z=""+P.data;P=P.next;)z+=C+P.data;return z}},{key:"concat",value:function(C){if(this.length===0)return v.alloc(0);for(var P=v.allocUnsafe(C>>>0),z=this.head,J=0;z;)w(z.data,P,J),J+=z.data.length,z=z.next;return P}},{key:"consume",value:function(C,P){var z;return C<this.head.data.length?(z=this.head.data.slice(0,C),this.head.data=this.head.data.slice(C)):C===this.head.data.length?z=this.shift():z=P?this._getString(C):this._getBuffer(C),z}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(C){var P=this.head,z=1,J=P.data;for(C-=J.length;P=P.next;){var X=P.data,re=C>X.length?X.length:C;if(re===X.length?J+=X:J+=X.slice(0,C),C-=re,C===0){re===X.length?(++z,P.next?this.head=P.next:this.head=this.tail=null):(this.head=P,P.data=X.slice(re));break}++z}return this.length-=z,J}},{key:"_getBuffer",value:function(C){var P=v.allocUnsafe(C),z=this.head,J=1;for(z.data.copy(P),C-=z.data.length;z=z.next;){var X=z.data,re=C>X.length?X.length:C;if(X.copy(P,P.length-C,0,re),C-=re,C===0){re===X.length?(++J,z.next?this.head=z.next:this.head=this.tail=null):(this.head=z,z.data=X.slice(re));break}++J}return this.length-=J,P}},{key:_,value:function(C,P){return b(this,e(e({},P),{},{depth:0,customInspect:!1}))}}]),E}(),buffer_list}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;function t(c,d){var p=this,v=this._readableState&&this._readableState.destroyed,y=this._writableState&&this._writableState.destroyed;return v||y?(d?d(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1.nextTick(o,this,c)):process$1.nextTick(o,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(b){!d&&b?p._writableState?p._writableState.errorEmitted?process$1.nextTick(n,p):(p._writableState.errorEmitted=!0,process$1.nextTick(e,p,b)):process$1.nextTick(e,p,b):d?(process$1.nextTick(n,p),d(b)):process$1.nextTick(n,p)}),this)}function e(c,d){o(c,d),n(c)}function n(c){c._writableState&&!c._writableState.emitClose||c._readableState&&!c._readableState.emitClose||c.emit("close")}function a(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(c,d){c.emit("error",d)}function u(c,d){var p=c._readableState,v=c._writableState;p&&p.autoDestroy||v&&v.autoDestroy?c.destroy(d):c.emit("error",d)}return destroy_1={destroy:t,undestroy:a,errorOrDestroy:u},destroy_1}var errorsBrowser={},hasRequiredErrorsBrowser;function requireErrorsBrowser(){if(hasRequiredErrorsBrowser)return errorsBrowser;hasRequiredErrorsBrowser=1;function t(d,p){d.prototype=Object.create(p.prototype),d.prototype.constructor=d,d.__proto__=p}var e={};function n(d,p,v){v||(v=Error);function y(_,w,E){return typeof p=="string"?p:p(_,w,E)}var b=function(_){t(w,_);function w(E,$,C){return _.call(this,y(E,$,C))||this}return w}(v);b.prototype.name=v.name,b.prototype.code=d,e[d]=b}function a(d,p){if(Array.isArray(d)){var v=d.length;return d=d.map(function(y){return String(y)}),v>2?"one of ".concat(p," ").concat(d.slice(0,v-1).join(", "),", or ")+d[v-1]:v===2?"one of ".concat(p," ").concat(d[0]," or ").concat(d[1]):"of ".concat(p," ").concat(d[0])}else return"of ".concat(p," ").concat(String(d))}function o(d,p,v){return d.substr(!v||v<0?0:+v,p.length)===p}function u(d,p,v){return(v===void 0||v>d.length)&&(v=d.length),d.substring(v-p.length,v)===p}function c(d,p,v){return typeof v!="number"&&(v=0),v+p.length>d.length?!1:d.indexOf(p,v)!==-1}return n("ERR_INVALID_OPT_VALUE",function(d,p){return'The value "'+p+'" is invalid for option "'+d+'"'},TypeError),n("ERR_INVALID_ARG_TYPE",function(d,p,v){var y;typeof p=="string"&&o(p,"not ")?(y="must not be",p=p.replace(/^not /,"")):y="must be";var b;if(u(d," argument"))b="The ".concat(d," ").concat(y," ").concat(a(p,"type"));else{var _=c(d,".")?"property":"argument";b='The "'.concat(d,'" ').concat(_," ").concat(y," ").concat(a(p,"type"))}return b+=". Received type ".concat(typeof v),b},TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",function(d){return"The "+d+" method is not implemented"}),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",function(d){return"Cannot call "+d+" after a stream was destroyed"}),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",function(d){return"Unknown encoding: "+d},TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser.codes=e,errorsBrowser}var state,hasRequiredState;function requireState(){if(hasRequiredState)return state;hasRequiredState=1;var t=requireErrorsBrowser().codes.ERR_INVALID_OPT_VALUE;function e(a,o,u){return a.highWaterMark!=null?a.highWaterMark:o?a[u]:null}function n(a,o,u,c){var d=e(o,c,u);if(d!=null){if(!(isFinite(d)&&Math.floor(d)===d)||d<0){var p=c?u:"highWaterMark";throw new t(p,d)}return Math.floor(d)}return a.objectMode?16:16*1024}return state={getHighWaterMark:n},state}var browser$a,hasRequiredBrowser$a;function requireBrowser$a(){if(hasRequiredBrowser$a)return browser$a;hasRequiredBrowser$a=1,browser$a=t;function t(n,a){if(e("noDeprecation"))return n;var o=!1;function u(){if(!o){if(e("throwDeprecation"))throw new Error(a);e("traceDeprecation")?console.trace(a):console.warn(a),o=!0}return n.apply(this,arguments)}return u}function e(n){try{if(!commonjsGlobal.localStorage)return!1}catch{return!1}var a=commonjsGlobal.localStorage[n];return a==null?!1:String(a).toLowerCase()==="true"}return browser$a}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1,_stream_writable=$e;function t(he){var be=this;this.next=null,this.entry=null,this.finish=function(){ke(be,he)}}var e;$e.WritableState=de;var n={deprecate:requireBrowser$a()},a=requireStreamBrowser(),o=buffer$2.Buffer,u=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function c(he){return o.from(he)}function d(he){return o.isBuffer(he)||he instanceof u}var p=requireDestroy(),v=requireState(),y=v.getHighWaterMark,b=requireErrorsBrowser().codes,_=b.ERR_INVALID_ARG_TYPE,w=b.ERR_METHOD_NOT_IMPLEMENTED,E=b.ERR_MULTIPLE_CALLBACK,$=b.ERR_STREAM_CANNOT_PIPE,C=b.ERR_STREAM_DESTROYED,P=b.ERR_STREAM_NULL_VALUES,z=b.ERR_STREAM_WRITE_AFTER_END,J=b.ERR_UNKNOWN_ENCODING,X=p.errorOrDestroy;inherits_browserExports($e,a);function re(){}function de(he,be,Me){e=e||require_stream_duplex(),he=he||{},typeof Me!="boolean"&&(Me=be instanceof e),this.objectMode=!!he.objectMode,Me&&(this.objectMode=this.objectMode||!!he.writableObjectMode),this.highWaterMark=y(this,he,"writableHighWaterMark",Me),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Re=he.decodeStrings===!1;this.decodeStrings=!Re,this.defaultEncoding=he.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Je){D(be,Je)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=he.emitClose!==!1,this.autoDestroy=!!he.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}de.prototype.getBuffer=function(){for(var be=this.bufferedRequest,Me=[];be;)Me.push(be),be=be.next;return Me},function(){try{Object.defineProperty(de.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var xe;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(xe=Function.prototype[Symbol.hasInstance],Object.defineProperty($e,Symbol.hasInstance,{value:function(be){return xe.call(this,be)?!0:this!==$e?!1:be&&be._writableState instanceof de}})):xe=function(be){return be instanceof this};function $e(he){e=e||require_stream_duplex();var be=this instanceof e;if(!be&&!xe.call($e,this))return new $e(he);this._writableState=new de(he,this,be),this.writable=!0,he&&(typeof he.write=="function"&&(this._write=he.write),typeof he.writev=="function"&&(this._writev=he.writev),typeof he.destroy=="function"&&(this._destroy=he.destroy),typeof he.final=="function"&&(this._final=he.final)),a.call(this)}$e.prototype.pipe=function(){X(this,new $)};function Pe(he,be){var Me=new z;X(he,Me),process$1.nextTick(be,Me)}function it(he,be,Me,Re){var Je;return Me===null?Je=new P:typeof Me!="string"&&!be.objectMode&&(Je=new _("chunk",["string","Buffer"],Me)),Je?(X(he,Je),process$1.nextTick(Re,Je),!1):!0}$e.prototype.write=function(he,be,Me){var Re=this._writableState,Je=!1,le=!Re.objectMode&&d(he);return le&&!o.isBuffer(he)&&(he=c(he)),typeof be=="function"&&(Me=be,be=null),le?be="buffer":be||(be=Re.defaultEncoding),typeof Me!="function"&&(Me=re),Re.ending?Pe(this,Me):(le||it(this,Re,he,Me))&&(Re.pendingcb++,Je=B(this,Re,le,he,be,Me)),Je},$e.prototype.cork=function(){this._writableState.corked++},$e.prototype.uncork=function(){var he=this._writableState;he.corked&&(he.corked--,!he.writing&&!he.corked&&!he.bufferProcessing&&he.bufferedRequest&&j(this,he))},$e.prototype.setDefaultEncoding=function(be){if(typeof be=="string"&&(be=be.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((be+"").toLowerCase())>-1))throw new J(be);return this._writableState.defaultEncoding=be,this},Object.defineProperty($e.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function fe(he,be,Me){return!he.objectMode&&he.decodeStrings!==!1&&typeof be=="string"&&(be=o.from(be,Me)),be}Object.defineProperty($e.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function B(he,be,Me,Re,Je,le){if(!Me){var ue=fe(be,Re,Je);Re!==ue&&(Me=!0,Je="buffer",Re=ue)}var qe=be.objectMode?1:Re.length;be.length+=qe;var Ge=be.length<be.highWaterMark;if(Ge||(be.needDrain=!0),be.writing||be.corked){var ot=be.lastBufferedRequest;be.lastBufferedRequest={chunk:Re,encoding:Je,isBuf:Me,callback:le,next:null},ot?ot.next=be.lastBufferedRequest:be.bufferedRequest=be.lastBufferedRequest,be.bufferedRequestCount+=1}else k(he,be,!1,qe,Re,Je,le);return Ge}function k(he,be,Me,Re,Je,le,ue){be.writelen=Re,be.writecb=ue,be.writing=!0,be.sync=!0,be.destroyed?be.onwrite(new C("write")):Me?he._writev(Je,be.onwrite):he._write(Je,le,be.onwrite),be.sync=!1}function x(he,be,Me,Re,Je){--be.pendingcb,Me?(process$1.nextTick(Je,Re),process$1.nextTick(V,he,be),he._writableState.errorEmitted=!0,X(he,Re)):(Je(Re),he._writableState.errorEmitted=!0,X(he,Re),V(he,be))}function A(he){he.writing=!1,he.writecb=null,he.length-=he.writelen,he.writelen=0}function D(he,be){var Me=he._writableState,Re=Me.sync,Je=Me.writecb;if(typeof Je!="function")throw new E;if(A(Me),be)x(he,Me,Re,be,Je);else{var le=T(Me)||he.destroyed;!le&&!Me.corked&&!Me.bufferProcessing&&Me.bufferedRequest&&j(he,Me),Re?process$1.nextTick(q,he,Me,le,Je):q(he,Me,le,Je)}}function q(he,be,Me,Re){Me||G(he,be),be.pendingcb--,Re(),V(he,be)}function G(he,be){be.length===0&&be.needDrain&&(be.needDrain=!1,he.emit("drain"))}function j(he,be){be.bufferProcessing=!0;var Me=be.bufferedRequest;if(he._writev&&Me&&Me.next){var Re=be.bufferedRequestCount,Je=new Array(Re),le=be.corkedRequestsFree;le.entry=Me;for(var ue=0,qe=!0;Me;)Je[ue]=Me,Me.isBuf||(qe=!1),Me=Me.next,ue+=1;Je.allBuffers=qe,k(he,be,!0,be.length,Je,"",le.finish),be.pendingcb++,be.lastBufferedRequest=null,le.next?(be.corkedRequestsFree=le.next,le.next=null):be.corkedRequestsFree=new t(be),be.bufferedRequestCount=0}else{for(;Me;){var Ge=Me.chunk,ot=Me.encoding,ie=Me.callback,L=be.objectMode?1:Ge.length;if(k(he,be,!1,L,Ge,ot,ie),Me=Me.next,be.bufferedRequestCount--,be.writing)break}Me===null&&(be.lastBufferedRequest=null)}be.bufferedRequest=Me,be.bufferProcessing=!1}$e.prototype._write=function(he,be,Me){Me(new w("_write()"))},$e.prototype._writev=null,$e.prototype.end=function(he,be,Me){var Re=this._writableState;return typeof he=="function"?(Me=he,he=null,be=null):typeof be=="function"&&(Me=be,be=null),he!=null&&this.write(he,be),Re.corked&&(Re.corked=1,this.uncork()),Re.ending||ge(this,Re,Me),this},Object.defineProperty($e.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function T(he){return he.ending&&he.length===0&&he.bufferedRequest===null&&!he.finished&&!he.writing}function F(he,be){he._final(function(Me){be.pendingcb--,Me&&X(he,Me),be.prefinished=!0,he.emit("prefinish"),V(he,be)})}function M(he,be){!be.prefinished&&!be.finalCalled&&(typeof he._final=="function"&&!be.destroyed?(be.pendingcb++,be.finalCalled=!0,process$1.nextTick(F,he,be)):(be.prefinished=!0,he.emit("prefinish")))}function V(he,be){var Me=T(be);if(Me&&(M(he,be),be.pendingcb===0&&(be.finished=!0,he.emit("finish"),be.autoDestroy))){var Re=he._readableState;(!Re||Re.autoDestroy&&Re.endEmitted)&&he.destroy()}return Me}function ge(he,be,Me){be.ending=!0,V(he,be),Me&&(be.finished?process$1.nextTick(Me):he.once("finish",Me)),be.ended=!0,he.writable=!1}function ke(he,be,Me){var Re=he.entry;for(he.entry=null;Re;){var Je=Re.callback;be.pendingcb--,Je(Me),Re=Re.next}be.corkedRequestsFree.next=he}return Object.defineProperty($e.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(be){this._writableState&&(this._writableState.destroyed=be)}}),$e.prototype.destroy=p.destroy,$e.prototype._undestroy=p.undestroy,$e.prototype._destroy=function(he,be){be(he)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var t=Object.keys||function(v){var y=[];for(var b in v)y.push(b);return y};_stream_duplex=c;var e=require_stream_readable(),n=require_stream_writable();inherits_browserExports(c,e);for(var a=t(n.prototype),o=0;o<a.length;o++){var u=a[o];c.prototype[u]||(c.prototype[u]=n.prototype[u])}function c(v){if(!(this instanceof c))return new c(v);e.call(this,v),n.call(this,v),this.allowHalfOpen=!0,v&&(v.readable===!1&&(this.readable=!1),v.writable===!1&&(this.writable=!1),v.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",d)))}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function d(){this._writableState.ended||process$1.nextTick(p,this)}function p(v){v.end()}return Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(y){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=y,this._writableState.destroyed=y)}}),_stream_duplex}var string_decoder={},hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var t=safeBufferExports.Buffer,e=t.isEncoding||function(P){switch(P=""+P,P&&P.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(P){if(!P)return"utf8";for(var z;;)switch(P){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return P;default:if(z)return;P=(""+P).toLowerCase(),z=!0}}function a(P){var z=n(P);if(typeof z!="string"&&(t.isEncoding===e||!e(P)))throw new Error("Unknown encoding: "+P);return z||P}string_decoder.StringDecoder=o;function o(P){this.encoding=a(P);var z;switch(this.encoding){case"utf16le":this.text=b,this.end=_,z=4;break;case"utf8":this.fillLast=p,z=4;break;case"base64":this.text=w,this.end=E,z=3;break;default:this.write=$,this.end=C;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(z)}o.prototype.write=function(P){if(P.length===0)return"";var z,J;if(this.lastNeed){if(z=this.fillLast(P),z===void 0)return"";J=this.lastNeed,this.lastNeed=0}else J=0;return J<P.length?z?z+this.text(P,J):this.text(P,J):z||""},o.prototype.end=y,o.prototype.text=v,o.prototype.fillLast=function(P){if(this.lastNeed<=P.length)return P.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);P.copy(this.lastChar,this.lastTotal-this.lastNeed,0,P.length),this.lastNeed-=P.length};function u(P){return P<=127?0:P>>5===6?2:P>>4===14?3:P>>3===30?4:P>>6===2?-1:-2}function c(P,z,J){var X=z.length-1;if(X<J)return 0;var re=u(z[X]);return re>=0?(re>0&&(P.lastNeed=re-1),re):--X<J||re===-2?0:(re=u(z[X]),re>=0?(re>0&&(P.lastNeed=re-2),re):--X<J||re===-2?0:(re=u(z[X]),re>=0?(re>0&&(re===2?re=0:P.lastNeed=re-3),re):0))}function d(P,z,J){if((z[0]&192)!==128)return P.lastNeed=0,"�";if(P.lastNeed>1&&z.length>1){if((z[1]&192)!==128)return P.lastNeed=1,"�";if(P.lastNeed>2&&z.length>2&&(z[2]&192)!==128)return P.lastNeed=2,"�"}}function p(P){var z=this.lastTotal-this.lastNeed,J=d(this,P);if(J!==void 0)return J;if(this.lastNeed<=P.length)return P.copy(this.lastChar,z,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);P.copy(this.lastChar,z,0,P.length),this.lastNeed-=P.length}function v(P,z){var J=c(this,P,z);if(!this.lastNeed)return P.toString("utf8",z);this.lastTotal=J;var X=P.length-(J-this.lastNeed);return P.copy(this.lastChar,0,X),P.toString("utf8",z,X)}function y(P){var z=P&&P.length?this.write(P):"";return this.lastNeed?z+"�":z}function b(P,z){if((P.length-z)%2===0){var J=P.toString("utf16le",z);if(J){var X=J.charCodeAt(J.length-1);if(X>=55296&&X<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=P[P.length-2],this.lastChar[1]=P[P.length-1],J.slice(0,-1)}return J}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=P[P.length-1],P.toString("utf16le",z,P.length-1)}function _(P){var z=P&&P.length?this.write(P):"";if(this.lastNeed){var J=this.lastTotal-this.lastNeed;return z+this.lastChar.toString("utf16le",0,J)}return z}function w(P,z){var J=(P.length-z)%3;return J===0?P.toString("base64",z):(this.lastNeed=3-J,this.lastTotal=3,J===1?this.lastChar[0]=P[P.length-1]:(this.lastChar[0]=P[P.length-2],this.lastChar[1]=P[P.length-1]),P.toString("base64",z,P.length-J))}function E(P){var z=P&&P.length?this.write(P):"";return this.lastNeed?z+this.lastChar.toString("base64",0,3-this.lastNeed):z}function $(P){return P.toString(this.encoding)}function C(P){return P&&P.length?this.write(P):""}return string_decoder}var endOfStream,hasRequiredEndOfStream;function requireEndOfStream(){if(hasRequiredEndOfStream)return endOfStream;hasRequiredEndOfStream=1;var t=requireErrorsBrowser().codes.ERR_STREAM_PREMATURE_CLOSE;function e(u){var c=!1;return function(){if(!c){c=!0;for(var d=arguments.length,p=new Array(d),v=0;v<d;v++)p[v]=arguments[v];u.apply(this,p)}}}function n(){}function a(u){return u.setHeader&&typeof u.abort=="function"}function o(u,c,d){if(typeof c=="function")return o(u,null,c);c||(c={}),d=e(d||n);var p=c.readable||c.readable!==!1&&u.readable,v=c.writable||c.writable!==!1&&u.writable,y=function(){u.writable||_()},b=u._writableState&&u._writableState.finished,_=function(){v=!1,b=!0,p||d.call(u)},w=u._readableState&&u._readableState.endEmitted,E=function(){p=!1,w=!0,v||d.call(u)},$=function(J){d.call(u,J)},C=function(){var J;if(p&&!w)return(!u._readableState||!u._readableState.ended)&&(J=new t),d.call(u,J);if(v&&!b)return(!u._writableState||!u._writableState.ended)&&(J=new t),d.call(u,J)},P=function(){u.req.on("finish",_)};return a(u)?(u.on("complete",_),u.on("abort",C),u.req?P():u.on("request",P)):v&&!u._writableState&&(u.on("end",y),u.on("close",y)),u.on("end",E),u.on("finish",_),c.error!==!1&&u.on("error",$),u.on("close",C),function(){u.removeListener("complete",_),u.removeListener("abort",C),u.removeListener("request",P),u.req&&u.req.removeListener("finish",_),u.removeListener("end",y),u.removeListener("close",y),u.removeListener("finish",_),u.removeListener("end",E),u.removeListener("error",$),u.removeListener("close",C)}}return endOfStream=o,endOfStream}var async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var t;function e(J,X,re){return X=n(X),X in J?Object.defineProperty(J,X,{value:re,enumerable:!0,configurable:!0,writable:!0}):J[X]=re,J}function n(J){var X=a(J,"string");return typeof X=="symbol"?X:String(X)}function a(J,X){if(typeof J!="object"||J===null)return J;var re=J[Symbol.toPrimitive];if(re!==void 0){var de=re.call(J,X||"default");if(typeof de!="object")return de;throw new TypeError("@@toPrimitive must return a primitive value.")}return(X==="string"?String:Number)(J)}var o=requireEndOfStream(),u=Symbol("lastResolve"),c=Symbol("lastReject"),d=Symbol("error"),p=Symbol("ended"),v=Symbol("lastPromise"),y=Symbol("handlePromise"),b=Symbol("stream");function _(J,X){return{value:J,done:X}}function w(J){var X=J[u];if(X!==null){var re=J[b].read();re!==null&&(J[v]=null,J[u]=null,J[c]=null,X(_(re,!1)))}}function E(J){process$1.nextTick(w,J)}function $(J,X){return function(re,de){J.then(function(){if(X[p]){re(_(void 0,!0));return}X[y](re,de)},de)}}var C=Object.getPrototypeOf(function(){}),P=Object.setPrototypeOf((t={get stream(){return this[b]},next:function(){var X=this,re=this[d];if(re!==null)return Promise.reject(re);if(this[p])return Promise.resolve(_(void 0,!0));if(this[b].destroyed)return new Promise(function(Pe,it){process$1.nextTick(function(){X[d]?it(X[d]):Pe(_(void 0,!0))})});var de=this[v],xe;if(de)xe=new Promise($(de,this));else{var $e=this[b].read();if($e!==null)return Promise.resolve(_($e,!1));xe=new Promise(this[y])}return this[v]=xe,xe}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var X=this;return new Promise(function(re,de){X[b].destroy(null,function(xe){if(xe){de(xe);return}re(_(void 0,!0))})})}),t),C),z=function(X){var re,de=Object.create(P,(re={},e(re,b,{value:X,writable:!0}),e(re,u,{value:null,writable:!0}),e(re,c,{value:null,writable:!0}),e(re,d,{value:null,writable:!0}),e(re,p,{value:X._readableState.endEmitted,writable:!0}),e(re,y,{value:function($e,Pe){var it=de[b].read();it?(de[v]=null,de[u]=null,de[c]=null,$e(_(it,!1))):(de[u]=$e,de[c]=Pe)},writable:!0}),re));return de[v]=null,o(X,function(xe){if(xe&&xe.code!=="ERR_STREAM_PREMATURE_CLOSE"){var $e=de[c];$e!==null&&(de[v]=null,de[u]=null,de[c]=null,$e(xe)),de[d]=xe;return}var Pe=de[u];Pe!==null&&(de[v]=null,de[u]=null,de[c]=null,Pe(_(void 0,!0))),de[p]=!0}),X.on("readable",E.bind(null,de)),de};return async_iterator=z,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1,_stream_readable=Pe;var t;Pe.ReadableState=$e,eventsExports.EventEmitter;var e=function(ue,qe){return ue.listeners(qe).length},n=requireStreamBrowser(),a=buffer$2.Buffer,o=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function u(le){return a.from(le)}function c(le){return a.isBuffer(le)||le instanceof o}var d=util,p;d&&d.debuglog?p=d.debuglog("stream"):p=function(){};var v=requireBuffer_list(),y=requireDestroy(),b=requireState(),_=b.getHighWaterMark,w=requireErrorsBrowser().codes,E=w.ERR_INVALID_ARG_TYPE,$=w.ERR_STREAM_PUSH_AFTER_EOF,C=w.ERR_METHOD_NOT_IMPLEMENTED,P=w.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,z,J,X;inherits_browserExports(Pe,n);var re=y.errorOrDestroy,de=["error","close","destroy","pause","resume"];function xe(le,ue,qe){if(typeof le.prependListener=="function")return le.prependListener(ue,qe);!le._events||!le._events[ue]?le.on(ue,qe):Array.isArray(le._events[ue])?le._events[ue].unshift(qe):le._events[ue]=[qe,le._events[ue]]}function $e(le,ue,qe){t=t||require_stream_duplex(),le=le||{},typeof qe!="boolean"&&(qe=ue instanceof t),this.objectMode=!!le.objectMode,qe&&(this.objectMode=this.objectMode||!!le.readableObjectMode),this.highWaterMark=_(this,le,"readableHighWaterMark",qe),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=le.emitClose!==!1,this.autoDestroy=!!le.autoDestroy,this.destroyed=!1,this.defaultEncoding=le.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,le.encoding&&(z||(z=requireString_decoder().StringDecoder),this.decoder=new z(le.encoding),this.encoding=le.encoding)}function Pe(le){if(t=t||require_stream_duplex(),!(this instanceof Pe))return new Pe(le);var ue=this instanceof t;this._readableState=new $e(le,this,ue),this.readable=!0,le&&(typeof le.read=="function"&&(this._read=le.read),typeof le.destroy=="function"&&(this._destroy=le.destroy)),n.call(this)}Object.defineProperty(Pe.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(ue){this._readableState&&(this._readableState.destroyed=ue)}}),Pe.prototype.destroy=y.destroy,Pe.prototype._undestroy=y.undestroy,Pe.prototype._destroy=function(le,ue){ue(le)},Pe.prototype.push=function(le,ue){var qe=this._readableState,Ge;return qe.objectMode?Ge=!0:typeof le=="string"&&(ue=ue||qe.defaultEncoding,ue!==qe.encoding&&(le=a.from(le,ue),ue=""),Ge=!0),it(this,le,ue,!1,Ge)},Pe.prototype.unshift=function(le){return it(this,le,null,!0,!1)};function it(le,ue,qe,Ge,ot){p("readableAddChunk",ue);var ie=le._readableState;if(ue===null)ie.reading=!1,D(le,ie);else{var L;if(ot||(L=B(ie,ue)),L)re(le,L);else if(ie.objectMode||ue&&ue.length>0)if(typeof ue!="string"&&!ie.objectMode&&Object.getPrototypeOf(ue)!==a.prototype&&(ue=u(ue)),Ge)ie.endEmitted?re(le,new P):fe(le,ie,ue,!0);else if(ie.ended)re(le,new $);else{if(ie.destroyed)return!1;ie.reading=!1,ie.decoder&&!qe?(ue=ie.decoder.write(ue),ie.objectMode||ue.length!==0?fe(le,ie,ue,!1):j(le,ie)):fe(le,ie,ue,!1)}else Ge||(ie.reading=!1,j(le,ie))}return!ie.ended&&(ie.length<ie.highWaterMark||ie.length===0)}function fe(le,ue,qe,Ge){ue.flowing&&ue.length===0&&!ue.sync?(ue.awaitDrain=0,le.emit("data",qe)):(ue.length+=ue.objectMode?1:qe.length,Ge?ue.buffer.unshift(qe):ue.buffer.push(qe),ue.needReadable&&q(le)),j(le,ue)}function B(le,ue){var qe;return!c(ue)&&typeof ue!="string"&&ue!==void 0&&!le.objectMode&&(qe=new E("chunk",["string","Buffer","Uint8Array"],ue)),qe}Pe.prototype.isPaused=function(){return this._readableState.flowing===!1},Pe.prototype.setEncoding=function(le){z||(z=requireString_decoder().StringDecoder);var ue=new z(le);this._readableState.decoder=ue,this._readableState.encoding=this._readableState.decoder.encoding;for(var qe=this._readableState.buffer.head,Ge="";qe!==null;)Ge+=ue.write(qe.data),qe=qe.next;return this._readableState.buffer.clear(),Ge!==""&&this._readableState.buffer.push(Ge),this._readableState.length=Ge.length,this};var k=1073741824;function x(le){return le>=k?le=k:(le--,le|=le>>>1,le|=le>>>2,le|=le>>>4,le|=le>>>8,le|=le>>>16,le++),le}function A(le,ue){return le<=0||ue.length===0&&ue.ended?0:ue.objectMode?1:le!==le?ue.flowing&&ue.length?ue.buffer.head.data.length:ue.length:(le>ue.highWaterMark&&(ue.highWaterMark=x(le)),le<=ue.length?le:ue.ended?ue.length:(ue.needReadable=!0,0))}Pe.prototype.read=function(le){p("read",le),le=parseInt(le,10);var ue=this._readableState,qe=le;if(le!==0&&(ue.emittedReadable=!1),le===0&&ue.needReadable&&((ue.highWaterMark!==0?ue.length>=ue.highWaterMark:ue.length>0)||ue.ended))return p("read: emitReadable",ue.length,ue.ended),ue.length===0&&ue.ended?Me(this):q(this),null;if(le=A(le,ue),le===0&&ue.ended)return ue.length===0&&Me(this),null;var Ge=ue.needReadable;p("need readable",Ge),(ue.length===0||ue.length-le<ue.highWaterMark)&&(Ge=!0,p("length less than watermark",Ge)),ue.ended||ue.reading?(Ge=!1,p("reading or ended",Ge)):Ge&&(p("do read"),ue.reading=!0,ue.sync=!0,ue.length===0&&(ue.needReadable=!0),this._read(ue.highWaterMark),ue.sync=!1,ue.reading||(le=A(qe,ue)));var ot;return le>0?ot=be(le,ue):ot=null,ot===null?(ue.needReadable=ue.length<=ue.highWaterMark,le=0):(ue.length-=le,ue.awaitDrain=0),ue.length===0&&(ue.ended||(ue.needReadable=!0),qe!==le&&ue.ended&&Me(this)),ot!==null&&this.emit("data",ot),ot};function D(le,ue){if(p("onEofChunk"),!ue.ended){if(ue.decoder){var qe=ue.decoder.end();qe&&qe.length&&(ue.buffer.push(qe),ue.length+=ue.objectMode?1:qe.length)}ue.ended=!0,ue.sync?q(le):(ue.needReadable=!1,ue.emittedReadable||(ue.emittedReadable=!0,G(le)))}}function q(le){var ue=le._readableState;p("emitReadable",ue.needReadable,ue.emittedReadable),ue.needReadable=!1,ue.emittedReadable||(p("emitReadable",ue.flowing),ue.emittedReadable=!0,process$1.nextTick(G,le))}function G(le){var ue=le._readableState;p("emitReadable_",ue.destroyed,ue.length,ue.ended),!ue.destroyed&&(ue.length||ue.ended)&&(le.emit("readable"),ue.emittedReadable=!1),ue.needReadable=!ue.flowing&&!ue.ended&&ue.length<=ue.highWaterMark,he(le)}function j(le,ue){ue.readingMore||(ue.readingMore=!0,process$1.nextTick(T,le,ue))}function T(le,ue){for(;!ue.reading&&!ue.ended&&(ue.length<ue.highWaterMark||ue.flowing&&ue.length===0);){var qe=ue.length;if(p("maybeReadMore read 0"),le.read(0),qe===ue.length)break}ue.readingMore=!1}Pe.prototype._read=function(le){re(this,new C("_read()"))},Pe.prototype.pipe=function(le,ue){var qe=this,Ge=this._readableState;switch(Ge.pipesCount){case 0:Ge.pipes=le;break;case 1:Ge.pipes=[Ge.pipes,le];break;default:Ge.pipes.push(le);break}Ge.pipesCount+=1,p("pipe count=%d opts=%j",Ge.pipesCount,ue);var ot=(!ue||ue.end!==!1)&&le!==process$1.stdout&&le!==process$1.stderr,ie=ot?N:Ue;Ge.endEmitted?process$1.nextTick(ie):qe.once("end",ie),le.on("unpipe",L);function L(De,tt){p("onunpipe"),De===qe&&tt&&tt.hasUnpiped===!1&&(tt.hasUnpiped=!0,Ie())}function N(){p("onend"),le.end()}var Q=F(qe);le.on("drain",Q);var we=!1;function Ie(){p("cleanup"),le.removeListener("close",me),le.removeListener("finish",Te),le.removeListener("drain",Q),le.removeListener("error",dt),le.removeListener("unpipe",L),qe.removeListener("end",N),qe.removeListener("end",Ue),qe.removeListener("data",Ke),we=!0,Ge.awaitDrain&&(!le._writableState||le._writableState.needDrain)&&Q()}qe.on("data",Ke);function Ke(De){p("ondata");var tt=le.write(De);p("dest.write",tt),tt===!1&&((Ge.pipesCount===1&&Ge.pipes===le||Ge.pipesCount>1&&Je(Ge.pipes,le)!==-1)&&!we&&(p("false write response, pause",Ge.awaitDrain),Ge.awaitDrain++),qe.pause())}function dt(De){p("onerror",De),Ue(),le.removeListener("error",dt),e(le,"error")===0&&re(le,De)}xe(le,"error",dt);function me(){le.removeListener("finish",Te),Ue()}le.once("close",me);function Te(){p("onfinish"),le.removeListener("close",me),Ue()}le.once("finish",Te);function Ue(){p("unpipe"),qe.unpipe(le)}return le.emit("pipe",qe),Ge.flowing||(p("pipe resume"),qe.resume()),le};function F(le){return function(){var qe=le._readableState;p("pipeOnDrain",qe.awaitDrain),qe.awaitDrain&&qe.awaitDrain--,qe.awaitDrain===0&&e(le,"data")&&(qe.flowing=!0,he(le))}}Pe.prototype.unpipe=function(le){var ue=this._readableState,qe={hasUnpiped:!1};if(ue.pipesCount===0)return this;if(ue.pipesCount===1)return le&&le!==ue.pipes?this:(le||(le=ue.pipes),ue.pipes=null,ue.pipesCount=0,ue.flowing=!1,le&&le.emit("unpipe",this,qe),this);if(!le){var Ge=ue.pipes,ot=ue.pipesCount;ue.pipes=null,ue.pipesCount=0,ue.flowing=!1;for(var ie=0;ie<ot;ie++)Ge[ie].emit("unpipe",this,{hasUnpiped:!1});return this}var L=Je(ue.pipes,le);return L===-1?this:(ue.pipes.splice(L,1),ue.pipesCount-=1,ue.pipesCount===1&&(ue.pipes=ue.pipes[0]),le.emit("unpipe",this,qe),this)},Pe.prototype.on=function(le,ue){var qe=n.prototype.on.call(this,le,ue),Ge=this._readableState;return le==="data"?(Ge.readableListening=this.listenerCount("readable")>0,Ge.flowing!==!1&&this.resume()):le==="readable"&&!Ge.endEmitted&&!Ge.readableListening&&(Ge.readableListening=Ge.needReadable=!0,Ge.flowing=!1,Ge.emittedReadable=!1,p("on readable",Ge.length,Ge.reading),Ge.length?q(this):Ge.reading||process$1.nextTick(V,this)),qe},Pe.prototype.addListener=Pe.prototype.on,Pe.prototype.removeListener=function(le,ue){var qe=n.prototype.removeListener.call(this,le,ue);return le==="readable"&&process$1.nextTick(M,this),qe},Pe.prototype.removeAllListeners=function(le){var ue=n.prototype.removeAllListeners.apply(this,arguments);return(le==="readable"||le===void 0)&&process$1.nextTick(M,this),ue};function M(le){var ue=le._readableState;ue.readableListening=le.listenerCount("readable")>0,ue.resumeScheduled&&!ue.paused?ue.flowing=!0:le.listenerCount("data")>0&&le.resume()}function V(le){p("readable nexttick read 0"),le.read(0)}Pe.prototype.resume=function(){var le=this._readableState;return le.flowing||(p("resume"),le.flowing=!le.readableListening,ge(this,le)),le.paused=!1,this};function ge(le,ue){ue.resumeScheduled||(ue.resumeScheduled=!0,process$1.nextTick(ke,le,ue))}function ke(le,ue){p("resume",ue.reading),ue.reading||le.read(0),ue.resumeScheduled=!1,le.emit("resume"),he(le),ue.flowing&&!ue.reading&&le.read(0)}Pe.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function he(le){var ue=le._readableState;for(p("flow",ue.flowing);ue.flowing&&le.read()!==null;);}Pe.prototype.wrap=function(le){var ue=this,qe=this._readableState,Ge=!1;le.on("end",function(){if(p("wrapped end"),qe.decoder&&!qe.ended){var L=qe.decoder.end();L&&L.length&&ue.push(L)}ue.push(null)}),le.on("data",function(L){if(p("wrapped data"),qe.decoder&&(L=qe.decoder.write(L)),!(qe.objectMode&&L==null)&&!(!qe.objectMode&&(!L||!L.length))){var N=ue.push(L);N||(Ge=!0,le.pause())}});for(var ot in le)this[ot]===void 0&&typeof le[ot]=="function"&&(this[ot]=function(N){return function(){return le[N].apply(le,arguments)}}(ot));for(var ie=0;ie<de.length;ie++)le.on(de[ie],this.emit.bind(this,de[ie]));return this._read=function(L){p("wrapped _read",L),Ge&&(Ge=!1,le.resume())},this},typeof Symbol=="function"&&(Pe.prototype[Symbol.asyncIterator]=function(){return J===void 0&&(J=requireAsync_iterator()),J(this)}),Object.defineProperty(Pe.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Pe.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Pe.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(ue){this._readableState&&(this._readableState.flowing=ue)}}),Pe._fromList=be,Object.defineProperty(Pe.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function be(le,ue){if(ue.length===0)return null;var qe;return ue.objectMode?qe=ue.buffer.shift():!le||le>=ue.length?(ue.decoder?qe=ue.buffer.join(""):ue.buffer.length===1?qe=ue.buffer.first():qe=ue.buffer.concat(ue.length),ue.buffer.clear()):qe=ue.buffer.consume(le,ue.decoder),qe}function Me(le){var ue=le._readableState;p("endReadable",ue.endEmitted),ue.endEmitted||(ue.ended=!0,process$1.nextTick(Re,ue,le))}function Re(le,ue){if(p("endReadableNT",le.endEmitted,le.length),!le.endEmitted&&le.length===0&&(le.endEmitted=!0,ue.readable=!1,ue.emit("end"),le.autoDestroy)){var qe=ue._writableState;(!qe||qe.autoDestroy&&qe.finished)&&ue.destroy()}}typeof Symbol=="function"&&(Pe.from=function(le,ue){return X===void 0&&(X=requireFromBrowser()),X(Pe,le,ue)});function Je(le,ue){for(var qe=0,Ge=le.length;qe<Ge;qe++)if(le[qe]===ue)return qe;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=d;var t=requireErrorsBrowser().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,n=t.ERR_MULTIPLE_CALLBACK,a=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=t.ERR_TRANSFORM_WITH_LENGTH_0,u=require_stream_duplex();inherits_browserExports(d,u);function c(y,b){var _=this._transformState;_.transforming=!1;var w=_.writecb;if(w===null)return this.emit("error",new n);_.writechunk=null,_.writecb=null,b!=null&&this.push(b),w(y);var E=this._readableState;E.reading=!1,(E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}function d(y){if(!(this instanceof d))return new d(y);u.call(this,y),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&(typeof y.transform=="function"&&(this._transform=y.transform),typeof y.flush=="function"&&(this._flush=y.flush)),this.on("prefinish",p)}function p(){var y=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(b,_){v(y,b,_)}):v(this,null,null)}d.prototype.push=function(y,b){return this._transformState.needTransform=!1,u.prototype.push.call(this,y,b)},d.prototype._transform=function(y,b,_){_(new e("_transform()"))},d.prototype._write=function(y,b,_){var w=this._transformState;if(w.writecb=_,w.writechunk=y,w.writeencoding=b,!w.transforming){var E=this._readableState;(w.needTransform||E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}},d.prototype._read=function(y){var b=this._transformState;b.writechunk!==null&&!b.transforming?(b.transforming=!0,this._transform(b.writechunk,b.writeencoding,b.afterTransform)):b.needTransform=!0},d.prototype._destroy=function(y,b){u.prototype._destroy.call(this,y,function(_){b(_)})};function v(y,b,_){if(b)return y.emit("error",b);if(_!=null&&y.push(_),y._writableState.length)throw new o;if(y._transformState.transforming)throw new a;return y.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=e;var t=require_stream_transform();inherits_browserExports(e,t);function e(n){if(!(this instanceof e))return new e(n);t.call(this,n)}return e.prototype._transform=function(n,a,o){o(null,n)},_stream_passthrough}var pipeline_1,hasRequiredPipeline;function requirePipeline(){if(hasRequiredPipeline)return pipeline_1;hasRequiredPipeline=1;var t;function e(_){var w=!1;return function(){w||(w=!0,_.apply(void 0,arguments))}}var n=requireErrorsBrowser().codes,a=n.ERR_MISSING_ARGS,o=n.ERR_STREAM_DESTROYED;function u(_){if(_)throw _}function c(_){return _.setHeader&&typeof _.abort=="function"}function d(_,w,E,$){$=e($);var C=!1;_.on("close",function(){C=!0}),t===void 0&&(t=requireEndOfStream()),t(_,{readable:w,writable:E},function(z){if(z)return $(z);C=!0,$()});var P=!1;return function(z){if(!C&&!P){if(P=!0,c(_))return _.abort();if(typeof _.destroy=="function")return _.destroy();$(z||new o("pipe"))}}}function p(_){_()}function v(_,w){return _.pipe(w)}function y(_){return!_.length||typeof _[_.length-1]!="function"?u:_.pop()}function b(){for(var _=arguments.length,w=new Array(_),E=0;E<_;E++)w[E]=arguments[E];var $=y(w);if(Array.isArray(w[0])&&(w=w[0]),w.length<2)throw new a("streams");var C,P=w.map(function(z,J){var X=J<w.length-1,re=J>0;return d(z,X,re,function(de){C||(C=de),de&&P.forEach(p),!X&&(P.forEach(p),$(C))})});return w.reduce(v)}return pipeline_1=b,pipeline_1}var hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,function(t,e){e=t.exports=require_stream_readable(),e.Stream=e,e.Readable=e,e.Writable=require_stream_writable(),e.Duplex=require_stream_duplex(),e.Transform=require_stream_transform(),e.PassThrough=require_stream_passthrough(),e.finished=requireEndOfStream(),e.pipeline=requirePipeline()}(readableBrowser,readableBrowser.exports)),readableBrowser.exports}var hashBase,hasRequiredHashBase;function requireHashBase(){if(hasRequiredHashBase)return hashBase;hasRequiredHashBase=1;var t=safeBufferExports.Buffer,e=requireReadableBrowser().Transform,n=inherits_browserExports;function a(u,c){if(!t.isBuffer(u)&&typeof u!="string")throw new TypeError(c+" must be a string or a buffer")}function o(u){e.call(this),this._block=t.allocUnsafe(u),this._blockSize=u,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}return n(o,e),o.prototype._transform=function(u,c,d){var p=null;try{this.update(u,c)}catch(v){p=v}d(p)},o.prototype._flush=function(u){var c=null;try{this.push(this.digest())}catch(d){c=d}u(c)},o.prototype.update=function(u,c){if(a(u,"Data"),this._finalized)throw new Error("Digest already called");t.isBuffer(u)||(u=t.from(u,c));for(var d=this._block,p=0;this._blockOffset+u.length-p>=this._blockSize;){for(var v=this._blockOffset;v<this._blockSize;)d[v++]=u[p++];this._update(),this._blockOffset=0}for(;p<u.length;)d[this._blockOffset++]=u[p++];for(var y=0,b=u.length*8;b>0;++y)this._length[y]+=b,b=this._length[y]/4294967296|0,b>0&&(this._length[y]-=4294967296*b);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(u){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var c=this._digest();u!==void 0&&(c=c.toString(u)),this._block.fill(0),this._blockOffset=0;for(var d=0;d<4;++d)this._length[d]=0;return c},o.prototype._digest=function(){throw new Error("_digest is not implemented")},hashBase=o,hashBase}var md5_js,hasRequiredMd5_js;function requireMd5_js(){if(hasRequiredMd5_js)return md5_js;hasRequiredMd5_js=1;var t=inherits_browserExports,e=requireHashBase(),n=safeBufferExports.Buffer,a=new Array(16);function o(){e.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}t(o,e),o.prototype._update=function(){for(var y=a,b=0;b<16;++b)y[b]=this._block.readInt32LE(b*4);var _=this._a,w=this._b,E=this._c,$=this._d;_=c(_,w,E,$,y[0],3614090360,7),$=c($,_,w,E,y[1],3905402710,12),E=c(E,$,_,w,y[2],606105819,17),w=c(w,E,$,_,y[3],3250441966,22),_=c(_,w,E,$,y[4],4118548399,7),$=c($,_,w,E,y[5],1200080426,12),E=c(E,$,_,w,y[6],2821735955,17),w=c(w,E,$,_,y[7],4249261313,22),_=c(_,w,E,$,y[8],1770035416,7),$=c($,_,w,E,y[9],2336552879,12),E=c(E,$,_,w,y[10],4294925233,17),w=c(w,E,$,_,y[11],2304563134,22),_=c(_,w,E,$,y[12],1804603682,7),$=c($,_,w,E,y[13],4254626195,12),E=c(E,$,_,w,y[14],2792965006,17),w=c(w,E,$,_,y[15],1236535329,22),_=d(_,w,E,$,y[1],4129170786,5),$=d($,_,w,E,y[6],3225465664,9),E=d(E,$,_,w,y[11],643717713,14),w=d(w,E,$,_,y[0],3921069994,20),_=d(_,w,E,$,y[5],3593408605,5),$=d($,_,w,E,y[10],38016083,9),E=d(E,$,_,w,y[15],3634488961,14),w=d(w,E,$,_,y[4],3889429448,20),_=d(_,w,E,$,y[9],568446438,5),$=d($,_,w,E,y[14],3275163606,9),E=d(E,$,_,w,y[3],4107603335,14),w=d(w,E,$,_,y[8],1163531501,20),_=d(_,w,E,$,y[13],2850285829,5),$=d($,_,w,E,y[2],4243563512,9),E=d(E,$,_,w,y[7],1735328473,14),w=d(w,E,$,_,y[12],2368359562,20),_=p(_,w,E,$,y[5],4294588738,4),$=p($,_,w,E,y[8],2272392833,11),E=p(E,$,_,w,y[11],1839030562,16),w=p(w,E,$,_,y[14],4259657740,23),_=p(_,w,E,$,y[1],2763975236,4),$=p($,_,w,E,y[4],1272893353,11),E=p(E,$,_,w,y[7],4139469664,16),w=p(w,E,$,_,y[10],3200236656,23),_=p(_,w,E,$,y[13],681279174,4),$=p($,_,w,E,y[0],3936430074,11),E=p(E,$,_,w,y[3],3572445317,16),w=p(w,E,$,_,y[6],76029189,23),_=p(_,w,E,$,y[9],3654602809,4),$=p($,_,w,E,y[12],3873151461,11),E=p(E,$,_,w,y[15],530742520,16),w=p(w,E,$,_,y[2],3299628645,23),_=v(_,w,E,$,y[0],4096336452,6),$=v($,_,w,E,y[7],1126891415,10),E=v(E,$,_,w,y[14],2878612391,15),w=v(w,E,$,_,y[5],4237533241,21),_=v(_,w,E,$,y[12],1700485571,6),$=v($,_,w,E,y[3],2399980690,10),E=v(E,$,_,w,y[10],4293915773,15),w=v(w,E,$,_,y[1],2240044497,21),_=v(_,w,E,$,y[8],1873313359,6),$=v($,_,w,E,y[15],4264355552,10),E=v(E,$,_,w,y[6],2734768916,15),w=v(w,E,$,_,y[13],1309151649,21),_=v(_,w,E,$,y[4],4149444226,6),$=v($,_,w,E,y[11],3174756917,10),E=v(E,$,_,w,y[2],718787259,15),w=v(w,E,$,_,y[9],3951481745,21),this._a=this._a+_|0,this._b=this._b+w|0,this._c=this._c+E|0,this._d=this._d+$|0},o.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var y=n.allocUnsafe(16);return y.writeInt32LE(this._a,0),y.writeInt32LE(this._b,4),y.writeInt32LE(this._c,8),y.writeInt32LE(this._d,12),y};function u(y,b){return y<<b|y>>>32-b}function c(y,b,_,w,E,$,C){return u(y+(b&_|~b&w)+E+$|0,C)+b|0}function d(y,b,_,w,E,$,C){return u(y+(b&w|_&~w)+E+$|0,C)+b|0}function p(y,b,_,w,E,$,C){return u(y+(b^_^w)+E+$|0,C)+b|0}function v(y,b,_,w,E,$,C){return u(y+(_^(b|~w))+E+$|0,C)+b|0}return md5_js=o,md5_js}var ripemd160,hasRequiredRipemd160;function requireRipemd160(){if(hasRequiredRipemd160)return ripemd160;hasRequiredRipemd160=1;var t=buffer$2.Buffer,e=inherits_browserExports,n=requireHashBase(),a=new Array(16),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],d=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],p=[0,1518500249,1859775393,2400959708,2840853838],v=[1352829926,1548603684,1836072691,2053994217,0];function y(){n.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}e(y,n),y.prototype._update=function(){for(var P=a,z=0;z<16;++z)P[z]=this._block.readInt32LE(z*4);for(var J=this._a|0,X=this._b|0,re=this._c|0,de=this._d|0,xe=this._e|0,$e=this._a|0,Pe=this._b|0,it=this._c|0,fe=this._d|0,B=this._e|0,k=0;k<80;k+=1){var x,A;k<16?(x=_(J,X,re,de,xe,P[o[k]],p[0],c[k]),A=C($e,Pe,it,fe,B,P[u[k]],v[0],d[k])):k<32?(x=w(J,X,re,de,xe,P[o[k]],p[1],c[k]),A=$($e,Pe,it,fe,B,P[u[k]],v[1],d[k])):k<48?(x=E(J,X,re,de,xe,P[o[k]],p[2],c[k]),A=E($e,Pe,it,fe,B,P[u[k]],v[2],d[k])):k<64?(x=$(J,X,re,de,xe,P[o[k]],p[3],c[k]),A=w($e,Pe,it,fe,B,P[u[k]],v[3],d[k])):(x=C(J,X,re,de,xe,P[o[k]],p[4],c[k]),A=_($e,Pe,it,fe,B,P[u[k]],v[4],d[k])),J=xe,xe=de,de=b(re,10),re=X,X=x,$e=B,B=fe,fe=b(it,10),it=Pe,Pe=A}var D=this._b+re+fe|0;this._b=this._c+de+B|0,this._c=this._d+xe+$e|0,this._d=this._e+J+Pe|0,this._e=this._a+X+it|0,this._a=D},y.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var P=t.alloc?t.alloc(20):new t(20);return P.writeInt32LE(this._a,0),P.writeInt32LE(this._b,4),P.writeInt32LE(this._c,8),P.writeInt32LE(this._d,12),P.writeInt32LE(this._e,16),P};function b(P,z){return P<<z|P>>>32-z}function _(P,z,J,X,re,de,xe,$e){return b(P+(z^J^X)+de+xe|0,$e)+re|0}function w(P,z,J,X,re,de,xe,$e){return b(P+(z&J|~z&X)+de+xe|0,$e)+re|0}function E(P,z,J,X,re,de,xe,$e){return b(P+((z|~J)^X)+de+xe|0,$e)+re|0}function $(P,z,J,X,re,de,xe,$e){return b(P+(z&X|J&~X)+de+xe|0,$e)+re|0}function C(P,z,J,X,re,de,xe,$e){return b(P+(z^(J|~X))+de+xe|0,$e)+re|0}return ripemd160=y,ripemd160}var sha_js={exports:{}},hash$4,hasRequiredHash;function requireHash(){if(hasRequiredHash)return hash$4;hasRequiredHash=1;var t=safeBufferExports.Buffer;function e(n,a){this._block=t.alloc(n),this._finalSize=a,this._blockSize=n,this._len=0}return e.prototype.update=function(n,a){typeof n=="string"&&(a=a||"utf8",n=t.from(n,a));for(var o=this._block,u=this._blockSize,c=n.length,d=this._len,p=0;p<c;){for(var v=d%u,y=Math.min(c-p,u-v),b=0;b<y;b++)o[v+b]=n[p+b];d+=y,p+=y,d%u===0&&this._update(o)}return this._len+=c,this},e.prototype.digest=function(n){var a=this._len%this._blockSize;this._block[a]=128,this._block.fill(0,a+1),a>=this._finalSize&&(this._update(this._block),this._block.fill(0));var o=this._len*8;if(o<=4294967295)this._block.writeUInt32BE(o,this._blockSize-4);else{var u=(o&4294967295)>>>0,c=(o-u)/4294967296;this._block.writeUInt32BE(c,this._blockSize-8),this._block.writeUInt32BE(u,this._blockSize-4)}this._update(this._block);var d=this._hash();return n?d.toString(n):d},e.prototype._update=function(){throw new Error("_update must be implemented by subclass")},hash$4=e,hash$4}var sha$1,hasRequiredSha;function requireSha(){if(hasRequiredSha)return sha$1;hasRequiredSha=1;var t=inherits_browserExports,e=requireHash(),n=safeBufferExports.Buffer,a=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function u(){this.init(),this._w=o,e.call(this,64,56)}t(u,e),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function c(v){return v<<5|v>>>27}function d(v){return v<<30|v>>>2}function p(v,y,b,_){return v===0?y&b|~y&_:v===2?y&b|y&_|b&_:y^b^_}return u.prototype._update=function(v){for(var y=this._w,b=this._a|0,_=this._b|0,w=this._c|0,E=this._d|0,$=this._e|0,C=0;C<16;++C)y[C]=v.readInt32BE(C*4);for(;C<80;++C)y[C]=y[C-3]^y[C-8]^y[C-14]^y[C-16];for(var P=0;P<80;++P){var z=~~(P/20),J=c(b)+p(z,_,w,E)+$+y[P]+a[z]|0;$=E,E=w,w=d(_),_=b,b=J}this._a=b+this._a|0,this._b=_+this._b|0,this._c=w+this._c|0,this._d=E+this._d|0,this._e=$+this._e|0},u.prototype._hash=function(){var v=n.allocUnsafe(20);return v.writeInt32BE(this._a|0,0),v.writeInt32BE(this._b|0,4),v.writeInt32BE(this._c|0,8),v.writeInt32BE(this._d|0,12),v.writeInt32BE(this._e|0,16),v},sha$1=u,sha$1}var sha1,hasRequiredSha1;function requireSha1(){if(hasRequiredSha1)return sha1;hasRequiredSha1=1;var t=inherits_browserExports,e=requireHash(),n=safeBufferExports.Buffer,a=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function u(){this.init(),this._w=o,e.call(this,64,56)}t(u,e),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function c(y){return y<<1|y>>>31}function d(y){return y<<5|y>>>27}function p(y){return y<<30|y>>>2}function v(y,b,_,w){return y===0?b&_|~b&w:y===2?b&_|b&w|_&w:b^_^w}return u.prototype._update=function(y){for(var b=this._w,_=this._a|0,w=this._b|0,E=this._c|0,$=this._d|0,C=this._e|0,P=0;P<16;++P)b[P]=y.readInt32BE(P*4);for(;P<80;++P)b[P]=c(b[P-3]^b[P-8]^b[P-14]^b[P-16]);for(var z=0;z<80;++z){var J=~~(z/20),X=d(_)+v(J,w,E,$)+C+b[z]+a[J]|0;C=$,$=E,E=p(w),w=_,_=X}this._a=_+this._a|0,this._b=w+this._b|0,this._c=E+this._c|0,this._d=$+this._d|0,this._e=C+this._e|0},u.prototype._hash=function(){var y=n.allocUnsafe(20);return y.writeInt32BE(this._a|0,0),y.writeInt32BE(this._b|0,4),y.writeInt32BE(this._c|0,8),y.writeInt32BE(this._d|0,12),y.writeInt32BE(this._e|0,16),y},sha1=u,sha1}var sha256$2,hasRequiredSha256;function requireSha256(){if(hasRequiredSha256)return sha256$2;hasRequiredSha256=1;var t=inherits_browserExports,e=requireHash(),n=safeBufferExports.Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=new Array(64);function u(){this.init(),this._w=o,e.call(this,64,56)}t(u,e),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function c(_,w,E){return E^_&(w^E)}function d(_,w,E){return _&w|E&(_|w)}function p(_){return(_>>>2|_<<30)^(_>>>13|_<<19)^(_>>>22|_<<10)}function v(_){return(_>>>6|_<<26)^(_>>>11|_<<21)^(_>>>25|_<<7)}function y(_){return(_>>>7|_<<25)^(_>>>18|_<<14)^_>>>3}function b(_){return(_>>>17|_<<15)^(_>>>19|_<<13)^_>>>10}return u.prototype._update=function(_){for(var w=this._w,E=this._a|0,$=this._b|0,C=this._c|0,P=this._d|0,z=this._e|0,J=this._f|0,X=this._g|0,re=this._h|0,de=0;de<16;++de)w[de]=_.readInt32BE(de*4);for(;de<64;++de)w[de]=b(w[de-2])+w[de-7]+y(w[de-15])+w[de-16]|0;for(var xe=0;xe<64;++xe){var $e=re+v(z)+c(z,J,X)+a[xe]+w[xe]|0,Pe=p(E)+d(E,$,C)|0;re=X,X=J,J=z,z=P+$e|0,P=C,C=$,$=E,E=$e+Pe|0}this._a=E+this._a|0,this._b=$+this._b|0,this._c=C+this._c|0,this._d=P+this._d|0,this._e=z+this._e|0,this._f=J+this._f|0,this._g=X+this._g|0,this._h=re+this._h|0},u.prototype._hash=function(){var _=n.allocUnsafe(32);return _.writeInt32BE(this._a,0),_.writeInt32BE(this._b,4),_.writeInt32BE(this._c,8),_.writeInt32BE(this._d,12),_.writeInt32BE(this._e,16),_.writeInt32BE(this._f,20),_.writeInt32BE(this._g,24),_.writeInt32BE(this._h,28),_},sha256$2=u,sha256$2}var sha224$1,hasRequiredSha224;function requireSha224(){if(hasRequiredSha224)return sha224$1;hasRequiredSha224=1;var t=inherits_browserExports,e=requireSha256(),n=requireHash(),a=safeBufferExports.Buffer,o=new Array(64);function u(){this.init(),this._w=o,n.call(this,64,56)}return t(u,e),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var c=a.allocUnsafe(28);return c.writeInt32BE(this._a,0),c.writeInt32BE(this._b,4),c.writeInt32BE(this._c,8),c.writeInt32BE(this._d,12),c.writeInt32BE(this._e,16),c.writeInt32BE(this._f,20),c.writeInt32BE(this._g,24),c},sha224$1=u,sha224$1}var sha512$1,hasRequiredSha512;function requireSha512(){if(hasRequiredSha512)return sha512$1;hasRequiredSha512=1;var t=inherits_browserExports,e=requireHash(),n=safeBufferExports.Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],o=new Array(160);function u(){this.init(),this._w=o,e.call(this,128,112)}t(u,e),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function c($,C,P){return P^$&(C^P)}function d($,C,P){return $&C|P&($|C)}function p($,C){return($>>>28|C<<4)^(C>>>2|$<<30)^(C>>>7|$<<25)}function v($,C){return($>>>14|C<<18)^($>>>18|C<<14)^(C>>>9|$<<23)}function y($,C){return($>>>1|C<<31)^($>>>8|C<<24)^$>>>7}function b($,C){return($>>>1|C<<31)^($>>>8|C<<24)^($>>>7|C<<25)}function _($,C){return($>>>19|C<<13)^(C>>>29|$<<3)^$>>>6}function w($,C){return($>>>19|C<<13)^(C>>>29|$<<3)^($>>>6|C<<26)}function E($,C){return $>>>0<C>>>0?1:0}return u.prototype._update=function($){for(var C=this._w,P=this._ah|0,z=this._bh|0,J=this._ch|0,X=this._dh|0,re=this._eh|0,de=this._fh|0,xe=this._gh|0,$e=this._hh|0,Pe=this._al|0,it=this._bl|0,fe=this._cl|0,B=this._dl|0,k=this._el|0,x=this._fl|0,A=this._gl|0,D=this._hl|0,q=0;q<32;q+=2)C[q]=$.readInt32BE(q*4),C[q+1]=$.readInt32BE(q*4+4);for(;q<160;q+=2){var G=C[q-30],j=C[q-15*2+1],T=y(G,j),F=b(j,G);G=C[q-2*2],j=C[q-2*2+1];var M=_(G,j),V=w(j,G),ge=C[q-7*2],ke=C[q-7*2+1],he=C[q-16*2],be=C[q-16*2+1],Me=F+ke|0,Re=T+ge+E(Me,F)|0;Me=Me+V|0,Re=Re+M+E(Me,V)|0,Me=Me+be|0,Re=Re+he+E(Me,be)|0,C[q]=Re,C[q+1]=Me}for(var Je=0;Je<160;Je+=2){Re=C[Je],Me=C[Je+1];var le=d(P,z,J),ue=d(Pe,it,fe),qe=p(P,Pe),Ge=p(Pe,P),ot=v(re,k),ie=v(k,re),L=a[Je],N=a[Je+1],Q=c(re,de,xe),we=c(k,x,A),Ie=D+ie|0,Ke=$e+ot+E(Ie,D)|0;Ie=Ie+we|0,Ke=Ke+Q+E(Ie,we)|0,Ie=Ie+N|0,Ke=Ke+L+E(Ie,N)|0,Ie=Ie+Me|0,Ke=Ke+Re+E(Ie,Me)|0;var dt=Ge+ue|0,me=qe+le+E(dt,Ge)|0;$e=xe,D=A,xe=de,A=x,de=re,x=k,k=B+Ie|0,re=X+Ke+E(k,B)|0,X=J,B=fe,J=z,fe=it,z=P,it=Pe,Pe=Ie+dt|0,P=Ke+me+E(Pe,Ie)|0}this._al=this._al+Pe|0,this._bl=this._bl+it|0,this._cl=this._cl+fe|0,this._dl=this._dl+B|0,this._el=this._el+k|0,this._fl=this._fl+x|0,this._gl=this._gl+A|0,this._hl=this._hl+D|0,this._ah=this._ah+P+E(this._al,Pe)|0,this._bh=this._bh+z+E(this._bl,it)|0,this._ch=this._ch+J+E(this._cl,fe)|0,this._dh=this._dh+X+E(this._dl,B)|0,this._eh=this._eh+re+E(this._el,k)|0,this._fh=this._fh+de+E(this._fl,x)|0,this._gh=this._gh+xe+E(this._gl,A)|0,this._hh=this._hh+$e+E(this._hl,D)|0},u.prototype._hash=function(){var $=n.allocUnsafe(64);function C(P,z,J){$.writeInt32BE(P,J),$.writeInt32BE(z,J+4)}return C(this._ah,this._al,0),C(this._bh,this._bl,8),C(this._ch,this._cl,16),C(this._dh,this._dl,24),C(this._eh,this._el,32),C(this._fh,this._fl,40),C(this._gh,this._gl,48),C(this._hh,this._hl,56),$},sha512$1=u,sha512$1}var sha384$1,hasRequiredSha384;function requireSha384(){if(hasRequiredSha384)return sha384$1;hasRequiredSha384=1;var t=inherits_browserExports,e=requireSha512(),n=requireHash(),a=safeBufferExports.Buffer,o=new Array(160);function u(){this.init(),this._w=o,n.call(this,128,112)}return t(u,e),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var c=a.allocUnsafe(48);function d(p,v,y){c.writeInt32BE(p,y),c.writeInt32BE(v,y+4)}return d(this._ah,this._al,0),d(this._bh,this._bl,8),d(this._ch,this._cl,16),d(this._dh,this._dl,24),d(this._eh,this._el,32),d(this._fh,this._fl,40),c},sha384$1=u,sha384$1}var hasRequiredSha_js;function requireSha_js(){if(hasRequiredSha_js)return sha_js.exports;hasRequiredSha_js=1;var t=sha_js.exports=function(n){n=n.toLowerCase();var a=t[n];if(!a)throw new Error(n+" is not supported (we accept pull requests)");return new a};return t.sha=requireSha(),t.sha1=requireSha1(),t.sha224=requireSha224(),t.sha256=requireSha256(),t.sha384=requireSha384(),t.sha512=requireSha512(),sha_js.exports}var streamBrowserify,hasRequiredStreamBrowserify;function requireStreamBrowserify(){if(hasRequiredStreamBrowserify)return streamBrowserify;hasRequiredStreamBrowserify=1,streamBrowserify=n;var t=eventsExports.EventEmitter,e=inherits_browserExports;e(n,t),n.Readable=require_stream_readable(),n.Writable=require_stream_writable(),n.Duplex=require_stream_duplex(),n.Transform=require_stream_transform(),n.PassThrough=require_stream_passthrough(),n.finished=requireEndOfStream(),n.pipeline=requirePipeline(),n.Stream=n;function n(){t.call(this)}return n.prototype.pipe=function(a,o){var u=this;function c(w){a.writable&&a.write(w)===!1&&u.pause&&u.pause()}u.on("data",c);function d(){u.readable&&u.resume&&u.resume()}a.on("drain",d),!a._isStdio&&(!o||o.end!==!1)&&(u.on("end",v),u.on("close",y));var p=!1;function v(){p||(p=!0,a.end())}function y(){p||(p=!0,typeof a.destroy=="function"&&a.destroy())}function b(w){if(_(),t.listenerCount(this,"error")===0)throw w}u.on("error",b),a.on("error",b);function _(){u.removeListener("data",c),a.removeListener("drain",d),u.removeListener("end",v),u.removeListener("close",y),u.removeListener("error",b),a.removeListener("error",b),u.removeListener("end",_),u.removeListener("close",_),a.removeListener("close",_)}return u.on("end",_),u.on("close",_),a.on("close",_),a.emit("pipe",u),a},streamBrowserify}var cipherBase,hasRequiredCipherBase;function requireCipherBase(){if(hasRequiredCipherBase)return cipherBase;hasRequiredCipherBase=1;var t=safeBufferExports.Buffer,e=requireStreamBrowserify().Transform,n=requireString_decoder().StringDecoder,a=inherits_browserExports;function o(u){e.call(this),this.hashMode=typeof u=="string",this.hashMode?this[u]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}return a(o,e),o.prototype.update=function(u,c,d){typeof u=="string"&&(u=t.from(u,c));var p=this._update(u);return this.hashMode?this:(d&&(p=this._toString(p,d)),p)},o.prototype.setAutoPadding=function(){},o.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},o.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},o.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},o.prototype._transform=function(u,c,d){var p;try{this.hashMode?this._update(u):this.push(this._update(u))}catch(v){p=v}finally{d(p)}},o.prototype._flush=function(u){var c;try{this.push(this.__final())}catch(d){c=d}u(c)},o.prototype._finalOrDigest=function(u){var c=this.__final()||t.alloc(0);return u&&(c=this._toString(c,u,!0)),c},o.prototype._toString=function(u,c,d){if(this._decoder||(this._decoder=new n(c),this._encoding=c),this._encoding!==c)throw new Error("can't switch encodings");var p=this._decoder.write(u);return d&&(p+=this._decoder.end()),p},cipherBase=o,cipherBase}var browser$9,hasRequiredBrowser$9;function requireBrowser$9(){if(hasRequiredBrowser$9)return browser$9;hasRequiredBrowser$9=1;var t=inherits_browserExports,e=requireMd5_js(),n=requireRipemd160(),a=requireSha_js(),o=requireCipherBase();function u(c){o.call(this,"digest"),this._hash=c}return t(u,o),u.prototype._update=function(c){this._hash.update(c)},u.prototype._final=function(){return this._hash.digest()},browser$9=function(d){return d=d.toLowerCase(),d==="md5"?new e:d==="rmd160"||d==="ripemd160"?new n:new u(a(d))},browser$9}var legacy,hasRequiredLegacy;function requireLegacy(){if(hasRequiredLegacy)return legacy;hasRequiredLegacy=1;var t=inherits_browserExports,e=safeBufferExports.Buffer,n=requireCipherBase(),a=e.alloc(128),o=64;function u(c,d){n.call(this,"digest"),typeof d=="string"&&(d=e.from(d)),this._alg=c,this._key=d,d.length>o?d=c(d):d.length<o&&(d=e.concat([d,a],o));for(var p=this._ipad=e.allocUnsafe(o),v=this._opad=e.allocUnsafe(o),y=0;y<o;y++)p[y]=d[y]^54,v[y]=d[y]^92;this._hash=[p]}return t(u,n),u.prototype._update=function(c){this._hash.push(c)},u.prototype._final=function(){var c=this._alg(e.concat(this._hash));return this._alg(e.concat([this._opad,c]))},legacy=u,legacy}var md5,hasRequiredMd5;function requireMd5(){if(hasRequiredMd5)return md5;hasRequiredMd5=1;var t=requireMd5_js();return md5=function(e){return new t().update(e).digest()},md5}var browser$8,hasRequiredBrowser$8;function requireBrowser$8(){if(hasRequiredBrowser$8)return browser$8;hasRequiredBrowser$8=1;var t=inherits_browserExports,e=requireLegacy(),n=requireCipherBase(),a=safeBufferExports.Buffer,o=requireMd5(),u=requireRipemd160(),c=requireSha_js(),d=a.alloc(128);function p(v,y){n.call(this,"digest"),typeof y=="string"&&(y=a.from(y));var b=v==="sha512"||v==="sha384"?128:64;if(this._alg=v,this._key=y,y.length>b){var _=v==="rmd160"?new u:c(v);y=_.update(y).digest()}else y.length<b&&(y=a.concat([y,d],b));for(var w=this._ipad=a.allocUnsafe(b),E=this._opad=a.allocUnsafe(b),$=0;$<b;$++)w[$]=y[$]^54,E[$]=y[$]^92;this._hash=v==="rmd160"?new u:c(v),this._hash.update(w)}return t(p,n),p.prototype._update=function(v){this._hash.update(v)},p.prototype._final=function(){var v=this._hash.digest(),y=this._alg==="rmd160"?new u:c(this._alg);return y.update(this._opad).update(v).digest()},browser$8=function(y,b){return y=y.toLowerCase(),y==="rmd160"||y==="ripemd160"?new p("rmd160",b):y==="md5"?new e(o,b):new p(y,b)},browser$8}const sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},sha256$1={sign:"ecdsa",hash:"sha256",id:""},sha224={sign:"ecdsa",hash:"sha224",id:""},sha384={sign:"ecdsa",hash:"sha384",id:""},sha512={sign:"ecdsa",hash:"sha512",id:""},DSA={sign:"dsa",hash:"sha1",id:""},ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},require$$6={sha224WithRSAEncryption,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:sha256$1,sha224,sha384,sha512,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var algos,hasRequiredAlgos;function requireAlgos(){return hasRequiredAlgos||(hasRequiredAlgos=1,algos=require$$6),algos}var browser$7={},precondition,hasRequiredPrecondition;function requirePrecondition(){if(hasRequiredPrecondition)return precondition;hasRequiredPrecondition=1;var t=Math.pow(2,30)-1;return precondition=function(e,n){if(typeof e!="number")throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if(typeof n!="number")throw new TypeError("Key length not a number");if(n<0||n>t||n!==n)throw new TypeError("Bad key length")},precondition}var defaultEncoding_1,hasRequiredDefaultEncoding;function requireDefaultEncoding(){if(hasRequiredDefaultEncoding)return defaultEncoding_1;hasRequiredDefaultEncoding=1;var t;if(commonjsGlobal.process&&commonjsGlobal.process.browser)t="utf-8";else if(commonjsGlobal.process&&commonjsGlobal.process.version){var e=parseInt(process$1.version.split(".")[0].slice(1),10);t=e>=6?"utf-8":"binary"}else t="utf-8";return defaultEncoding_1=t,defaultEncoding_1}var toBuffer,hasRequiredToBuffer;function requireToBuffer(){if(hasRequiredToBuffer)return toBuffer;hasRequiredToBuffer=1;var t=safeBufferExports.Buffer;return toBuffer=function(e,n,a){if(t.isBuffer(e))return e;if(typeof e=="string")return t.from(e,n);if(ArrayBuffer.isView(e))return t.from(e.buffer);throw new TypeError(a+" must be a string, a Buffer, a typed array or a DataView")},toBuffer}var syncBrowser,hasRequiredSyncBrowser;function requireSyncBrowser(){if(hasRequiredSyncBrowser)return syncBrowser;hasRequiredSyncBrowser=1;var t=requireMd5(),e=requireRipemd160(),n=requireSha_js(),a=safeBufferExports.Buffer,o=requirePrecondition(),u=requireDefaultEncoding(),c=requireToBuffer(),d=a.alloc(128),p={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function v(_,w,E){var $=y(_),C=_==="sha512"||_==="sha384"?128:64;w.length>C?w=$(w):w.length<C&&(w=a.concat([w,d],C));for(var P=a.allocUnsafe(C+p[_]),z=a.allocUnsafe(C+p[_]),J=0;J<C;J++)P[J]=w[J]^54,z[J]=w[J]^92;var X=a.allocUnsafe(C+E+4);P.copy(X,0,0,C),this.ipad1=X,this.ipad2=P,this.opad=z,this.alg=_,this.blocksize=C,this.hash=$,this.size=p[_]}v.prototype.run=function(_,w){_.copy(w,this.blocksize);var E=this.hash(w);return E.copy(this.opad,this.blocksize),this.hash(this.opad)};function y(_){function w($){return n(_).update($).digest()}function E($){return new e().update($).digest()}return _==="rmd160"||_==="ripemd160"?E:_==="md5"?t:w}function b(_,w,E,$,C){o(E,$),_=c(_,u,"Password"),w=c(w,u,"Salt"),C=C||"sha1";var P=new v(C,_,w.length),z=a.allocUnsafe($),J=a.allocUnsafe(w.length+4);w.copy(J,0,0,w.length);for(var X=0,re=p[C],de=Math.ceil($/re),xe=1;xe<=de;xe++){J.writeUInt32BE(xe,w.length);for(var $e=P.run(J,P.ipad1),Pe=$e,it=1;it<E;it++){Pe=P.run(Pe,P.ipad2);for(var fe=0;fe<re;fe++)$e[fe]^=Pe[fe]}$e.copy(z,X),X+=re}return z}return syncBrowser=b,syncBrowser}var async,hasRequiredAsync;function requireAsync(){if(hasRequiredAsync)return async;hasRequiredAsync=1;var t=safeBufferExports.Buffer,e=requirePrecondition(),n=requireDefaultEncoding(),a=requireSyncBrowser(),o=requireToBuffer(),u,c=commonjsGlobal.crypto&&commonjsGlobal.crypto.subtle,d={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},p=[];function v(E){if(commonjsGlobal.process&&!commonjsGlobal.process.browser||!c||!c.importKey||!c.deriveBits)return Promise.resolve(!1);if(p[E]!==void 0)return p[E];u=u||t.alloc(8);var $=_(u,u,10,128,E).then(function(){return!0}).catch(function(){return!1});return p[E]=$,$}var y;function b(){return y||(commonjsGlobal.process&&commonjsGlobal.process.nextTick?y=commonjsGlobal.process.nextTick:commonjsGlobal.queueMicrotask?y=commonjsGlobal.queueMicrotask:commonjsGlobal.setImmediate?y=commonjsGlobal.setImmediate:y=commonjsGlobal.setTimeout,y)}function _(E,$,C,P,z){return c.importKey("raw",E,{name:"PBKDF2"},!1,["deriveBits"]).then(function(J){return c.deriveBits({name:"PBKDF2",salt:$,iterations:C,hash:{name:z}},J,P<<3)}).then(function(J){return t.from(J)})}function w(E,$){E.then(function(C){b()(function(){$(null,C)})},function(C){b()(function(){$(C)})})}return async=function(E,$,C,P,z,J){typeof z=="function"&&(J=z,z=void 0),z=z||"sha1";var X=d[z.toLowerCase()];if(!X||typeof commonjsGlobal.Promise!="function"){b()(function(){var re;try{re=a(E,$,C,P,z)}catch(de){return J(de)}J(null,re)});return}if(e(C,P),E=o(E,n,"Password"),$=o($,n,"Salt"),typeof J!="function")throw new Error("No callback provided to pbkdf2");w(v(X).then(function(re){return re?_(E,$,C,P,X):a(E,$,C,P,z)}),J)},async}var hasRequiredBrowser$7;function requireBrowser$7(){return hasRequiredBrowser$7||(hasRequiredBrowser$7=1,browser$7.pbkdf2=requireAsync(),browser$7.pbkdf2Sync=requireSyncBrowser()),browser$7}var browser$6={},des$1={},utils$n={},hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils$n;hasRequiredUtils=1,utils$n.readUInt32BE=function(o,u){var c=o[0+u]<<24|o[1+u]<<16|o[2+u]<<8|o[3+u];return c>>>0},utils$n.writeUInt32BE=function(o,u,c){o[0+c]=u>>>24,o[1+c]=u>>>16&255,o[2+c]=u>>>8&255,o[3+c]=u&255},utils$n.ip=function(o,u,c,d){for(var p=0,v=0,y=6;y>=0;y-=2){for(var b=0;b<=24;b+=8)p<<=1,p|=u>>>b+y&1;for(var b=0;b<=24;b+=8)p<<=1,p|=o>>>b+y&1}for(var y=6;y>=0;y-=2){for(var b=1;b<=25;b+=8)v<<=1,v|=u>>>b+y&1;for(var b=1;b<=25;b+=8)v<<=1,v|=o>>>b+y&1}c[d+0]=p>>>0,c[d+1]=v>>>0},utils$n.rip=function(o,u,c,d){for(var p=0,v=0,y=0;y<4;y++)for(var b=24;b>=0;b-=8)p<<=1,p|=u>>>b+y&1,p<<=1,p|=o>>>b+y&1;for(var y=4;y<8;y++)for(var b=24;b>=0;b-=8)v<<=1,v|=u>>>b+y&1,v<<=1,v|=o>>>b+y&1;c[d+0]=p>>>0,c[d+1]=v>>>0},utils$n.pc1=function(o,u,c,d){for(var p=0,v=0,y=7;y>=5;y--){for(var b=0;b<=24;b+=8)p<<=1,p|=u>>b+y&1;for(var b=0;b<=24;b+=8)p<<=1,p|=o>>b+y&1}for(var b=0;b<=24;b+=8)p<<=1,p|=u>>b+y&1;for(var y=1;y<=3;y++){for(var b=0;b<=24;b+=8)v<<=1,v|=u>>b+y&1;for(var b=0;b<=24;b+=8)v<<=1,v|=o>>b+y&1}for(var b=0;b<=24;b+=8)v<<=1,v|=o>>b+y&1;c[d+0]=p>>>0,c[d+1]=v>>>0},utils$n.r28shl=function(o,u){return o<<u&268435455|o>>>28-u};var t=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];utils$n.pc2=function(o,u,c,d){for(var p=0,v=0,y=t.length>>>1,b=0;b<y;b++)p<<=1,p|=o>>>t[b]&1;for(var b=y;b<t.length;b++)v<<=1,v|=u>>>t[b]&1;c[d+0]=p>>>0,c[d+1]=v>>>0},utils$n.expand=function(o,u,c){var d=0,p=0;d=(o&1)<<5|o>>>27;for(var v=23;v>=15;v-=4)d<<=6,d|=o>>>v&63;for(var v=11;v>=3;v-=4)p|=o>>>v&63,p<<=6;p|=(o&31)<<1|o>>>31,u[c+0]=d>>>0,u[c+1]=p>>>0};var e=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];utils$n.substitute=function(o,u){for(var c=0,d=0;d<4;d++){var p=o>>>18-d*6&63,v=e[d*64+p];c<<=4,c|=v}for(var d=0;d<4;d++){var p=u>>>18-d*6&63,v=e[4*64+d*64+p];c<<=4,c|=v}return c>>>0};var n=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return utils$n.permute=function(o){for(var u=0,c=0;c<n.length;c++)u<<=1,u|=o>>>n[c]&1;return u>>>0},utils$n.padSplit=function(o,u,c){for(var d=o.toString(2);d.length<u;)d="0"+d;for(var p=[],v=0;v<u;v+=c)p.push(d.slice(v,v+c));return p.join(" ")},utils$n}var minimalisticAssert=assert$e;function assert$e(t,e){if(!t)throw new Error(e||"Assertion failed")}assert$e.equal=function t(e,n,a){if(e!=n)throw new Error(a||"Assertion failed: "+e+" != "+n)};var cipher,hasRequiredCipher;function requireCipher(){if(hasRequiredCipher)return cipher;hasRequiredCipher=1;var t=minimalisticAssert;function e(n){this.options=n,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}return cipher=e,e.prototype._init=function(){},e.prototype.update=function(a){return a.length===0?[]:this.type==="decrypt"?this._updateDecrypt(a):this._updateEncrypt(a)},e.prototype._buffer=function(a,o){for(var u=Math.min(this.buffer.length-this.bufferOff,a.length-o),c=0;c<u;c++)this.buffer[this.bufferOff+c]=a[o+c];return this.bufferOff+=u,u},e.prototype._flushBuffer=function(a,o){return this._update(this.buffer,0,a,o),this.bufferOff=0,this.blockSize},e.prototype._updateEncrypt=function(a){var o=0,u=0,c=(this.bufferOff+a.length)/this.blockSize|0,d=new Array(c*this.blockSize);this.bufferOff!==0&&(o+=this._buffer(a,o),this.bufferOff===this.buffer.length&&(u+=this._flushBuffer(d,u)));for(var p=a.length-(a.length-o)%this.blockSize;o<p;o+=this.blockSize)this._update(a,o,d,u),u+=this.blockSize;for(;o<a.length;o++,this.bufferOff++)this.buffer[this.bufferOff]=a[o];return d},e.prototype._updateDecrypt=function(a){for(var o=0,u=0,c=Math.ceil((this.bufferOff+a.length)/this.blockSize)-1,d=new Array(c*this.blockSize);c>0;c--)o+=this._buffer(a,o),u+=this._flushBuffer(d,u);return o+=this._buffer(a,o),d},e.prototype.final=function(a){var o;a&&(o=this.update(a));var u;return this.type==="encrypt"?u=this._finalEncrypt():u=this._finalDecrypt(),o?o.concat(u):u},e.prototype._pad=function(a,o){if(o===0)return!1;for(;o<a.length;)a[o++]=0;return!0},e.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var a=new Array(this.blockSize);return this._update(this.buffer,0,a,0),a},e.prototype._unpad=function(a){return a},e.prototype._finalDecrypt=function(){t.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var a=new Array(this.blockSize);return this._flushBuffer(a,0),this._unpad(a)},cipher}var des,hasRequiredDes$1;function requireDes$1(){if(hasRequiredDes$1)return des;hasRequiredDes$1=1;var t=minimalisticAssert,e=inherits_browserExports,n=requireUtils(),a=requireCipher();function o(){this.tmp=new Array(2),this.keys=null}function u(d){a.call(this,d);var p=new o;this._desState=p,this.deriveKeys(p,d.key)}e(u,a),des=u,u.create=function(p){return new u(p)};var c=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return u.prototype.deriveKeys=function(p,v){p.keys=new Array(16*2),t.equal(v.length,this.blockSize,"Invalid key length");var y=n.readUInt32BE(v,0),b=n.readUInt32BE(v,4);n.pc1(y,b,p.tmp,0),y=p.tmp[0],b=p.tmp[1];for(var _=0;_<p.keys.length;_+=2){var w=c[_>>>1];y=n.r28shl(y,w),b=n.r28shl(b,w),n.pc2(y,b,p.keys,_)}},u.prototype._update=function(p,v,y,b){var _=this._desState,w=n.readUInt32BE(p,v),E=n.readUInt32BE(p,v+4);n.ip(w,E,_.tmp,0),w=_.tmp[0],E=_.tmp[1],this.type==="encrypt"?this._encrypt(_,w,E,_.tmp,0):this._decrypt(_,w,E,_.tmp,0),w=_.tmp[0],E=_.tmp[1],n.writeUInt32BE(y,w,b),n.writeUInt32BE(y,E,b+4)},u.prototype._pad=function(p,v){for(var y=p.length-v,b=v;b<p.length;b++)p[b]=y;return!0},u.prototype._unpad=function(p){for(var v=p[p.length-1],y=p.length-v;y<p.length;y++)t.equal(p[y],v);return p.slice(0,p.length-v)},u.prototype._encrypt=function(p,v,y,b,_){for(var w=v,E=y,$=0;$<p.keys.length;$+=2){var C=p.keys[$],P=p.keys[$+1];n.expand(E,p.tmp,0),C^=p.tmp[0],P^=p.tmp[1];var z=n.substitute(C,P),J=n.permute(z),X=E;E=(w^J)>>>0,w=X}n.rip(E,w,b,_)},u.prototype._decrypt=function(p,v,y,b,_){for(var w=y,E=v,$=p.keys.length-2;$>=0;$-=2){var C=p.keys[$],P=p.keys[$+1];n.expand(w,p.tmp,0),C^=p.tmp[0],P^=p.tmp[1];var z=n.substitute(C,P),J=n.permute(z),X=w;w=(E^J)>>>0,E=X}n.rip(w,E,b,_)},des}var cbc$1={},hasRequiredCbc$1;function requireCbc$1(){if(hasRequiredCbc$1)return cbc$1;hasRequiredCbc$1=1;var t=minimalisticAssert,e=inherits_browserExports,n={};function a(u){t.equal(u.length,8,"Invalid IV length"),this.iv=new Array(8);for(var c=0;c<this.iv.length;c++)this.iv[c]=u[c]}function o(u){function c(y){u.call(this,y),this._cbcInit()}e(c,u);for(var d=Object.keys(n),p=0;p<d.length;p++){var v=d[p];c.prototype[v]=n[v]}return c.create=function(b){return new c(b)},c}return cbc$1.instantiate=o,n._cbcInit=function(){var c=new a(this.options.iv);this._cbcState=c},n._update=function(c,d,p,v){var y=this._cbcState,b=this.constructor.super_.prototype,_=y.iv;if(this.type==="encrypt"){for(var w=0;w<this.blockSize;w++)_[w]^=c[d+w];b._update.call(this,_,0,p,v);for(var w=0;w<this.blockSize;w++)_[w]=p[v+w]}else{b._update.call(this,c,d,p,v);for(var w=0;w<this.blockSize;w++)p[v+w]^=_[w];for(var w=0;w<this.blockSize;w++)_[w]=c[d+w]}},cbc$1}var ede,hasRequiredEde;function requireEde(){if(hasRequiredEde)return ede;hasRequiredEde=1;var t=minimalisticAssert,e=inherits_browserExports,n=requireCipher(),a=requireDes$1();function o(c,d){t.equal(d.length,24,"Invalid key length");var p=d.slice(0,8),v=d.slice(8,16),y=d.slice(16,24);c==="encrypt"?this.ciphers=[a.create({type:"encrypt",key:p}),a.create({type:"decrypt",key:v}),a.create({type:"encrypt",key:y})]:this.ciphers=[a.create({type:"decrypt",key:y}),a.create({type:"encrypt",key:v}),a.create({type:"decrypt",key:p})]}function u(c){n.call(this,c);var d=new o(this.type,this.options.key);this._edeState=d}return e(u,n),ede=u,u.create=function(d){return new u(d)},u.prototype._update=function(d,p,v,y){var b=this._edeState;b.ciphers[0]._update(d,p,v,y),b.ciphers[1]._update(v,y,v,y),b.ciphers[2]._update(v,y,v,y)},u.prototype._pad=a.prototype._pad,u.prototype._unpad=a.prototype._unpad,ede}var hasRequiredDes;function requireDes(){return hasRequiredDes||(hasRequiredDes=1,des$1.utils=requireUtils(),des$1.Cipher=requireCipher(),des$1.DES=requireDes$1(),des$1.CBC=requireCbc$1(),des$1.EDE=requireEde()),des$1}var browserifyDes,hasRequiredBrowserifyDes;function requireBrowserifyDes(){if(hasRequiredBrowserifyDes)return browserifyDes;hasRequiredBrowserifyDes=1;var t=requireCipherBase(),e=requireDes(),n=inherits_browserExports,a=safeBufferExports.Buffer,o={"des-ede3-cbc":e.CBC.instantiate(e.EDE),"des-ede3":e.EDE,"des-ede-cbc":e.CBC.instantiate(e.EDE),"des-ede":e.EDE,"des-cbc":e.CBC.instantiate(e.DES),"des-ecb":e.DES};o.des=o["des-cbc"],o.des3=o["des-ede3-cbc"],browserifyDes=u,n(u,t);function u(c){t.call(this);var d=c.mode.toLowerCase(),p=o[d],v;c.decrypt?v="decrypt":v="encrypt";var y=c.key;a.isBuffer(y)||(y=a.from(y)),(d==="des-ede"||d==="des-ede-cbc")&&(y=a.concat([y,y.slice(0,8)]));var b=c.iv;a.isBuffer(b)||(b=a.from(b)),this._des=p.create({key:y,iv:b,type:v})}return u.prototype._update=function(c){return a.from(this._des.update(c))},u.prototype._final=function(){return a.from(this._des.final())},browserifyDes}var browser$5={},encrypter={},ecb={},hasRequiredEcb;function requireEcb(){return hasRequiredEcb||(hasRequiredEcb=1,ecb.encrypt=function(t,e){return t._cipher.encryptBlock(e)},ecb.decrypt=function(t,e){return t._cipher.decryptBlock(e)}),ecb}var cbc={},bufferXor,hasRequiredBufferXor;function requireBufferXor(){return hasRequiredBufferXor||(hasRequiredBufferXor=1,bufferXor=function(e,n){for(var a=Math.min(e.length,n.length),o=new buffer$2.Buffer(a),u=0;u<a;++u)o[u]=e[u]^n[u];return o}),bufferXor}var hasRequiredCbc;function requireCbc(){if(hasRequiredCbc)return cbc;hasRequiredCbc=1;var t=requireBufferXor();return cbc.encrypt=function(e,n){var a=t(n,e._prev);return e._prev=e._cipher.encryptBlock(a),e._prev},cbc.decrypt=function(e,n){var a=e._prev;e._prev=n;var o=e._cipher.decryptBlock(n);return t(o,a)},cbc}var cfb={},hasRequiredCfb;function requireCfb(){if(hasRequiredCfb)return cfb;hasRequiredCfb=1;var t=safeBufferExports.Buffer,e=requireBufferXor();function n(a,o,u){var c=o.length,d=e(o,a._cache);return a._cache=a._cache.slice(c),a._prev=t.concat([a._prev,u?o:d]),d}return cfb.encrypt=function(a,o,u){for(var c=t.allocUnsafe(0),d;o.length;)if(a._cache.length===0&&(a._cache=a._cipher.encryptBlock(a._prev),a._prev=t.allocUnsafe(0)),a._cache.length<=o.length)d=a._cache.length,c=t.concat([c,n(a,o.slice(0,d),u)]),o=o.slice(d);else{c=t.concat([c,n(a,o,u)]);break}return c},cfb}var cfb8={},hasRequiredCfb8;function requireCfb8(){if(hasRequiredCfb8)return cfb8;hasRequiredCfb8=1;var t=safeBufferExports.Buffer;function e(n,a,o){var u=n._cipher.encryptBlock(n._prev),c=u[0]^a;return n._prev=t.concat([n._prev.slice(1),t.from([o?a:c])]),c}return cfb8.encrypt=function(n,a,o){for(var u=a.length,c=t.allocUnsafe(u),d=-1;++d<u;)c[d]=e(n,a[d],o);return c},cfb8}var cfb1={},hasRequiredCfb1;function requireCfb1(){if(hasRequiredCfb1)return cfb1;hasRequiredCfb1=1;var t=safeBufferExports.Buffer;function e(a,o,u){for(var c,d=-1,p=8,v=0,y,b;++d<p;)c=a._cipher.encryptBlock(a._prev),y=o&1<<7-d?128:0,b=c[0]^y,v+=(b&128)>>d%8,a._prev=n(a._prev,u?y:b);return v}function n(a,o){var u=a.length,c=-1,d=t.allocUnsafe(a.length);for(a=t.concat([a,t.from([o])]);++c<u;)d[c]=a[c]<<1|a[c+1]>>7;return d}return cfb1.encrypt=function(a,o,u){for(var c=o.length,d=t.allocUnsafe(c),p=-1;++p<c;)d[p]=e(a,o[p],u);return d},cfb1}var ofb={},hasRequiredOfb;function requireOfb(){if(hasRequiredOfb)return ofb;hasRequiredOfb=1;var t=requireBufferXor();function e(n){return n._prev=n._cipher.encryptBlock(n._prev),n._prev}return ofb.encrypt=function(n,a){for(;n._cache.length<a.length;)n._cache=buffer$2.Buffer.concat([n._cache,e(n)]);var o=n._cache.slice(0,a.length);return n._cache=n._cache.slice(a.length),t(a,o)},ofb}var ctr={},incr32_1,hasRequiredIncr32;function requireIncr32(){if(hasRequiredIncr32)return incr32_1;hasRequiredIncr32=1;function t(e){for(var n=e.length,a;n--;)if(a=e.readUInt8(n),a===255)e.writeUInt8(0,n);else{a++,e.writeUInt8(a,n);break}}return incr32_1=t,incr32_1}var hasRequiredCtr;function requireCtr(){if(hasRequiredCtr)return ctr;hasRequiredCtr=1;var t=requireBufferXor(),e=safeBufferExports.Buffer,n=requireIncr32();function a(u){var c=u._cipher.encryptBlockRaw(u._prev);return n(u._prev),c}var o=16;return ctr.encrypt=function(u,c){var d=Math.ceil(c.length/o),p=u._cache.length;u._cache=e.concat([u._cache,e.allocUnsafe(d*o)]);for(var v=0;v<d;v++){var y=a(u),b=p+v*o;u._cache.writeUInt32BE(y[0],b+0),u._cache.writeUInt32BE(y[1],b+4),u._cache.writeUInt32BE(y[2],b+8),u._cache.writeUInt32BE(y[3],b+12)}var _=u._cache.slice(0,c.length);return u._cache=u._cache.slice(c.length),t(c,_)},ctr}const aes128={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},require$$2={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128,aes192,aes256,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var modes_1,hasRequiredModes$1;function requireModes$1(){if(hasRequiredModes$1)return modes_1;hasRequiredModes$1=1;var t={ECB:requireEcb(),CBC:requireCbc(),CFB:requireCfb(),CFB8:requireCfb8(),CFB1:requireCfb1(),OFB:requireOfb(),CTR:requireCtr(),GCM:requireCtr()},e=require$$2;for(var n in e)e[n].module=t[e[n].mode];return modes_1=e,modes_1}var aes$2={},hasRequiredAes;function requireAes(){if(hasRequiredAes)return aes$2;hasRequiredAes=1;var t=safeBufferExports.Buffer;function e(d){t.isBuffer(d)||(d=t.from(d));for(var p=d.length/4|0,v=new Array(p),y=0;y<p;y++)v[y]=d.readUInt32BE(y*4);return v}function n(d){for(var p=0;p<d.length;d++)d[p]=0}function a(d,p,v,y,b){for(var _=v[0],w=v[1],E=v[2],$=v[3],C=d[0]^p[0],P=d[1]^p[1],z=d[2]^p[2],J=d[3]^p[3],X,re,de,xe,$e=4,Pe=1;Pe<b;Pe++)X=_[C>>>24]^w[P>>>16&255]^E[z>>>8&255]^$[J&255]^p[$e++],re=_[P>>>24]^w[z>>>16&255]^E[J>>>8&255]^$[C&255]^p[$e++],de=_[z>>>24]^w[J>>>16&255]^E[C>>>8&255]^$[P&255]^p[$e++],xe=_[J>>>24]^w[C>>>16&255]^E[P>>>8&255]^$[z&255]^p[$e++],C=X,P=re,z=de,J=xe;return X=(y[C>>>24]<<24|y[P>>>16&255]<<16|y[z>>>8&255]<<8|y[J&255])^p[$e++],re=(y[P>>>24]<<24|y[z>>>16&255]<<16|y[J>>>8&255]<<8|y[C&255])^p[$e++],de=(y[z>>>24]<<24|y[J>>>16&255]<<16|y[C>>>8&255]<<8|y[P&255])^p[$e++],xe=(y[J>>>24]<<24|y[C>>>16&255]<<16|y[P>>>8&255]<<8|y[z&255])^p[$e++],X=X>>>0,re=re>>>0,de=de>>>0,xe=xe>>>0,[X,re,de,xe]}var o=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var d=new Array(256),p=0;p<256;p++)p<128?d[p]=p<<1:d[p]=p<<1^283;for(var v=[],y=[],b=[[],[],[],[]],_=[[],[],[],[]],w=0,E=0,$=0;$<256;++$){var C=E^E<<1^E<<2^E<<3^E<<4;C=C>>>8^C&255^99,v[w]=C,y[C]=w;var P=d[w],z=d[P],J=d[z],X=d[C]*257^C*16843008;b[0][w]=X<<24|X>>>8,b[1][w]=X<<16|X>>>16,b[2][w]=X<<8|X>>>24,b[3][w]=X,X=J*16843009^z*65537^P*257^w*16843008,_[0][C]=X<<24|X>>>8,_[1][C]=X<<16|X>>>16,_[2][C]=X<<8|X>>>24,_[3][C]=X,w===0?w=E=1:(w=P^d[d[d[J^P]]],E^=d[d[E]])}return{SBOX:v,INV_SBOX:y,SUB_MIX:b,INV_SUB_MIX:_}}();function c(d){this._key=e(d),this._reset()}return c.blockSize=4*4,c.keySize=256/8,c.prototype.blockSize=c.blockSize,c.prototype.keySize=c.keySize,c.prototype._reset=function(){for(var d=this._key,p=d.length,v=p+6,y=(v+1)*4,b=[],_=0;_<p;_++)b[_]=d[_];for(_=p;_<y;_++){var w=b[_-1];_%p===0?(w=w<<8|w>>>24,w=u.SBOX[w>>>24]<<24|u.SBOX[w>>>16&255]<<16|u.SBOX[w>>>8&255]<<8|u.SBOX[w&255],w^=o[_/p|0]<<24):p>6&&_%p===4&&(w=u.SBOX[w>>>24]<<24|u.SBOX[w>>>16&255]<<16|u.SBOX[w>>>8&255]<<8|u.SBOX[w&255]),b[_]=b[_-p]^w}for(var E=[],$=0;$<y;$++){var C=y-$,P=b[C-($%4?0:4)];$<4||C<=4?E[$]=P:E[$]=u.INV_SUB_MIX[0][u.SBOX[P>>>24]]^u.INV_SUB_MIX[1][u.SBOX[P>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[P>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[P&255]]}this._nRounds=v,this._keySchedule=b,this._invKeySchedule=E},c.prototype.encryptBlockRaw=function(d){return d=e(d),a(d,this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},c.prototype.encryptBlock=function(d){var p=this.encryptBlockRaw(d),v=t.allocUnsafe(16);return v.writeUInt32BE(p[0],0),v.writeUInt32BE(p[1],4),v.writeUInt32BE(p[2],8),v.writeUInt32BE(p[3],12),v},c.prototype.decryptBlock=function(d){d=e(d);var p=d[1];d[1]=d[3],d[3]=p;var v=a(d,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),y=t.allocUnsafe(16);return y.writeUInt32BE(v[0],0),y.writeUInt32BE(v[3],4),y.writeUInt32BE(v[2],8),y.writeUInt32BE(v[1],12),y},c.prototype.scrub=function(){n(this._keySchedule),n(this._invKeySchedule),n(this._key)},aes$2.AES=c,aes$2}var ghash,hasRequiredGhash;function requireGhash(){if(hasRequiredGhash)return ghash;hasRequiredGhash=1;var t=safeBufferExports.Buffer,e=t.alloc(16,0);function n(u){return[u.readUInt32BE(0),u.readUInt32BE(4),u.readUInt32BE(8),u.readUInt32BE(12)]}function a(u){var c=t.allocUnsafe(16);return c.writeUInt32BE(u[0]>>>0,0),c.writeUInt32BE(u[1]>>>0,4),c.writeUInt32BE(u[2]>>>0,8),c.writeUInt32BE(u[3]>>>0,12),c}function o(u){this.h=u,this.state=t.alloc(16,0),this.cache=t.allocUnsafe(0)}return o.prototype.ghash=function(u){for(var c=-1;++c<u.length;)this.state[c]^=u[c];this._multiply()},o.prototype._multiply=function(){for(var u=n(this.h),c=[0,0,0,0],d,p,v,y=-1;++y<128;){for(p=(this.state[~~(y/8)]&1<<7-y%8)!==0,p&&(c[0]^=u[0],c[1]^=u[1],c[2]^=u[2],c[3]^=u[3]),v=(u[3]&1)!==0,d=3;d>0;d--)u[d]=u[d]>>>1|(u[d-1]&1)<<31;u[0]=u[0]>>>1,v&&(u[0]=u[0]^225<<24)}this.state=a(c)},o.prototype.update=function(u){this.cache=t.concat([this.cache,u]);for(var c;this.cache.length>=16;)c=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(c)},o.prototype.final=function(u,c){return this.cache.length&&this.ghash(t.concat([this.cache,e],16)),this.ghash(a([0,u,0,c])),this.state},ghash=o,ghash}var authCipher,hasRequiredAuthCipher;function requireAuthCipher(){if(hasRequiredAuthCipher)return authCipher;hasRequiredAuthCipher=1;var t=requireAes(),e=safeBufferExports.Buffer,n=requireCipherBase(),a=inherits_browserExports,o=requireGhash(),u=requireBufferXor(),c=requireIncr32();function d(y,b){var _=0;y.length!==b.length&&_++;for(var w=Math.min(y.length,b.length),E=0;E<w;++E)_+=y[E]^b[E];return _}function p(y,b,_){if(b.length===12)return y._finID=e.concat([b,e.from([0,0,0,1])]),e.concat([b,e.from([0,0,0,2])]);var w=new o(_),E=b.length,$=E%16;w.update(b),$&&($=16-$,w.update(e.alloc($,0))),w.update(e.alloc(8,0));var C=E*8,P=e.alloc(8);P.writeUIntBE(C,0,8),w.update(P),y._finID=w.state;var z=e.from(y._finID);return c(z),z}function v(y,b,_,w){n.call(this);var E=e.alloc(4,0);this._cipher=new t.AES(b);var $=this._cipher.encryptBlock(E);this._ghash=new o($),_=p(this,_,$),this._prev=e.from(_),this._cache=e.allocUnsafe(0),this._secCache=e.allocUnsafe(0),this._decrypt=w,this._alen=0,this._len=0,this._mode=y,this._authTag=null,this._called=!1}return a(v,n),v.prototype._update=function(y){if(!this._called&&this._alen){var b=16-this._alen%16;b<16&&(b=e.alloc(b,0),this._ghash.update(b))}this._called=!0;var _=this._mode.encrypt(this,y);return this._decrypt?this._ghash.update(y):this._ghash.update(_),this._len+=y.length,_},v.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var y=u(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&d(y,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=y,this._cipher.scrub()},v.prototype.getAuthTag=function(){if(this._decrypt||!e.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},v.prototype.setAuthTag=function(b){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=b},v.prototype.setAAD=function(b){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(b),this._alen+=b.length},authCipher=v,authCipher}var streamCipher,hasRequiredStreamCipher;function requireStreamCipher(){if(hasRequiredStreamCipher)return streamCipher;hasRequiredStreamCipher=1;var t=requireAes(),e=safeBufferExports.Buffer,n=requireCipherBase(),a=inherits_browserExports;function o(u,c,d,p){n.call(this),this._cipher=new t.AES(c),this._prev=e.from(d),this._cache=e.allocUnsafe(0),this._secCache=e.allocUnsafe(0),this._decrypt=p,this._mode=u}return a(o,n),o.prototype._update=function(u){return this._mode.encrypt(this,u,this._decrypt)},o.prototype._final=function(){this._cipher.scrub()},streamCipher=o,streamCipher}var evp_bytestokey,hasRequiredEvp_bytestokey;function requireEvp_bytestokey(){if(hasRequiredEvp_bytestokey)return evp_bytestokey;hasRequiredEvp_bytestokey=1;var t=safeBufferExports.Buffer,e=requireMd5_js();function n(a,o,u,c){if(t.isBuffer(a)||(a=t.from(a,"binary")),o&&(t.isBuffer(o)||(o=t.from(o,"binary")),o.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var d=u/8,p=t.alloc(d),v=t.alloc(c||0),y=t.alloc(0);d>0||c>0;){var b=new e;b.update(y),b.update(a),o&&b.update(o),y=b.digest();var _=0;if(d>0){var w=p.length-d;_=Math.min(d,y.length),y.copy(p,w,0,_),d-=_}if(_<y.length&&c>0){var E=v.length-c,$=Math.min(c,y.length-_);y.copy(v,E,_,_+$),c-=$}}return y.fill(0),{key:p,iv:v}}return evp_bytestokey=n,evp_bytestokey}var hasRequiredEncrypter;function requireEncrypter(){if(hasRequiredEncrypter)return encrypter;hasRequiredEncrypter=1;var t=requireModes$1(),e=requireAuthCipher(),n=safeBufferExports.Buffer,a=requireStreamCipher(),o=requireCipherBase(),u=requireAes(),c=requireEvp_bytestokey(),d=inherits_browserExports;function p(w,E,$){o.call(this),this._cache=new y,this._cipher=new u.AES(E),this._prev=n.from($),this._mode=w,this._autopadding=!0}d(p,o),p.prototype._update=function(w){this._cache.add(w);for(var E,$,C=[];E=this._cache.get();)$=this._mode.encrypt(this,E),C.push($);return n.concat(C)};var v=n.alloc(16,16);p.prototype._final=function(){var w=this._cache.flush();if(this._autopadding)return w=this._mode.encrypt(this,w),this._cipher.scrub(),w;if(!w.equals(v))throw this._cipher.scrub(),new Error("data not multiple of block length")},p.prototype.setAutoPadding=function(w){return this._autopadding=!!w,this};function y(){this.cache=n.allocUnsafe(0)}y.prototype.add=function(w){this.cache=n.concat([this.cache,w])},y.prototype.get=function(){if(this.cache.length>15){var w=this.cache.slice(0,16);return this.cache=this.cache.slice(16),w}return null},y.prototype.flush=function(){for(var w=16-this.cache.length,E=n.allocUnsafe(w),$=-1;++$<w;)E.writeUInt8(w,$);return n.concat([this.cache,E])};function b(w,E,$){var C=t[w.toLowerCase()];if(!C)throw new TypeError("invalid suite type");if(typeof E=="string"&&(E=n.from(E)),E.length!==C.key/8)throw new TypeError("invalid key length "+E.length);if(typeof $=="string"&&($=n.from($)),C.mode!=="GCM"&&$.length!==C.iv)throw new TypeError("invalid iv length "+$.length);return C.type==="stream"?new a(C.module,E,$):C.type==="auth"?new e(C.module,E,$):new p(C.module,E,$)}function _(w,E){var $=t[w.toLowerCase()];if(!$)throw new TypeError("invalid suite type");var C=c(E,!1,$.key,$.iv);return b(w,C.key,C.iv)}return encrypter.createCipheriv=b,encrypter.createCipher=_,encrypter}var decrypter={},hasRequiredDecrypter;function requireDecrypter(){if(hasRequiredDecrypter)return decrypter;hasRequiredDecrypter=1;var t=requireAuthCipher(),e=safeBufferExports.Buffer,n=requireModes$1(),a=requireStreamCipher(),o=requireCipherBase(),u=requireAes(),c=requireEvp_bytestokey(),d=inherits_browserExports;function p(w,E,$){o.call(this),this._cache=new v,this._last=void 0,this._cipher=new u.AES(E),this._prev=e.from($),this._mode=w,this._autopadding=!0}d(p,o),p.prototype._update=function(w){this._cache.add(w);for(var E,$,C=[];E=this._cache.get(this._autopadding);)$=this._mode.decrypt(this,E),C.push($);return e.concat(C)},p.prototype._final=function(){var w=this._cache.flush();if(this._autopadding)return y(this._mode.decrypt(this,w));if(w)throw new Error("data not multiple of block length")},p.prototype.setAutoPadding=function(w){return this._autopadding=!!w,this};function v(){this.cache=e.allocUnsafe(0)}v.prototype.add=function(w){this.cache=e.concat([this.cache,w])},v.prototype.get=function(w){var E;if(w){if(this.cache.length>16)return E=this.cache.slice(0,16),this.cache=this.cache.slice(16),E}else if(this.cache.length>=16)return E=this.cache.slice(0,16),this.cache=this.cache.slice(16),E;return null},v.prototype.flush=function(){if(this.cache.length)return this.cache};function y(w){var E=w[15];if(E<1||E>16)throw new Error("unable to decrypt data");for(var $=-1;++$<E;)if(w[$+(16-E)]!==E)throw new Error("unable to decrypt data");if(E!==16)return w.slice(0,16-E)}function b(w,E,$){var C=n[w.toLowerCase()];if(!C)throw new TypeError("invalid suite type");if(typeof $=="string"&&($=e.from($)),C.mode!=="GCM"&&$.length!==C.iv)throw new TypeError("invalid iv length "+$.length);if(typeof E=="string"&&(E=e.from(E)),E.length!==C.key/8)throw new TypeError("invalid key length "+E.length);return C.type==="stream"?new a(C.module,E,$,!0):C.type==="auth"?new t(C.module,E,$,!0):new p(C.module,E,$)}function _(w,E){var $=n[w.toLowerCase()];if(!$)throw new TypeError("invalid suite type");var C=c(E,!1,$.key,$.iv);return b(w,C.key,C.iv)}return decrypter.createDecipher=_,decrypter.createDecipheriv=b,decrypter}var hasRequiredBrowser$6;function requireBrowser$6(){if(hasRequiredBrowser$6)return browser$5;hasRequiredBrowser$6=1;var t=requireEncrypter(),e=requireDecrypter(),n=require$$2;function a(){return Object.keys(n)}return browser$5.createCipher=browser$5.Cipher=t.createCipher,browser$5.createCipheriv=browser$5.Cipheriv=t.createCipheriv,browser$5.createDecipher=browser$5.Decipher=e.createDecipher,browser$5.createDecipheriv=browser$5.Decipheriv=e.createDecipheriv,browser$5.listCiphers=browser$5.getCiphers=a,browser$5}var modes={},hasRequiredModes;function requireModes(){return hasRequiredModes||(hasRequiredModes=1,function(t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}}(modes)),modes}var hasRequiredBrowser$5;function requireBrowser$5(){if(hasRequiredBrowser$5)return browser$6;hasRequiredBrowser$5=1;var t=requireBrowserifyDes(),e=requireBrowser$6(),n=requireModes$1(),a=requireModes(),o=requireEvp_bytestokey();function u(y,b){y=y.toLowerCase();var _,w;if(n[y])_=n[y].key,w=n[y].iv;else if(a[y])_=a[y].key*8,w=a[y].iv;else throw new TypeError("invalid suite type");var E=o(b,!1,_,w);return d(y,E.key,E.iv)}function c(y,b){y=y.toLowerCase();var _,w;if(n[y])_=n[y].key,w=n[y].iv;else if(a[y])_=a[y].key*8,w=a[y].iv;else throw new TypeError("invalid suite type");var E=o(b,!1,_,w);return p(y,E.key,E.iv)}function d(y,b,_){if(y=y.toLowerCase(),n[y])return e.createCipheriv(y,b,_);if(a[y])return new t({key:b,iv:_,mode:y});throw new TypeError("invalid suite type")}function p(y,b,_){if(y=y.toLowerCase(),n[y])return e.createDecipheriv(y,b,_);if(a[y])return new t({key:b,iv:_,mode:y,decrypt:!0});throw new TypeError("invalid suite type")}function v(){return Object.keys(a).concat(e.getCiphers())}return browser$6.createCipher=browser$6.Cipher=u,browser$6.createCipheriv=browser$6.Cipheriv=d,browser$6.createDecipher=browser$6.Decipher=c,browser$6.createDecipheriv=browser$6.Decipheriv=p,browser$6.listCiphers=browser$6.getCiphers=v,browser$6}var browser$4={},bn$1={exports:{}};bn$1.exports;(function(t){(function(e,n){function a(fe,B){if(!fe)throw new Error(B||"Assertion failed")}function o(fe,B){fe.super_=B;var k=function(){};k.prototype=B.prototype,fe.prototype=new k,fe.prototype.constructor=fe}function u(fe,B,k){if(u.isBN(fe))return fe;this.negative=0,this.words=null,this.length=0,this.red=null,fe!==null&&((B==="le"||B==="be")&&(k=B,B=10),this._init(fe||0,B||10,k||"be"))}typeof e=="object"?e.exports=u:n.BN=u,u.BN=u,u.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=buffer$2.Buffer}catch{}u.isBN=function(B){return B instanceof u?!0:B!==null&&typeof B=="object"&&B.constructor.wordSize===u.wordSize&&Array.isArray(B.words)},u.max=function(B,k){return B.cmp(k)>0?B:k},u.min=function(B,k){return B.cmp(k)<0?B:k},u.prototype._init=function(B,k,x){if(typeof B=="number")return this._initNumber(B,k,x);if(typeof B=="object")return this._initArray(B,k,x);k==="hex"&&(k=16),a(k===(k|0)&&k>=2&&k<=36),B=B.toString().replace(/\s+/g,"");var A=0;B[0]==="-"&&(A++,this.negative=1),A<B.length&&(k===16?this._parseHex(B,A,x):(this._parseBase(B,k,A),x==="le"&&this._initArray(this.toArray(),k,x)))},u.prototype._initNumber=function(B,k,x){B<0&&(this.negative=1,B=-B),B<67108864?(this.words=[B&67108863],this.length=1):B<4503599627370496?(this.words=[B&67108863,B/67108864&67108863],this.length=2):(a(B<9007199254740992),this.words=[B&67108863,B/67108864&67108863,1],this.length=3),x==="le"&&this._initArray(this.toArray(),k,x)},u.prototype._initArray=function(B,k,x){if(a(typeof B.length=="number"),B.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(B.length/3),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var D,q,G=0;if(x==="be")for(A=B.length-1,D=0;A>=0;A-=3)q=B[A]|B[A-1]<<8|B[A-2]<<16,this.words[D]|=q<<G&67108863,this.words[D+1]=q>>>26-G&67108863,G+=24,G>=26&&(G-=26,D++);else if(x==="le")for(A=0,D=0;A<B.length;A+=3)q=B[A]|B[A+1]<<8|B[A+2]<<16,this.words[D]|=q<<G&67108863,this.words[D+1]=q>>>26-G&67108863,G+=24,G>=26&&(G-=26,D++);return this.strip()};function d(fe,B){var k=fe.charCodeAt(B);return k>=65&&k<=70?k-55:k>=97&&k<=102?k-87:k-48&15}function p(fe,B,k){var x=d(fe,k);return k-1>=B&&(x|=d(fe,k-1)<<4),x}u.prototype._parseHex=function(B,k,x){this.length=Math.ceil((B.length-k)/6),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var D=0,q=0,G;if(x==="be")for(A=B.length-1;A>=k;A-=2)G=p(B,k,A)<<D,this.words[q]|=G&67108863,D>=18?(D-=18,q+=1,this.words[q]|=G>>>26):D+=8;else{var j=B.length-k;for(A=j%2===0?k+1:k;A<B.length;A+=2)G=p(B,k,A)<<D,this.words[q]|=G&67108863,D>=18?(D-=18,q+=1,this.words[q]|=G>>>26):D+=8}this.strip()};function v(fe,B,k,x){for(var A=0,D=Math.min(fe.length,k),q=B;q<D;q++){var G=fe.charCodeAt(q)-48;A*=x,G>=49?A+=G-49+10:G>=17?A+=G-17+10:A+=G}return A}u.prototype._parseBase=function(B,k,x){this.words=[0],this.length=1;for(var A=0,D=1;D<=67108863;D*=k)A++;A--,D=D/k|0;for(var q=B.length-x,G=q%A,j=Math.min(q,q-G)+x,T=0,F=x;F<j;F+=A)T=v(B,F,F+A,k),this.imuln(D),this.words[0]+T<67108864?this.words[0]+=T:this._iaddn(T);if(G!==0){var M=1;for(T=v(B,F,B.length,k),F=0;F<G;F++)M*=k;this.imuln(M),this.words[0]+T<67108864?this.words[0]+=T:this._iaddn(T)}this.strip()},u.prototype.copy=function(B){B.words=new Array(this.length);for(var k=0;k<this.length;k++)B.words[k]=this.words[k];B.length=this.length,B.negative=this.negative,B.red=this.red},u.prototype.clone=function(){var B=new u(null);return this.copy(B),B},u.prototype._expand=function(B){for(;this.length<B;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(B,k){B=B||10,k=k|0||1;var x;if(B===16||B==="hex"){x="";for(var A=0,D=0,q=0;q<this.length;q++){var G=this.words[q],j=((G<<A|D)&16777215).toString(16);D=G>>>24-A&16777215,D!==0||q!==this.length-1?x=y[6-j.length]+j+x:x=j+x,A+=2,A>=26&&(A-=26,q--)}for(D!==0&&(x=D.toString(16)+x);x.length%k!==0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}if(B===(B|0)&&B>=2&&B<=36){var T=b[B],F=_[B];x="";var M=this.clone();for(M.negative=0;!M.isZero();){var V=M.modn(F).toString(B);M=M.idivn(F),M.isZero()?x=V+x:x=y[T-V.length]+V+x}for(this.isZero()&&(x="0"+x);x.length%k!==0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}a(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var B=this.words[0];return this.length===2?B+=this.words[1]*67108864:this.length===3&&this.words[2]===1?B+=4503599627370496+this.words[1]*67108864:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-B:B},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(B,k){return a(typeof c<"u"),this.toArrayLike(c,B,k)},u.prototype.toArray=function(B,k){return this.toArrayLike(Array,B,k)},u.prototype.toArrayLike=function(B,k,x){var A=this.byteLength(),D=x||Math.max(1,A);a(A<=D,"byte array longer than desired length"),a(D>0,"Requested array length <= 0"),this.strip();var q=k==="le",G=new B(D),j,T,F=this.clone();if(q){for(T=0;!F.isZero();T++)j=F.andln(255),F.iushrn(8),G[T]=j;for(;T<D;T++)G[T]=0}else{for(T=0;T<D-A;T++)G[T]=0;for(T=0;!F.isZero();T++)j=F.andln(255),F.iushrn(8),G[D-T-1]=j}return G},Math.clz32?u.prototype._countBits=function(B){return 32-Math.clz32(B)}:u.prototype._countBits=function(B){var k=B,x=0;return k>=4096&&(x+=13,k>>>=13),k>=64&&(x+=7,k>>>=7),k>=8&&(x+=4,k>>>=4),k>=2&&(x+=2,k>>>=2),x+k},u.prototype._zeroBits=function(B){if(B===0)return 26;var k=B,x=0;return k&8191||(x+=13,k>>>=13),k&127||(x+=7,k>>>=7),k&15||(x+=4,k>>>=4),k&3||(x+=2,k>>>=2),k&1||x++,x},u.prototype.bitLength=function(){var B=this.words[this.length-1],k=this._countBits(B);return(this.length-1)*26+k};function w(fe){for(var B=new Array(fe.bitLength()),k=0;k<B.length;k++){var x=k/26|0,A=k%26;B[k]=(fe.words[x]&1<<A)>>>A}return B}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var B=0,k=0;k<this.length;k++){var x=this._zeroBits(this.words[k]);if(B+=x,x!==26)break}return B},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(B){return this.negative!==0?this.abs().inotn(B).iaddn(1):this.clone()},u.prototype.fromTwos=function(B){return this.testn(B-1)?this.notn(B).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(B){for(;this.length<B.length;)this.words[this.length++]=0;for(var k=0;k<B.length;k++)this.words[k]=this.words[k]|B.words[k];return this.strip()},u.prototype.ior=function(B){return a((this.negative|B.negative)===0),this.iuor(B)},u.prototype.or=function(B){return this.length>B.length?this.clone().ior(B):B.clone().ior(this)},u.prototype.uor=function(B){return this.length>B.length?this.clone().iuor(B):B.clone().iuor(this)},u.prototype.iuand=function(B){var k;this.length>B.length?k=B:k=this;for(var x=0;x<k.length;x++)this.words[x]=this.words[x]&B.words[x];return this.length=k.length,this.strip()},u.prototype.iand=function(B){return a((this.negative|B.negative)===0),this.iuand(B)},u.prototype.and=function(B){return this.length>B.length?this.clone().iand(B):B.clone().iand(this)},u.prototype.uand=function(B){return this.length>B.length?this.clone().iuand(B):B.clone().iuand(this)},u.prototype.iuxor=function(B){var k,x;this.length>B.length?(k=this,x=B):(k=B,x=this);for(var A=0;A<x.length;A++)this.words[A]=k.words[A]^x.words[A];if(this!==k)for(;A<k.length;A++)this.words[A]=k.words[A];return this.length=k.length,this.strip()},u.prototype.ixor=function(B){return a((this.negative|B.negative)===0),this.iuxor(B)},u.prototype.xor=function(B){return this.length>B.length?this.clone().ixor(B):B.clone().ixor(this)},u.prototype.uxor=function(B){return this.length>B.length?this.clone().iuxor(B):B.clone().iuxor(this)},u.prototype.inotn=function(B){a(typeof B=="number"&&B>=0);var k=Math.ceil(B/26)|0,x=B%26;this._expand(k),x>0&&k--;for(var A=0;A<k;A++)this.words[A]=~this.words[A]&67108863;return x>0&&(this.words[A]=~this.words[A]&67108863>>26-x),this.strip()},u.prototype.notn=function(B){return this.clone().inotn(B)},u.prototype.setn=function(B,k){a(typeof B=="number"&&B>=0);var x=B/26|0,A=B%26;return this._expand(x+1),k?this.words[x]=this.words[x]|1<<A:this.words[x]=this.words[x]&~(1<<A),this.strip()},u.prototype.iadd=function(B){var k;if(this.negative!==0&&B.negative===0)return this.negative=0,k=this.isub(B),this.negative^=1,this._normSign();if(this.negative===0&&B.negative!==0)return B.negative=0,k=this.isub(B),B.negative=1,k._normSign();var x,A;this.length>B.length?(x=this,A=B):(x=B,A=this);for(var D=0,q=0;q<A.length;q++)k=(x.words[q]|0)+(A.words[q]|0)+D,this.words[q]=k&67108863,D=k>>>26;for(;D!==0&&q<x.length;q++)k=(x.words[q]|0)+D,this.words[q]=k&67108863,D=k>>>26;if(this.length=x.length,D!==0)this.words[this.length]=D,this.length++;else if(x!==this)for(;q<x.length;q++)this.words[q]=x.words[q];return this},u.prototype.add=function(B){var k;return B.negative!==0&&this.negative===0?(B.negative=0,k=this.sub(B),B.negative^=1,k):B.negative===0&&this.negative!==0?(this.negative=0,k=B.sub(this),this.negative=1,k):this.length>B.length?this.clone().iadd(B):B.clone().iadd(this)},u.prototype.isub=function(B){if(B.negative!==0){B.negative=0;var k=this.iadd(B);return B.negative=1,k._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(B),this.negative=1,this._normSign();var x=this.cmp(B);if(x===0)return this.negative=0,this.length=1,this.words[0]=0,this;var A,D;x>0?(A=this,D=B):(A=B,D=this);for(var q=0,G=0;G<D.length;G++)k=(A.words[G]|0)-(D.words[G]|0)+q,q=k>>26,this.words[G]=k&67108863;for(;q!==0&&G<A.length;G++)k=(A.words[G]|0)+q,q=k>>26,this.words[G]=k&67108863;if(q===0&&G<A.length&&A!==this)for(;G<A.length;G++)this.words[G]=A.words[G];return this.length=Math.max(this.length,G),A!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(B){return this.clone().isub(B)};function E(fe,B,k){k.negative=B.negative^fe.negative;var x=fe.length+B.length|0;k.length=x,x=x-1|0;var A=fe.words[0]|0,D=B.words[0]|0,q=A*D,G=q&67108863,j=q/67108864|0;k.words[0]=G;for(var T=1;T<x;T++){for(var F=j>>>26,M=j&67108863,V=Math.min(T,B.length-1),ge=Math.max(0,T-fe.length+1);ge<=V;ge++){var ke=T-ge|0;A=fe.words[ke]|0,D=B.words[ge]|0,q=A*D+M,F+=q/67108864|0,M=q&67108863}k.words[T]=M|0,j=F|0}return j!==0?k.words[T]=j|0:k.length--,k.strip()}var $=function(B,k,x){var A=B.words,D=k.words,q=x.words,G=0,j,T,F,M=A[0]|0,V=M&8191,ge=M>>>13,ke=A[1]|0,he=ke&8191,be=ke>>>13,Me=A[2]|0,Re=Me&8191,Je=Me>>>13,le=A[3]|0,ue=le&8191,qe=le>>>13,Ge=A[4]|0,ot=Ge&8191,ie=Ge>>>13,L=A[5]|0,N=L&8191,Q=L>>>13,we=A[6]|0,Ie=we&8191,Ke=we>>>13,dt=A[7]|0,me=dt&8191,Te=dt>>>13,Ue=A[8]|0,De=Ue&8191,tt=Ue>>>13,Rt=A[9]|0,at=Rt&8191,bt=Rt>>>13,ct=D[0]|0,ft=ct&8191,_t=ct>>>13,zt=D[1]|0,Ct=zt&8191,rr=zt>>>13,ar=D[2]|0,Lt=ar&8191,Jt=ar>>>13,ur=D[3]|0,Ht=ur&8191,hr=ur>>>13,er=D[4]|0,Ft=er&8191,or=er>>>13,fr=D[5]|0,Kt=fr&8191,dr=fr>>>13,vr=D[6]|0,$t=vr&8191,pr=vr>>>13,U=D[7]|0,Z=U&8191,ee=U>>>13,I=D[8]|0,ne=I&8191,Se=I>>>13,Ae=D[9]|0,Fe=Ae&8191,Ye=Ae>>>13;x.negative=B.negative^k.negative,x.length=19,j=Math.imul(V,ft),T=Math.imul(V,_t),T=T+Math.imul(ge,ft)|0,F=Math.imul(ge,_t);var st=(G+j|0)+((T&8191)<<13)|0;G=(F+(T>>>13)|0)+(st>>>26)|0,st&=67108863,j=Math.imul(he,ft),T=Math.imul(he,_t),T=T+Math.imul(be,ft)|0,F=Math.imul(be,_t),j=j+Math.imul(V,Ct)|0,T=T+Math.imul(V,rr)|0,T=T+Math.imul(ge,Ct)|0,F=F+Math.imul(ge,rr)|0;var nt=(G+j|0)+((T&8191)<<13)|0;G=(F+(T>>>13)|0)+(nt>>>26)|0,nt&=67108863,j=Math.imul(Re,ft),T=Math.imul(Re,_t),T=T+Math.imul(Je,ft)|0,F=Math.imul(Je,_t),j=j+Math.imul(he,Ct)|0,T=T+Math.imul(he,rr)|0,T=T+Math.imul(be,Ct)|0,F=F+Math.imul(be,rr)|0,j=j+Math.imul(V,Lt)|0,T=T+Math.imul(V,Jt)|0,T=T+Math.imul(ge,Lt)|0,F=F+Math.imul(ge,Jt)|0;var Wt=(G+j|0)+((T&8191)<<13)|0;G=(F+(T>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,j=Math.imul(ue,ft),T=Math.imul(ue,_t),T=T+Math.imul(qe,ft)|0,F=Math.imul(qe,_t),j=j+Math.imul(Re,Ct)|0,T=T+Math.imul(Re,rr)|0,T=T+Math.imul(Je,Ct)|0,F=F+Math.imul(Je,rr)|0,j=j+Math.imul(he,Lt)|0,T=T+Math.imul(he,Jt)|0,T=T+Math.imul(be,Lt)|0,F=F+Math.imul(be,Jt)|0,j=j+Math.imul(V,Ht)|0,T=T+Math.imul(V,hr)|0,T=T+Math.imul(ge,Ht)|0,F=F+Math.imul(ge,hr)|0;var pt=(G+j|0)+((T&8191)<<13)|0;G=(F+(T>>>13)|0)+(pt>>>26)|0,pt&=67108863,j=Math.imul(ot,ft),T=Math.imul(ot,_t),T=T+Math.imul(ie,ft)|0,F=Math.imul(ie,_t),j=j+Math.imul(ue,Ct)|0,T=T+Math.imul(ue,rr)|0,T=T+Math.imul(qe,Ct)|0,F=F+Math.imul(qe,rr)|0,j=j+Math.imul(Re,Lt)|0,T=T+Math.imul(Re,Jt)|0,T=T+Math.imul(Je,Lt)|0,F=F+Math.imul(Je,Jt)|0,j=j+Math.imul(he,Ht)|0,T=T+Math.imul(he,hr)|0,T=T+Math.imul(be,Ht)|0,F=F+Math.imul(be,hr)|0,j=j+Math.imul(V,Ft)|0,T=T+Math.imul(V,or)|0,T=T+Math.imul(ge,Ft)|0,F=F+Math.imul(ge,or)|0;var kt=(G+j|0)+((T&8191)<<13)|0;G=(F+(T>>>13)|0)+(kt>>>26)|0,kt&=67108863,j=Math.imul(N,ft),T=Math.imul(N,_t),T=T+Math.imul(Q,ft)|0,F=Math.imul(Q,_t),j=j+Math.imul(ot,Ct)|0,T=T+Math.imul(ot,rr)|0,T=T+Math.imul(ie,Ct)|0,F=F+Math.imul(ie,rr)|0,j=j+Math.imul(ue,Lt)|0,T=T+Math.imul(ue,Jt)|0,T=T+Math.imul(qe,Lt)|0,F=F+Math.imul(qe,Jt)|0,j=j+Math.imul(Re,Ht)|0,T=T+Math.imul(Re,hr)|0,T=T+Math.imul(Je,Ht)|0,F=F+Math.imul(Je,hr)|0,j=j+Math.imul(he,Ft)|0,T=T+Math.imul(he,or)|0,T=T+Math.imul(be,Ft)|0,F=F+Math.imul(be,or)|0,j=j+Math.imul(V,Kt)|0,T=T+Math.imul(V,dr)|0,T=T+Math.imul(ge,Kt)|0,F=F+Math.imul(ge,dr)|0;var Tt=(G+j|0)+((T&8191)<<13)|0;G=(F+(T>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,j=Math.imul(Ie,ft),T=Math.imul(Ie,_t),T=T+Math.imul(Ke,ft)|0,F=Math.imul(Ke,_t),j=j+Math.imul(N,Ct)|0,T=T+Math.imul(N,rr)|0,T=T+Math.imul(Q,Ct)|0,F=F+Math.imul(Q,rr)|0,j=j+Math.imul(ot,Lt)|0,T=T+Math.imul(ot,Jt)|0,T=T+Math.imul(ie,Lt)|0,F=F+Math.imul(ie,Jt)|0,j=j+Math.imul(ue,Ht)|0,T=T+Math.imul(ue,hr)|0,T=T+Math.imul(qe,Ht)|0,F=F+Math.imul(qe,hr)|0,j=j+Math.imul(Re,Ft)|0,T=T+Math.imul(Re,or)|0,T=T+Math.imul(Je,Ft)|0,F=F+Math.imul(Je,or)|0,j=j+Math.imul(he,Kt)|0,T=T+Math.imul(he,dr)|0,T=T+Math.imul(be,Kt)|0,F=F+Math.imul(be,dr)|0,j=j+Math.imul(V,$t)|0,T=T+Math.imul(V,pr)|0,T=T+Math.imul(ge,$t)|0,F=F+Math.imul(ge,pr)|0;var Ot=(G+j|0)+((T&8191)<<13)|0;G=(F+(T>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,j=Math.imul(me,ft),T=Math.imul(me,_t),T=T+Math.imul(Te,ft)|0,F=Math.imul(Te,_t),j=j+Math.imul(Ie,Ct)|0,T=T+Math.imul(Ie,rr)|0,T=T+Math.imul(Ke,Ct)|0,F=F+Math.imul(Ke,rr)|0,j=j+Math.imul(N,Lt)|0,T=T+Math.imul(N,Jt)|0,T=T+Math.imul(Q,Lt)|0,F=F+Math.imul(Q,Jt)|0,j=j+Math.imul(ot,Ht)|0,T=T+Math.imul(ot,hr)|0,T=T+Math.imul(ie,Ht)|0,F=F+Math.imul(ie,hr)|0,j=j+Math.imul(ue,Ft)|0,T=T+Math.imul(ue,or)|0,T=T+Math.imul(qe,Ft)|0,F=F+Math.imul(qe,or)|0,j=j+Math.imul(Re,Kt)|0,T=T+Math.imul(Re,dr)|0,T=T+Math.imul(Je,Kt)|0,F=F+Math.imul(Je,dr)|0,j=j+Math.imul(he,$t)|0,T=T+Math.imul(he,pr)|0,T=T+Math.imul(be,$t)|0,F=F+Math.imul(be,pr)|0,j=j+Math.imul(V,Z)|0,T=T+Math.imul(V,ee)|0,T=T+Math.imul(ge,Z)|0,F=F+Math.imul(ge,ee)|0;var It=(G+j|0)+((T&8191)<<13)|0;G=(F+(T>>>13)|0)+(It>>>26)|0,It&=67108863,j=Math.imul(De,ft),T=Math.imul(De,_t),T=T+Math.imul(tt,ft)|0,F=Math.imul(tt,_t),j=j+Math.imul(me,Ct)|0,T=T+Math.imul(me,rr)|0,T=T+Math.imul(Te,Ct)|0,F=F+Math.imul(Te,rr)|0,j=j+Math.imul(Ie,Lt)|0,T=T+Math.imul(Ie,Jt)|0,T=T+Math.imul(Ke,Lt)|0,F=F+Math.imul(Ke,Jt)|0,j=j+Math.imul(N,Ht)|0,T=T+Math.imul(N,hr)|0,T=T+Math.imul(Q,Ht)|0,F=F+Math.imul(Q,hr)|0,j=j+Math.imul(ot,Ft)|0,T=T+Math.imul(ot,or)|0,T=T+Math.imul(ie,Ft)|0,F=F+Math.imul(ie,or)|0,j=j+Math.imul(ue,Kt)|0,T=T+Math.imul(ue,dr)|0,T=T+Math.imul(qe,Kt)|0,F=F+Math.imul(qe,dr)|0,j=j+Math.imul(Re,$t)|0,T=T+Math.imul(Re,pr)|0,T=T+Math.imul(Je,$t)|0,F=F+Math.imul(Je,pr)|0,j=j+Math.imul(he,Z)|0,T=T+Math.imul(he,ee)|0,T=T+Math.imul(be,Z)|0,F=F+Math.imul(be,ee)|0,j=j+Math.imul(V,ne)|0,T=T+Math.imul(V,Se)|0,T=T+Math.imul(ge,ne)|0,F=F+Math.imul(ge,Se)|0;var Mt=(G+j|0)+((T&8191)<<13)|0;G=(F+(T>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,j=Math.imul(at,ft),T=Math.imul(at,_t),T=T+Math.imul(bt,ft)|0,F=Math.imul(bt,_t),j=j+Math.imul(De,Ct)|0,T=T+Math.imul(De,rr)|0,T=T+Math.imul(tt,Ct)|0,F=F+Math.imul(tt,rr)|0,j=j+Math.imul(me,Lt)|0,T=T+Math.imul(me,Jt)|0,T=T+Math.imul(Te,Lt)|0,F=F+Math.imul(Te,Jt)|0,j=j+Math.imul(Ie,Ht)|0,T=T+Math.imul(Ie,hr)|0,T=T+Math.imul(Ke,Ht)|0,F=F+Math.imul(Ke,hr)|0,j=j+Math.imul(N,Ft)|0,T=T+Math.imul(N,or)|0,T=T+Math.imul(Q,Ft)|0,F=F+Math.imul(Q,or)|0,j=j+Math.imul(ot,Kt)|0,T=T+Math.imul(ot,dr)|0,T=T+Math.imul(ie,Kt)|0,F=F+Math.imul(ie,dr)|0,j=j+Math.imul(ue,$t)|0,T=T+Math.imul(ue,pr)|0,T=T+Math.imul(qe,$t)|0,F=F+Math.imul(qe,pr)|0,j=j+Math.imul(Re,Z)|0,T=T+Math.imul(Re,ee)|0,T=T+Math.imul(Je,Z)|0,F=F+Math.imul(Je,ee)|0,j=j+Math.imul(he,ne)|0,T=T+Math.imul(he,Se)|0,T=T+Math.imul(be,ne)|0,F=F+Math.imul(be,Se)|0,j=j+Math.imul(V,Fe)|0,T=T+Math.imul(V,Ye)|0,T=T+Math.imul(ge,Fe)|0,F=F+Math.imul(ge,Ye)|0;var St=(G+j|0)+((T&8191)<<13)|0;G=(F+(T>>>13)|0)+(St>>>26)|0,St&=67108863,j=Math.imul(at,Ct),T=Math.imul(at,rr),T=T+Math.imul(bt,Ct)|0,F=Math.imul(bt,rr),j=j+Math.imul(De,Lt)|0,T=T+Math.imul(De,Jt)|0,T=T+Math.imul(tt,Lt)|0,F=F+Math.imul(tt,Jt)|0,j=j+Math.imul(me,Ht)|0,T=T+Math.imul(me,hr)|0,T=T+Math.imul(Te,Ht)|0,F=F+Math.imul(Te,hr)|0,j=j+Math.imul(Ie,Ft)|0,T=T+Math.imul(Ie,or)|0,T=T+Math.imul(Ke,Ft)|0,F=F+Math.imul(Ke,or)|0,j=j+Math.imul(N,Kt)|0,T=T+Math.imul(N,dr)|0,T=T+Math.imul(Q,Kt)|0,F=F+Math.imul(Q,dr)|0,j=j+Math.imul(ot,$t)|0,T=T+Math.imul(ot,pr)|0,T=T+Math.imul(ie,$t)|0,F=F+Math.imul(ie,pr)|0,j=j+Math.imul(ue,Z)|0,T=T+Math.imul(ue,ee)|0,T=T+Math.imul(qe,Z)|0,F=F+Math.imul(qe,ee)|0,j=j+Math.imul(Re,ne)|0,T=T+Math.imul(Re,Se)|0,T=T+Math.imul(Je,ne)|0,F=F+Math.imul(Je,Se)|0,j=j+Math.imul(he,Fe)|0,T=T+Math.imul(he,Ye)|0,T=T+Math.imul(be,Fe)|0,F=F+Math.imul(be,Ye)|0;var Bt=(G+j|0)+((T&8191)<<13)|0;G=(F+(T>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,j=Math.imul(at,Lt),T=Math.imul(at,Jt),T=T+Math.imul(bt,Lt)|0,F=Math.imul(bt,Jt),j=j+Math.imul(De,Ht)|0,T=T+Math.imul(De,hr)|0,T=T+Math.imul(tt,Ht)|0,F=F+Math.imul(tt,hr)|0,j=j+Math.imul(me,Ft)|0,T=T+Math.imul(me,or)|0,T=T+Math.imul(Te,Ft)|0,F=F+Math.imul(Te,or)|0,j=j+Math.imul(Ie,Kt)|0,T=T+Math.imul(Ie,dr)|0,T=T+Math.imul(Ke,Kt)|0,F=F+Math.imul(Ke,dr)|0,j=j+Math.imul(N,$t)|0,T=T+Math.imul(N,pr)|0,T=T+Math.imul(Q,$t)|0,F=F+Math.imul(Q,pr)|0,j=j+Math.imul(ot,Z)|0,T=T+Math.imul(ot,ee)|0,T=T+Math.imul(ie,Z)|0,F=F+Math.imul(ie,ee)|0,j=j+Math.imul(ue,ne)|0,T=T+Math.imul(ue,Se)|0,T=T+Math.imul(qe,ne)|0,F=F+Math.imul(qe,Se)|0,j=j+Math.imul(Re,Fe)|0,T=T+Math.imul(Re,Ye)|0,T=T+Math.imul(Je,Fe)|0,F=F+Math.imul(Je,Ye)|0;var ht=(G+j|0)+((T&8191)<<13)|0;G=(F+(T>>>13)|0)+(ht>>>26)|0,ht&=67108863,j=Math.imul(at,Ht),T=Math.imul(at,hr),T=T+Math.imul(bt,Ht)|0,F=Math.imul(bt,hr),j=j+Math.imul(De,Ft)|0,T=T+Math.imul(De,or)|0,T=T+Math.imul(tt,Ft)|0,F=F+Math.imul(tt,or)|0,j=j+Math.imul(me,Kt)|0,T=T+Math.imul(me,dr)|0,T=T+Math.imul(Te,Kt)|0,F=F+Math.imul(Te,dr)|0,j=j+Math.imul(Ie,$t)|0,T=T+Math.imul(Ie,pr)|0,T=T+Math.imul(Ke,$t)|0,F=F+Math.imul(Ke,pr)|0,j=j+Math.imul(N,Z)|0,T=T+Math.imul(N,ee)|0,T=T+Math.imul(Q,Z)|0,F=F+Math.imul(Q,ee)|0,j=j+Math.imul(ot,ne)|0,T=T+Math.imul(ot,Se)|0,T=T+Math.imul(ie,ne)|0,F=F+Math.imul(ie,Se)|0,j=j+Math.imul(ue,Fe)|0,T=T+Math.imul(ue,Ye)|0,T=T+Math.imul(qe,Fe)|0,F=F+Math.imul(qe,Ye)|0;var wt=(G+j|0)+((T&8191)<<13)|0;G=(F+(T>>>13)|0)+(wt>>>26)|0,wt&=67108863,j=Math.imul(at,Ft),T=Math.imul(at,or),T=T+Math.imul(bt,Ft)|0,F=Math.imul(bt,or),j=j+Math.imul(De,Kt)|0,T=T+Math.imul(De,dr)|0,T=T+Math.imul(tt,Kt)|0,F=F+Math.imul(tt,dr)|0,j=j+Math.imul(me,$t)|0,T=T+Math.imul(me,pr)|0,T=T+Math.imul(Te,$t)|0,F=F+Math.imul(Te,pr)|0,j=j+Math.imul(Ie,Z)|0,T=T+Math.imul(Ie,ee)|0,T=T+Math.imul(Ke,Z)|0,F=F+Math.imul(Ke,ee)|0,j=j+Math.imul(N,ne)|0,T=T+Math.imul(N,Se)|0,T=T+Math.imul(Q,ne)|0,F=F+Math.imul(Q,Se)|0,j=j+Math.imul(ot,Fe)|0,T=T+Math.imul(ot,Ye)|0,T=T+Math.imul(ie,Fe)|0,F=F+Math.imul(ie,Ye)|0;var ut=(G+j|0)+((T&8191)<<13)|0;G=(F+(T>>>13)|0)+(ut>>>26)|0,ut&=67108863,j=Math.imul(at,Kt),T=Math.imul(at,dr),T=T+Math.imul(bt,Kt)|0,F=Math.imul(bt,dr),j=j+Math.imul(De,$t)|0,T=T+Math.imul(De,pr)|0,T=T+Math.imul(tt,$t)|0,F=F+Math.imul(tt,pr)|0,j=j+Math.imul(me,Z)|0,T=T+Math.imul(me,ee)|0,T=T+Math.imul(Te,Z)|0,F=F+Math.imul(Te,ee)|0,j=j+Math.imul(Ie,ne)|0,T=T+Math.imul(Ie,Se)|0,T=T+Math.imul(Ke,ne)|0,F=F+Math.imul(Ke,Se)|0,j=j+Math.imul(N,Fe)|0,T=T+Math.imul(N,Ye)|0,T=T+Math.imul(Q,Fe)|0,F=F+Math.imul(Q,Ye)|0;var yt=(G+j|0)+((T&8191)<<13)|0;G=(F+(T>>>13)|0)+(yt>>>26)|0,yt&=67108863,j=Math.imul(at,$t),T=Math.imul(at,pr),T=T+Math.imul(bt,$t)|0,F=Math.imul(bt,pr),j=j+Math.imul(De,Z)|0,T=T+Math.imul(De,ee)|0,T=T+Math.imul(tt,Z)|0,F=F+Math.imul(tt,ee)|0,j=j+Math.imul(me,ne)|0,T=T+Math.imul(me,Se)|0,T=T+Math.imul(Te,ne)|0,F=F+Math.imul(Te,Se)|0,j=j+Math.imul(Ie,Fe)|0,T=T+Math.imul(Ie,Ye)|0,T=T+Math.imul(Ke,Fe)|0,F=F+Math.imul(Ke,Ye)|0;var mt=(G+j|0)+((T&8191)<<13)|0;G=(F+(T>>>13)|0)+(mt>>>26)|0,mt&=67108863,j=Math.imul(at,Z),T=Math.imul(at,ee),T=T+Math.imul(bt,Z)|0,F=Math.imul(bt,ee),j=j+Math.imul(De,ne)|0,T=T+Math.imul(De,Se)|0,T=T+Math.imul(tt,ne)|0,F=F+Math.imul(tt,Se)|0,j=j+Math.imul(me,Fe)|0,T=T+Math.imul(me,Ye)|0,T=T+Math.imul(Te,Fe)|0,F=F+Math.imul(Te,Ye)|0;var lt=(G+j|0)+((T&8191)<<13)|0;G=(F+(T>>>13)|0)+(lt>>>26)|0,lt&=67108863,j=Math.imul(at,ne),T=Math.imul(at,Se),T=T+Math.imul(bt,ne)|0,F=Math.imul(bt,Se),j=j+Math.imul(De,Fe)|0,T=T+Math.imul(De,Ye)|0,T=T+Math.imul(tt,Fe)|0,F=F+Math.imul(tt,Ye)|0;var Le=(G+j|0)+((T&8191)<<13)|0;G=(F+(T>>>13)|0)+(Le>>>26)|0,Le&=67108863,j=Math.imul(at,Fe),T=Math.imul(at,Ye),T=T+Math.imul(bt,Fe)|0,F=Math.imul(bt,Ye);var Ne=(G+j|0)+((T&8191)<<13)|0;return G=(F+(T>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,q[0]=st,q[1]=nt,q[2]=Wt,q[3]=pt,q[4]=kt,q[5]=Tt,q[6]=Ot,q[7]=It,q[8]=Mt,q[9]=St,q[10]=Bt,q[11]=ht,q[12]=wt,q[13]=ut,q[14]=yt,q[15]=mt,q[16]=lt,q[17]=Le,q[18]=Ne,G!==0&&(q[19]=G,x.length++),x};Math.imul||($=E);function C(fe,B,k){k.negative=B.negative^fe.negative,k.length=fe.length+B.length;for(var x=0,A=0,D=0;D<k.length-1;D++){var q=A;A=0;for(var G=x&67108863,j=Math.min(D,B.length-1),T=Math.max(0,D-fe.length+1);T<=j;T++){var F=D-T,M=fe.words[F]|0,V=B.words[T]|0,ge=M*V,ke=ge&67108863;q=q+(ge/67108864|0)|0,ke=ke+G|0,G=ke&67108863,q=q+(ke>>>26)|0,A+=q>>>26,q&=67108863}k.words[D]=G,x=q,q=A}return x!==0?k.words[D]=x:k.length--,k.strip()}function P(fe,B,k){var x=new z;return x.mulp(fe,B,k)}u.prototype.mulTo=function(B,k){var x,A=this.length+B.length;return this.length===10&&B.length===10?x=$(this,B,k):A<63?x=E(this,B,k):A<1024?x=C(this,B,k):x=P(this,B,k),x};function z(fe,B){this.x=fe,this.y=B}z.prototype.makeRBT=function(B){for(var k=new Array(B),x=u.prototype._countBits(B)-1,A=0;A<B;A++)k[A]=this.revBin(A,x,B);return k},z.prototype.revBin=function(B,k,x){if(B===0||B===x-1)return B;for(var A=0,D=0;D<k;D++)A|=(B&1)<<k-D-1,B>>=1;return A},z.prototype.permute=function(B,k,x,A,D,q){for(var G=0;G<q;G++)A[G]=k[B[G]],D[G]=x[B[G]]},z.prototype.transform=function(B,k,x,A,D,q){this.permute(q,B,k,x,A,D);for(var G=1;G<D;G<<=1)for(var j=G<<1,T=Math.cos(2*Math.PI/j),F=Math.sin(2*Math.PI/j),M=0;M<D;M+=j)for(var V=T,ge=F,ke=0;ke<G;ke++){var he=x[M+ke],be=A[M+ke],Me=x[M+ke+G],Re=A[M+ke+G],Je=V*Me-ge*Re;Re=V*Re+ge*Me,Me=Je,x[M+ke]=he+Me,A[M+ke]=be+Re,x[M+ke+G]=he-Me,A[M+ke+G]=be-Re,ke!==j&&(Je=T*V-F*ge,ge=T*ge+F*V,V=Je)}},z.prototype.guessLen13b=function(B,k){var x=Math.max(k,B)|1,A=x&1,D=0;for(x=x/2|0;x;x=x>>>1)D++;return 1<<D+1+A},z.prototype.conjugate=function(B,k,x){if(!(x<=1))for(var A=0;A<x/2;A++){var D=B[A];B[A]=B[x-A-1],B[x-A-1]=D,D=k[A],k[A]=-k[x-A-1],k[x-A-1]=-D}},z.prototype.normalize13b=function(B,k){for(var x=0,A=0;A<k/2;A++){var D=Math.round(B[2*A+1]/k)*8192+Math.round(B[2*A]/k)+x;B[A]=D&67108863,D<67108864?x=0:x=D/67108864|0}return B},z.prototype.convert13b=function(B,k,x,A){for(var D=0,q=0;q<k;q++)D=D+(B[q]|0),x[2*q]=D&8191,D=D>>>13,x[2*q+1]=D&8191,D=D>>>13;for(q=2*k;q<A;++q)x[q]=0;a(D===0),a((D&-8192)===0)},z.prototype.stub=function(B){for(var k=new Array(B),x=0;x<B;x++)k[x]=0;return k},z.prototype.mulp=function(B,k,x){var A=2*this.guessLen13b(B.length,k.length),D=this.makeRBT(A),q=this.stub(A),G=new Array(A),j=new Array(A),T=new Array(A),F=new Array(A),M=new Array(A),V=new Array(A),ge=x.words;ge.length=A,this.convert13b(B.words,B.length,G,A),this.convert13b(k.words,k.length,F,A),this.transform(G,q,j,T,A,D),this.transform(F,q,M,V,A,D);for(var ke=0;ke<A;ke++){var he=j[ke]*M[ke]-T[ke]*V[ke];T[ke]=j[ke]*V[ke]+T[ke]*M[ke],j[ke]=he}return this.conjugate(j,T,A),this.transform(j,T,ge,q,A,D),this.conjugate(ge,q,A),this.normalize13b(ge,A),x.negative=B.negative^k.negative,x.length=B.length+k.length,x.strip()},u.prototype.mul=function(B){var k=new u(null);return k.words=new Array(this.length+B.length),this.mulTo(B,k)},u.prototype.mulf=function(B){var k=new u(null);return k.words=new Array(this.length+B.length),P(this,B,k)},u.prototype.imul=function(B){return this.clone().mulTo(B,this)},u.prototype.imuln=function(B){a(typeof B=="number"),a(B<67108864);for(var k=0,x=0;x<this.length;x++){var A=(this.words[x]|0)*B,D=(A&67108863)+(k&67108863);k>>=26,k+=A/67108864|0,k+=D>>>26,this.words[x]=D&67108863}return k!==0&&(this.words[x]=k,this.length++),this},u.prototype.muln=function(B){return this.clone().imuln(B)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(B){var k=w(B);if(k.length===0)return new u(1);for(var x=this,A=0;A<k.length&&k[A]===0;A++,x=x.sqr());if(++A<k.length)for(var D=x.sqr();A<k.length;A++,D=D.sqr())k[A]!==0&&(x=x.mul(D));return x},u.prototype.iushln=function(B){a(typeof B=="number"&&B>=0);var k=B%26,x=(B-k)/26,A=67108863>>>26-k<<26-k,D;if(k!==0){var q=0;for(D=0;D<this.length;D++){var G=this.words[D]&A,j=(this.words[D]|0)-G<<k;this.words[D]=j|q,q=G>>>26-k}q&&(this.words[D]=q,this.length++)}if(x!==0){for(D=this.length-1;D>=0;D--)this.words[D+x]=this.words[D];for(D=0;D<x;D++)this.words[D]=0;this.length+=x}return this.strip()},u.prototype.ishln=function(B){return a(this.negative===0),this.iushln(B)},u.prototype.iushrn=function(B,k,x){a(typeof B=="number"&&B>=0);var A;k?A=(k-k%26)/26:A=0;var D=B%26,q=Math.min((B-D)/26,this.length),G=67108863^67108863>>>D<<D,j=x;if(A-=q,A=Math.max(0,A),j){for(var T=0;T<q;T++)j.words[T]=this.words[T];j.length=q}if(q!==0)if(this.length>q)for(this.length-=q,T=0;T<this.length;T++)this.words[T]=this.words[T+q];else this.words[0]=0,this.length=1;var F=0;for(T=this.length-1;T>=0&&(F!==0||T>=A);T--){var M=this.words[T]|0;this.words[T]=F<<26-D|M>>>D,F=M&G}return j&&F!==0&&(j.words[j.length++]=F),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(B,k,x){return a(this.negative===0),this.iushrn(B,k,x)},u.prototype.shln=function(B){return this.clone().ishln(B)},u.prototype.ushln=function(B){return this.clone().iushln(B)},u.prototype.shrn=function(B){return this.clone().ishrn(B)},u.prototype.ushrn=function(B){return this.clone().iushrn(B)},u.prototype.testn=function(B){a(typeof B=="number"&&B>=0);var k=B%26,x=(B-k)/26,A=1<<k;if(this.length<=x)return!1;var D=this.words[x];return!!(D&A)},u.prototype.imaskn=function(B){a(typeof B=="number"&&B>=0);var k=B%26,x=(B-k)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=x)return this;if(k!==0&&x++,this.length=Math.min(x,this.length),k!==0){var A=67108863^67108863>>>k<<k;this.words[this.length-1]&=A}return this.strip()},u.prototype.maskn=function(B){return this.clone().imaskn(B)},u.prototype.iaddn=function(B){return a(typeof B=="number"),a(B<67108864),B<0?this.isubn(-B):this.negative!==0?this.length===1&&(this.words[0]|0)<B?(this.words[0]=B-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(B),this.negative=1,this):this._iaddn(B)},u.prototype._iaddn=function(B){this.words[0]+=B;for(var k=0;k<this.length&&this.words[k]>=67108864;k++)this.words[k]-=67108864,k===this.length-1?this.words[k+1]=1:this.words[k+1]++;return this.length=Math.max(this.length,k+1),this},u.prototype.isubn=function(B){if(a(typeof B=="number"),a(B<67108864),B<0)return this.iaddn(-B);if(this.negative!==0)return this.negative=0,this.iaddn(B),this.negative=1,this;if(this.words[0]-=B,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var k=0;k<this.length&&this.words[k]<0;k++)this.words[k]+=67108864,this.words[k+1]-=1;return this.strip()},u.prototype.addn=function(B){return this.clone().iaddn(B)},u.prototype.subn=function(B){return this.clone().isubn(B)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(B,k,x){var A=B.length+x,D;this._expand(A);var q,G=0;for(D=0;D<B.length;D++){q=(this.words[D+x]|0)+G;var j=(B.words[D]|0)*k;q-=j&67108863,G=(q>>26)-(j/67108864|0),this.words[D+x]=q&67108863}for(;D<this.length-x;D++)q=(this.words[D+x]|0)+G,G=q>>26,this.words[D+x]=q&67108863;if(G===0)return this.strip();for(a(G===-1),G=0,D=0;D<this.length;D++)q=-(this.words[D]|0)+G,G=q>>26,this.words[D]=q&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(B,k){var x=this.length-B.length,A=this.clone(),D=B,q=D.words[D.length-1]|0,G=this._countBits(q);x=26-G,x!==0&&(D=D.ushln(x),A.iushln(x),q=D.words[D.length-1]|0);var j=A.length-D.length,T;if(k!=="mod"){T=new u(null),T.length=j+1,T.words=new Array(T.length);for(var F=0;F<T.length;F++)T.words[F]=0}var M=A.clone()._ishlnsubmul(D,1,j);M.negative===0&&(A=M,T&&(T.words[j]=1));for(var V=j-1;V>=0;V--){var ge=(A.words[D.length+V]|0)*67108864+(A.words[D.length+V-1]|0);for(ge=Math.min(ge/q|0,67108863),A._ishlnsubmul(D,ge,V);A.negative!==0;)ge--,A.negative=0,A._ishlnsubmul(D,1,V),A.isZero()||(A.negative^=1);T&&(T.words[V]=ge)}return T&&T.strip(),A.strip(),k!=="div"&&x!==0&&A.iushrn(x),{div:T||null,mod:A}},u.prototype.divmod=function(B,k,x){if(a(!B.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var A,D,q;return this.negative!==0&&B.negative===0?(q=this.neg().divmod(B,k),k!=="mod"&&(A=q.div.neg()),k!=="div"&&(D=q.mod.neg(),x&&D.negative!==0&&D.iadd(B)),{div:A,mod:D}):this.negative===0&&B.negative!==0?(q=this.divmod(B.neg(),k),k!=="mod"&&(A=q.div.neg()),{div:A,mod:q.mod}):this.negative&B.negative?(q=this.neg().divmod(B.neg(),k),k!=="div"&&(D=q.mod.neg(),x&&D.negative!==0&&D.isub(B)),{div:q.div,mod:D}):B.length>this.length||this.cmp(B)<0?{div:new u(0),mod:this}:B.length===1?k==="div"?{div:this.divn(B.words[0]),mod:null}:k==="mod"?{div:null,mod:new u(this.modn(B.words[0]))}:{div:this.divn(B.words[0]),mod:new u(this.modn(B.words[0]))}:this._wordDiv(B,k)},u.prototype.div=function(B){return this.divmod(B,"div",!1).div},u.prototype.mod=function(B){return this.divmod(B,"mod",!1).mod},u.prototype.umod=function(B){return this.divmod(B,"mod",!0).mod},u.prototype.divRound=function(B){var k=this.divmod(B);if(k.mod.isZero())return k.div;var x=k.div.negative!==0?k.mod.isub(B):k.mod,A=B.ushrn(1),D=B.andln(1),q=x.cmp(A);return q<0||D===1&&q===0?k.div:k.div.negative!==0?k.div.isubn(1):k.div.iaddn(1)},u.prototype.modn=function(B){a(B<=67108863);for(var k=(1<<26)%B,x=0,A=this.length-1;A>=0;A--)x=(k*x+(this.words[A]|0))%B;return x},u.prototype.idivn=function(B){a(B<=67108863);for(var k=0,x=this.length-1;x>=0;x--){var A=(this.words[x]|0)+k*67108864;this.words[x]=A/B|0,k=A%B}return this.strip()},u.prototype.divn=function(B){return this.clone().idivn(B)},u.prototype.egcd=function(B){a(B.negative===0),a(!B.isZero());var k=this,x=B.clone();k.negative!==0?k=k.umod(B):k=k.clone();for(var A=new u(1),D=new u(0),q=new u(0),G=new u(1),j=0;k.isEven()&&x.isEven();)k.iushrn(1),x.iushrn(1),++j;for(var T=x.clone(),F=k.clone();!k.isZero();){for(var M=0,V=1;!(k.words[0]&V)&&M<26;++M,V<<=1);if(M>0)for(k.iushrn(M);M-- >0;)(A.isOdd()||D.isOdd())&&(A.iadd(T),D.isub(F)),A.iushrn(1),D.iushrn(1);for(var ge=0,ke=1;!(x.words[0]&ke)&&ge<26;++ge,ke<<=1);if(ge>0)for(x.iushrn(ge);ge-- >0;)(q.isOdd()||G.isOdd())&&(q.iadd(T),G.isub(F)),q.iushrn(1),G.iushrn(1);k.cmp(x)>=0?(k.isub(x),A.isub(q),D.isub(G)):(x.isub(k),q.isub(A),G.isub(D))}return{a:q,b:G,gcd:x.iushln(j)}},u.prototype._invmp=function(B){a(B.negative===0),a(!B.isZero());var k=this,x=B.clone();k.negative!==0?k=k.umod(B):k=k.clone();for(var A=new u(1),D=new u(0),q=x.clone();k.cmpn(1)>0&&x.cmpn(1)>0;){for(var G=0,j=1;!(k.words[0]&j)&&G<26;++G,j<<=1);if(G>0)for(k.iushrn(G);G-- >0;)A.isOdd()&&A.iadd(q),A.iushrn(1);for(var T=0,F=1;!(x.words[0]&F)&&T<26;++T,F<<=1);if(T>0)for(x.iushrn(T);T-- >0;)D.isOdd()&&D.iadd(q),D.iushrn(1);k.cmp(x)>=0?(k.isub(x),A.isub(D)):(x.isub(k),D.isub(A))}var M;return k.cmpn(1)===0?M=A:M=D,M.cmpn(0)<0&&M.iadd(B),M},u.prototype.gcd=function(B){if(this.isZero())return B.abs();if(B.isZero())return this.abs();var k=this.clone(),x=B.clone();k.negative=0,x.negative=0;for(var A=0;k.isEven()&&x.isEven();A++)k.iushrn(1),x.iushrn(1);do{for(;k.isEven();)k.iushrn(1);for(;x.isEven();)x.iushrn(1);var D=k.cmp(x);if(D<0){var q=k;k=x,x=q}else if(D===0||x.cmpn(1)===0)break;k.isub(x)}while(!0);return x.iushln(A)},u.prototype.invm=function(B){return this.egcd(B).a.umod(B)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(B){return this.words[0]&B},u.prototype.bincn=function(B){a(typeof B=="number");var k=B%26,x=(B-k)/26,A=1<<k;if(this.length<=x)return this._expand(x+1),this.words[x]|=A,this;for(var D=A,q=x;D!==0&&q<this.length;q++){var G=this.words[q]|0;G+=D,D=G>>>26,G&=67108863,this.words[q]=G}return D!==0&&(this.words[q]=D,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(B){var k=B<0;if(this.negative!==0&&!k)return-1;if(this.negative===0&&k)return 1;this.strip();var x;if(this.length>1)x=1;else{k&&(B=-B),a(B<=67108863,"Number is too big");var A=this.words[0]|0;x=A===B?0:A<B?-1:1}return this.negative!==0?-x|0:x},u.prototype.cmp=function(B){if(this.negative!==0&&B.negative===0)return-1;if(this.negative===0&&B.negative!==0)return 1;var k=this.ucmp(B);return this.negative!==0?-k|0:k},u.prototype.ucmp=function(B){if(this.length>B.length)return 1;if(this.length<B.length)return-1;for(var k=0,x=this.length-1;x>=0;x--){var A=this.words[x]|0,D=B.words[x]|0;if(A!==D){A<D?k=-1:A>D&&(k=1);break}}return k},u.prototype.gtn=function(B){return this.cmpn(B)===1},u.prototype.gt=function(B){return this.cmp(B)===1},u.prototype.gten=function(B){return this.cmpn(B)>=0},u.prototype.gte=function(B){return this.cmp(B)>=0},u.prototype.ltn=function(B){return this.cmpn(B)===-1},u.prototype.lt=function(B){return this.cmp(B)===-1},u.prototype.lten=function(B){return this.cmpn(B)<=0},u.prototype.lte=function(B){return this.cmp(B)<=0},u.prototype.eqn=function(B){return this.cmpn(B)===0},u.prototype.eq=function(B){return this.cmp(B)===0},u.red=function(B){return new Pe(B)},u.prototype.toRed=function(B){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),B.convertTo(this)._forceRed(B)},u.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(B){return this.red=B,this},u.prototype.forceRed=function(B){return a(!this.red,"Already a number in reduction context"),this._forceRed(B)},u.prototype.redAdd=function(B){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,B)},u.prototype.redIAdd=function(B){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,B)},u.prototype.redSub=function(B){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,B)},u.prototype.redISub=function(B){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,B)},u.prototype.redShl=function(B){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,B)},u.prototype.redMul=function(B){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,B),this.red.mul(this,B)},u.prototype.redIMul=function(B){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,B),this.red.imul(this,B)},u.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(B){return a(this.red&&!B.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,B)};var J={k256:null,p224:null,p192:null,p25519:null};function X(fe,B){this.name=fe,this.p=new u(B,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}X.prototype._tmp=function(){var B=new u(null);return B.words=new Array(Math.ceil(this.n/13)),B},X.prototype.ireduce=function(B){var k=B,x;do this.split(k,this.tmp),k=this.imulK(k),k=k.iadd(this.tmp),x=k.bitLength();while(x>this.n);var A=x<this.n?-1:k.ucmp(this.p);return A===0?(k.words[0]=0,k.length=1):A>0?k.isub(this.p):k.strip!==void 0?k.strip():k._strip(),k},X.prototype.split=function(B,k){B.iushrn(this.n,0,k)},X.prototype.imulK=function(B){return B.imul(this.k)};function re(){X.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(re,X),re.prototype.split=function(B,k){for(var x=4194303,A=Math.min(B.length,9),D=0;D<A;D++)k.words[D]=B.words[D];if(k.length=A,B.length<=9){B.words[0]=0,B.length=1;return}var q=B.words[9];for(k.words[k.length++]=q&x,D=10;D<B.length;D++){var G=B.words[D]|0;B.words[D-10]=(G&x)<<4|q>>>22,q=G}q>>>=22,B.words[D-10]=q,q===0&&B.length>10?B.length-=10:B.length-=9},re.prototype.imulK=function(B){B.words[B.length]=0,B.words[B.length+1]=0,B.length+=2;for(var k=0,x=0;x<B.length;x++){var A=B.words[x]|0;k+=A*977,B.words[x]=k&67108863,k=A*64+(k/67108864|0)}return B.words[B.length-1]===0&&(B.length--,B.words[B.length-1]===0&&B.length--),B};function de(){X.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(de,X);function xe(){X.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(xe,X);function $e(){X.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o($e,X),$e.prototype.imulK=function(B){for(var k=0,x=0;x<B.length;x++){var A=(B.words[x]|0)*19+k,D=A&67108863;A>>>=26,B.words[x]=D,k=A}return k!==0&&(B.words[B.length++]=k),B},u._prime=function(B){if(J[B])return J[B];var k;if(B==="k256")k=new re;else if(B==="p224")k=new de;else if(B==="p192")k=new xe;else if(B==="p25519")k=new $e;else throw new Error("Unknown prime "+B);return J[B]=k,k};function Pe(fe){if(typeof fe=="string"){var B=u._prime(fe);this.m=B.p,this.prime=B}else a(fe.gtn(1),"modulus must be greater than 1"),this.m=fe,this.prime=null}Pe.prototype._verify1=function(B){a(B.negative===0,"red works only with positives"),a(B.red,"red works only with red numbers")},Pe.prototype._verify2=function(B,k){a((B.negative|k.negative)===0,"red works only with positives"),a(B.red&&B.red===k.red,"red works only with red numbers")},Pe.prototype.imod=function(B){return this.prime?this.prime.ireduce(B)._forceRed(this):B.umod(this.m)._forceRed(this)},Pe.prototype.neg=function(B){return B.isZero()?B.clone():this.m.sub(B)._forceRed(this)},Pe.prototype.add=function(B,k){this._verify2(B,k);var x=B.add(k);return x.cmp(this.m)>=0&&x.isub(this.m),x._forceRed(this)},Pe.prototype.iadd=function(B,k){this._verify2(B,k);var x=B.iadd(k);return x.cmp(this.m)>=0&&x.isub(this.m),x},Pe.prototype.sub=function(B,k){this._verify2(B,k);var x=B.sub(k);return x.cmpn(0)<0&&x.iadd(this.m),x._forceRed(this)},Pe.prototype.isub=function(B,k){this._verify2(B,k);var x=B.isub(k);return x.cmpn(0)<0&&x.iadd(this.m),x},Pe.prototype.shl=function(B,k){return this._verify1(B),this.imod(B.ushln(k))},Pe.prototype.imul=function(B,k){return this._verify2(B,k),this.imod(B.imul(k))},Pe.prototype.mul=function(B,k){return this._verify2(B,k),this.imod(B.mul(k))},Pe.prototype.isqr=function(B){return this.imul(B,B.clone())},Pe.prototype.sqr=function(B){return this.mul(B,B)},Pe.prototype.sqrt=function(B){if(B.isZero())return B.clone();var k=this.m.andln(3);if(a(k%2===1),k===3){var x=this.m.add(new u(1)).iushrn(2);return this.pow(B,x)}for(var A=this.m.subn(1),D=0;!A.isZero()&&A.andln(1)===0;)D++,A.iushrn(1);a(!A.isZero());var q=new u(1).toRed(this),G=q.redNeg(),j=this.m.subn(1).iushrn(1),T=this.m.bitLength();for(T=new u(2*T*T).toRed(this);this.pow(T,j).cmp(G)!==0;)T.redIAdd(G);for(var F=this.pow(T,A),M=this.pow(B,A.addn(1).iushrn(1)),V=this.pow(B,A),ge=D;V.cmp(q)!==0;){for(var ke=V,he=0;ke.cmp(q)!==0;he++)ke=ke.redSqr();a(he<ge);var be=this.pow(F,new u(1).iushln(ge-he-1));M=M.redMul(be),F=be.redSqr(),V=V.redMul(F),ge=he}return M},Pe.prototype.invm=function(B){var k=B._invmp(this.m);return k.negative!==0?(k.negative=0,this.imod(k).redNeg()):this.imod(k)},Pe.prototype.pow=function(B,k){if(k.isZero())return new u(1).toRed(this);if(k.cmpn(1)===0)return B.clone();var x=4,A=new Array(1<<x);A[0]=new u(1).toRed(this),A[1]=B;for(var D=2;D<A.length;D++)A[D]=this.mul(A[D-1],B);var q=A[0],G=0,j=0,T=k.bitLength()%26;for(T===0&&(T=26),D=k.length-1;D>=0;D--){for(var F=k.words[D],M=T-1;M>=0;M--){var V=F>>M&1;if(q!==A[0]&&(q=this.sqr(q)),V===0&&G===0){j=0;continue}G<<=1,G|=V,j++,!(j!==x&&(D!==0||M!==0))&&(q=this.mul(q,A[G]),j=0,G=0)}T=26}return q},Pe.prototype.convertTo=function(B){var k=B.umod(this.m);return k===B?k.clone():k},Pe.prototype.convertFrom=function(B){var k=B.clone();return k.red=null,k},u.mont=function(B){return new it(B)};function it(fe){Pe.call(this,fe),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(it,Pe),it.prototype.convertTo=function(B){return this.imod(B.ushln(this.shift))},it.prototype.convertFrom=function(B){var k=this.imod(B.mul(this.rinv));return k.red=null,k},it.prototype.imul=function(B,k){if(B.isZero()||k.isZero())return B.words[0]=0,B.length=1,B;var x=B.imul(k),A=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=x.isub(A).iushrn(this.shift),q=D;return D.cmp(this.m)>=0?q=D.isub(this.m):D.cmpn(0)<0&&(q=D.iadd(this.m)),q._forceRed(this)},it.prototype.mul=function(B,k){if(B.isZero()||k.isZero())return new u(0)._forceRed(this);var x=B.mul(k),A=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=x.isub(A).iushrn(this.shift),q=D;return D.cmp(this.m)>=0?q=D.isub(this.m):D.cmpn(0)<0&&(q=D.iadd(this.m)),q._forceRed(this)},it.prototype.invm=function(B){var k=this.imod(B._invmp(this.m).mul(this.r2));return k._forceRed(this)}})(t,commonjsGlobal)})(bn$1);var bnExports=bn$1.exports,brorand={exports:{}},hasRequiredBrorand;function requireBrorand(){if(hasRequiredBrorand)return brorand.exports;hasRequiredBrorand=1;var t;brorand.exports=function(o){return t||(t=new e(null)),t.generate(o)};function e(a){this.rand=a}if(brorand.exports.Rand=e,e.prototype.generate=function(o){return this._rand(o)},e.prototype._rand=function(o){if(this.rand.getBytes)return this.rand.getBytes(o);for(var u=new Uint8Array(o),c=0;c<u.length;c++)u[c]=this.rand.getByte();return u},typeof self=="object")self.crypto&&self.crypto.getRandomValues?e.prototype._rand=function(o){var u=new Uint8Array(o);return self.crypto.getRandomValues(u),u}:self.msCrypto&&self.msCrypto.getRandomValues?e.prototype._rand=function(o){var u=new Uint8Array(o);return self.msCrypto.getRandomValues(u),u}:typeof window=="object"&&(e.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var n=requireCryptoBrowserify();if(typeof n.randomBytes!="function")throw new Error("Not supported");e.prototype._rand=function(o){return n.randomBytes(o)}}catch{}return brorand.exports}var mr,hasRequiredMr;function requireMr(){if(hasRequiredMr)return mr;hasRequiredMr=1;var t=bnExports,e=requireBrorand();function n(a){this.rand=a||new e.Rand}return mr=n,n.create=function(o){return new n(o)},n.prototype._randbelow=function(o){var u=o.bitLength(),c=Math.ceil(u/8);do var d=new t(this.rand.generate(c));while(d.cmp(o)>=0);return d},n.prototype._randrange=function(o,u){var c=u.sub(o);return o.add(this._randbelow(c))},n.prototype.test=function(o,u,c){var d=o.bitLength(),p=t.mont(o),v=new t(1).toRed(p);u||(u=Math.max(1,d/48|0));for(var y=o.subn(1),b=0;!y.testn(b);b++);for(var _=o.shrn(b),w=y.toRed(p),E=!0;u>0;u--){var $=this._randrange(new t(2),y);c&&c($);var C=$.toRed(p).redPow(_);if(!(C.cmp(v)===0||C.cmp(w)===0)){for(var P=1;P<b;P++){if(C=C.redSqr(),C.cmp(v)===0)return!1;if(C.cmp(w)===0)break}if(P===b)return!1}}return E},n.prototype.getDivisor=function(o,u){var c=o.bitLength(),d=t.mont(o),p=new t(1).toRed(d);u||(u=Math.max(1,c/48|0));for(var v=o.subn(1),y=0;!v.testn(y);y++);for(var b=o.shrn(y),_=v.toRed(d);u>0;u--){var w=this._randrange(new t(2),v),E=o.gcd(w);if(E.cmpn(1)!==0)return E;var $=w.toRed(d).redPow(b);if(!($.cmp(p)===0||$.cmp(_)===0)){for(var C=1;C<y;C++){if($=$.redSqr(),$.cmp(p)===0)return $.fromRed().subn(1).gcd(o);if($.cmp(_)===0)break}if(C===y)return $=$.redSqr(),$.fromRed().subn(1).gcd(o)}}return!1},mr}var generatePrime,hasRequiredGeneratePrime;function requireGeneratePrime(){if(hasRequiredGeneratePrime)return generatePrime;hasRequiredGeneratePrime=1;var t=requireBrowser$b();generatePrime=C,C.simpleSieve=E,C.fermatTest=$;var e=bnExports,n=new e(24),a=requireMr(),o=new a,u=new e(1),c=new e(2),d=new e(5);new e(16),new e(8);var p=new e(10),v=new e(3);new e(7);var y=new e(11),b=new e(4);new e(12);var _=null;function w(){if(_!==null)return _;var P=1048576,z=[];z[0]=2;for(var J=1,X=3;X<P;X+=2){for(var re=Math.ceil(Math.sqrt(X)),de=0;de<J&&z[de]<=re&&X%z[de]!==0;de++);J!==de&&z[de]<=re||(z[J++]=X)}return _=z,z}function E(P){for(var z=w(),J=0;J<z.length;J++)if(P.modn(z[J])===0)return P.cmpn(z[J])===0;return!0}function $(P){var z=e.mont(P);return c.toRed(z).redPow(P.subn(1)).fromRed().cmpn(1)===0}function C(P,z){if(P<16)return z===2||z===5?new e([140,123]):new e([140,39]);z=new e(z);for(var J,X;;){for(J=new e(t(Math.ceil(P/8)));J.bitLength()>P;)J.ishrn(1);if(J.isEven()&&J.iadd(u),J.testn(1)||J.iadd(c),z.cmp(c)){if(!z.cmp(d))for(;J.mod(p).cmp(v);)J.iadd(b)}else for(;J.mod(n).cmp(y);)J.iadd(b);if(X=J.shrn(1),E(X)&&E(J)&&$(X)&&$(J)&&o.test(X)&&o.test(J))return J}}return generatePrime}const modp1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},require$$1$1={modp1,modp2,modp5,modp14,modp15,modp16,modp17,modp18};var dh,hasRequiredDh;function requireDh(){if(hasRequiredDh)return dh;hasRequiredDh=1;var t=bnExports,e=requireMr(),n=new e,a=new t(24),o=new t(11),u=new t(10),c=new t(3),d=new t(7),p=requireGeneratePrime(),v=requireBrowser$b();dh=E;function y(C,P){return P=P||"utf8",buffer$2.Buffer.isBuffer(C)||(C=new buffer$2.Buffer(C,P)),this._pub=new t(C),this}function b(C,P){return P=P||"utf8",buffer$2.Buffer.isBuffer(C)||(C=new buffer$2.Buffer(C,P)),this._priv=new t(C),this}var _={};function w(C,P){var z=P.toString("hex"),J=[z,C.toString(16)].join("_");if(J in _)return _[J];var X=0;if(C.isEven()||!p.simpleSieve||!p.fermatTest(C)||!n.test(C))return X+=1,z==="02"||z==="05"?X+=8:X+=4,_[J]=X,X;n.test(C.shrn(1))||(X+=2);var re;switch(z){case"02":C.mod(a).cmp(o)&&(X+=8);break;case"05":re=C.mod(u),re.cmp(c)&&re.cmp(d)&&(X+=8);break;default:X+=4}return _[J]=X,X}function E(C,P,z){this.setGenerator(P),this.__prime=new t(C),this._prime=t.mont(this.__prime),this._primeLen=C.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,z?(this.setPublicKey=y,this.setPrivateKey=b):this._primeCode=8}Object.defineProperty(E.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=w(this.__prime,this.__gen)),this._primeCode}}),E.prototype.generateKeys=function(){return this._priv||(this._priv=new t(v(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},E.prototype.computeSecret=function(C){C=new t(C),C=C.toRed(this._prime);var P=C.redPow(this._priv).fromRed(),z=new buffer$2.Buffer(P.toArray()),J=this.getPrime();if(z.length<J.length){var X=new buffer$2.Buffer(J.length-z.length);X.fill(0),z=buffer$2.Buffer.concat([X,z])}return z},E.prototype.getPublicKey=function(P){return $(this._pub,P)},E.prototype.getPrivateKey=function(P){return $(this._priv,P)},E.prototype.getPrime=function(C){return $(this.__prime,C)},E.prototype.getGenerator=function(C){return $(this._gen,C)},E.prototype.setGenerator=function(C,P){return P=P||"utf8",buffer$2.Buffer.isBuffer(C)||(C=new buffer$2.Buffer(C,P)),this.__gen=C,this._gen=new t(C),this};function $(C,P){var z=new buffer$2.Buffer(C.toArray());return P?z.toString(P):z}return dh}var hasRequiredBrowser$4;function requireBrowser$4(){if(hasRequiredBrowser$4)return browser$4;hasRequiredBrowser$4=1;var t=requireGeneratePrime(),e=require$$1$1,n=requireDh();function a(c){var d=new buffer$2.Buffer(e[c].prime,"hex"),p=new buffer$2.Buffer(e[c].gen,"hex");return new n(d,p)}var o={binary:!0,hex:!0,base64:!0};function u(c,d,p,v){return buffer$2.Buffer.isBuffer(d)||o[d]===void 0?u(c,"binary",d,p):(d=d||"binary",v=v||"binary",p=p||new buffer$2.Buffer([2]),buffer$2.Buffer.isBuffer(p)||(p=new buffer$2.Buffer(p,v)),typeof c=="number"?new n(t(c,p),p,!0):(buffer$2.Buffer.isBuffer(c)||(c=new buffer$2.Buffer(c,d)),new n(c,p,!0)))}return browser$4.DiffieHellmanGroup=browser$4.createDiffieHellmanGroup=browser$4.getDiffieHellman=a,browser$4.createDiffieHellman=browser$4.DiffieHellman=u,browser$4}var sign$2={exports:{}},bn={exports:{}};bn.exports;var hasRequiredBn;function requireBn(){return hasRequiredBn||(hasRequiredBn=1,function(t){(function(e,n){function a(k,x){if(!k)throw new Error(x||"Assertion failed")}function o(k,x){k.super_=x;var A=function(){};A.prototype=x.prototype,k.prototype=new A,k.prototype.constructor=k}function u(k,x,A){if(u.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,k!==null&&((x==="le"||x==="be")&&(A=x,x=10),this._init(k||0,x||10,A||"be"))}typeof e=="object"?e.exports=u:n.BN=u,u.BN=u,u.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=buffer$2.Buffer}catch{}u.isBN=function(x){return x instanceof u?!0:x!==null&&typeof x=="object"&&x.constructor.wordSize===u.wordSize&&Array.isArray(x.words)},u.max=function(x,A){return x.cmp(A)>0?x:A},u.min=function(x,A){return x.cmp(A)<0?x:A},u.prototype._init=function(x,A,D){if(typeof x=="number")return this._initNumber(x,A,D);if(typeof x=="object")return this._initArray(x,A,D);A==="hex"&&(A=16),a(A===(A|0)&&A>=2&&A<=36),x=x.toString().replace(/\s+/g,"");var q=0;x[0]==="-"&&(q++,this.negative=1),q<x.length&&(A===16?this._parseHex(x,q,D):(this._parseBase(x,A,q),D==="le"&&this._initArray(this.toArray(),A,D)))},u.prototype._initNumber=function(x,A,D){x<0&&(this.negative=1,x=-x),x<67108864?(this.words=[x&67108863],this.length=1):x<4503599627370496?(this.words=[x&67108863,x/67108864&67108863],this.length=2):(a(x<9007199254740992),this.words=[x&67108863,x/67108864&67108863,1],this.length=3),D==="le"&&this._initArray(this.toArray(),A,D)},u.prototype._initArray=function(x,A,D){if(a(typeof x.length=="number"),x.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(x.length/3),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var G,j,T=0;if(D==="be")for(q=x.length-1,G=0;q>=0;q-=3)j=x[q]|x[q-1]<<8|x[q-2]<<16,this.words[G]|=j<<T&67108863,this.words[G+1]=j>>>26-T&67108863,T+=24,T>=26&&(T-=26,G++);else if(D==="le")for(q=0,G=0;q<x.length;q+=3)j=x[q]|x[q+1]<<8|x[q+2]<<16,this.words[G]|=j<<T&67108863,this.words[G+1]=j>>>26-T&67108863,T+=24,T>=26&&(T-=26,G++);return this._strip()};function d(k,x){var A=k.charCodeAt(x);if(A>=48&&A<=57)return A-48;if(A>=65&&A<=70)return A-55;if(A>=97&&A<=102)return A-87;a(!1,"Invalid character in "+k)}function p(k,x,A){var D=d(k,A);return A-1>=x&&(D|=d(k,A-1)<<4),D}u.prototype._parseHex=function(x,A,D){this.length=Math.ceil((x.length-A)/6),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var G=0,j=0,T;if(D==="be")for(q=x.length-1;q>=A;q-=2)T=p(x,A,q)<<G,this.words[j]|=T&67108863,G>=18?(G-=18,j+=1,this.words[j]|=T>>>26):G+=8;else{var F=x.length-A;for(q=F%2===0?A+1:A;q<x.length;q+=2)T=p(x,A,q)<<G,this.words[j]|=T&67108863,G>=18?(G-=18,j+=1,this.words[j]|=T>>>26):G+=8}this._strip()};function v(k,x,A,D){for(var q=0,G=0,j=Math.min(k.length,A),T=x;T<j;T++){var F=k.charCodeAt(T)-48;q*=D,F>=49?G=F-49+10:F>=17?G=F-17+10:G=F,a(F>=0&&G<D,"Invalid character"),q+=G}return q}u.prototype._parseBase=function(x,A,D){this.words=[0],this.length=1;for(var q=0,G=1;G<=67108863;G*=A)q++;q--,G=G/A|0;for(var j=x.length-D,T=j%q,F=Math.min(j,j-T)+D,M=0,V=D;V<F;V+=q)M=v(x,V,V+q,A),this.imuln(G),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M);if(T!==0){var ge=1;for(M=v(x,V,x.length,A),V=0;V<T;V++)ge*=A;this.imuln(ge),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M)}this._strip()},u.prototype.copy=function(x){x.words=new Array(this.length);for(var A=0;A<this.length;A++)x.words[A]=this.words[A];x.length=this.length,x.negative=this.negative,x.red=this.red};function y(k,x){k.words=x.words,k.length=x.length,k.negative=x.negative,k.red=x.red}if(u.prototype._move=function(x){y(x,this)},u.prototype.clone=function(){var x=new u(null);return this.copy(x),x},u.prototype._expand=function(x){for(;this.length<x;)this.words[this.length++]=0;return this},u.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{u.prototype[Symbol.for("nodejs.util.inspect.custom")]=b}catch{u.prototype.inspect=b}else u.prototype.inspect=b;function b(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(x,A){x=x||10,A=A|0||1;var D;if(x===16||x==="hex"){D="";for(var q=0,G=0,j=0;j<this.length;j++){var T=this.words[j],F=((T<<q|G)&16777215).toString(16);G=T>>>24-q&16777215,q+=2,q>=26&&(q-=26,j--),G!==0||j!==this.length-1?D=_[6-F.length]+F+D:D=F+D}for(G!==0&&(D=G.toString(16)+D);D.length%A!==0;)D="0"+D;return this.negative!==0&&(D="-"+D),D}if(x===(x|0)&&x>=2&&x<=36){var M=w[x],V=E[x];D="";var ge=this.clone();for(ge.negative=0;!ge.isZero();){var ke=ge.modrn(V).toString(x);ge=ge.idivn(V),ge.isZero()?D=ke+D:D=_[M-ke.length]+ke+D}for(this.isZero()&&(D="0"+D);D.length%A!==0;)D="0"+D;return this.negative!==0&&(D="-"+D),D}a(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var x=this.words[0];return this.length===2?x+=this.words[1]*67108864:this.length===3&&this.words[2]===1?x+=4503599627370496+this.words[1]*67108864:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-x:x},u.prototype.toJSON=function(){return this.toString(16,2)},c&&(u.prototype.toBuffer=function(x,A){return this.toArrayLike(c,x,A)}),u.prototype.toArray=function(x,A){return this.toArrayLike(Array,x,A)};var $=function(x,A){return x.allocUnsafe?x.allocUnsafe(A):new x(A)};u.prototype.toArrayLike=function(x,A,D){this._strip();var q=this.byteLength(),G=D||Math.max(1,q);a(q<=G,"byte array longer than desired length"),a(G>0,"Requested array length <= 0");var j=$(x,G),T=A==="le"?"LE":"BE";return this["_toArrayLike"+T](j,q),j},u.prototype._toArrayLikeLE=function(x,A){for(var D=0,q=0,G=0,j=0;G<this.length;G++){var T=this.words[G]<<j|q;x[D++]=T&255,D<x.length&&(x[D++]=T>>8&255),D<x.length&&(x[D++]=T>>16&255),j===6?(D<x.length&&(x[D++]=T>>24&255),q=0,j=0):(q=T>>>24,j+=2)}if(D<x.length)for(x[D++]=q;D<x.length;)x[D++]=0},u.prototype._toArrayLikeBE=function(x,A){for(var D=x.length-1,q=0,G=0,j=0;G<this.length;G++){var T=this.words[G]<<j|q;x[D--]=T&255,D>=0&&(x[D--]=T>>8&255),D>=0&&(x[D--]=T>>16&255),j===6?(D>=0&&(x[D--]=T>>24&255),q=0,j=0):(q=T>>>24,j+=2)}if(D>=0)for(x[D--]=q;D>=0;)x[D--]=0},Math.clz32?u.prototype._countBits=function(x){return 32-Math.clz32(x)}:u.prototype._countBits=function(x){var A=x,D=0;return A>=4096&&(D+=13,A>>>=13),A>=64&&(D+=7,A>>>=7),A>=8&&(D+=4,A>>>=4),A>=2&&(D+=2,A>>>=2),D+A},u.prototype._zeroBits=function(x){if(x===0)return 26;var A=x,D=0;return A&8191||(D+=13,A>>>=13),A&127||(D+=7,A>>>=7),A&15||(D+=4,A>>>=4),A&3||(D+=2,A>>>=2),A&1||D++,D},u.prototype.bitLength=function(){var x=this.words[this.length-1],A=this._countBits(x);return(this.length-1)*26+A};function C(k){for(var x=new Array(k.bitLength()),A=0;A<x.length;A++){var D=A/26|0,q=A%26;x[A]=k.words[D]>>>q&1}return x}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var x=0,A=0;A<this.length;A++){var D=this._zeroBits(this.words[A]);if(x+=D,D!==26)break}return x},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(x){return this.negative!==0?this.abs().inotn(x).iaddn(1):this.clone()},u.prototype.fromTwos=function(x){return this.testn(x-1)?this.notn(x).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(x){for(;this.length<x.length;)this.words[this.length++]=0;for(var A=0;A<x.length;A++)this.words[A]=this.words[A]|x.words[A];return this._strip()},u.prototype.ior=function(x){return a((this.negative|x.negative)===0),this.iuor(x)},u.prototype.or=function(x){return this.length>x.length?this.clone().ior(x):x.clone().ior(this)},u.prototype.uor=function(x){return this.length>x.length?this.clone().iuor(x):x.clone().iuor(this)},u.prototype.iuand=function(x){var A;this.length>x.length?A=x:A=this;for(var D=0;D<A.length;D++)this.words[D]=this.words[D]&x.words[D];return this.length=A.length,this._strip()},u.prototype.iand=function(x){return a((this.negative|x.negative)===0),this.iuand(x)},u.prototype.and=function(x){return this.length>x.length?this.clone().iand(x):x.clone().iand(this)},u.prototype.uand=function(x){return this.length>x.length?this.clone().iuand(x):x.clone().iuand(this)},u.prototype.iuxor=function(x){var A,D;this.length>x.length?(A=this,D=x):(A=x,D=this);for(var q=0;q<D.length;q++)this.words[q]=A.words[q]^D.words[q];if(this!==A)for(;q<A.length;q++)this.words[q]=A.words[q];return this.length=A.length,this._strip()},u.prototype.ixor=function(x){return a((this.negative|x.negative)===0),this.iuxor(x)},u.prototype.xor=function(x){return this.length>x.length?this.clone().ixor(x):x.clone().ixor(this)},u.prototype.uxor=function(x){return this.length>x.length?this.clone().iuxor(x):x.clone().iuxor(this)},u.prototype.inotn=function(x){a(typeof x=="number"&&x>=0);var A=Math.ceil(x/26)|0,D=x%26;this._expand(A),D>0&&A--;for(var q=0;q<A;q++)this.words[q]=~this.words[q]&67108863;return D>0&&(this.words[q]=~this.words[q]&67108863>>26-D),this._strip()},u.prototype.notn=function(x){return this.clone().inotn(x)},u.prototype.setn=function(x,A){a(typeof x=="number"&&x>=0);var D=x/26|0,q=x%26;return this._expand(D+1),A?this.words[D]=this.words[D]|1<<q:this.words[D]=this.words[D]&~(1<<q),this._strip()},u.prototype.iadd=function(x){var A;if(this.negative!==0&&x.negative===0)return this.negative=0,A=this.isub(x),this.negative^=1,this._normSign();if(this.negative===0&&x.negative!==0)return x.negative=0,A=this.isub(x),x.negative=1,A._normSign();var D,q;this.length>x.length?(D=this,q=x):(D=x,q=this);for(var G=0,j=0;j<q.length;j++)A=(D.words[j]|0)+(q.words[j]|0)+G,this.words[j]=A&67108863,G=A>>>26;for(;G!==0&&j<D.length;j++)A=(D.words[j]|0)+G,this.words[j]=A&67108863,G=A>>>26;if(this.length=D.length,G!==0)this.words[this.length]=G,this.length++;else if(D!==this)for(;j<D.length;j++)this.words[j]=D.words[j];return this},u.prototype.add=function(x){var A;return x.negative!==0&&this.negative===0?(x.negative=0,A=this.sub(x),x.negative^=1,A):x.negative===0&&this.negative!==0?(this.negative=0,A=x.sub(this),this.negative=1,A):this.length>x.length?this.clone().iadd(x):x.clone().iadd(this)},u.prototype.isub=function(x){if(x.negative!==0){x.negative=0;var A=this.iadd(x);return x.negative=1,A._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(x),this.negative=1,this._normSign();var D=this.cmp(x);if(D===0)return this.negative=0,this.length=1,this.words[0]=0,this;var q,G;D>0?(q=this,G=x):(q=x,G=this);for(var j=0,T=0;T<G.length;T++)A=(q.words[T]|0)-(G.words[T]|0)+j,j=A>>26,this.words[T]=A&67108863;for(;j!==0&&T<q.length;T++)A=(q.words[T]|0)+j,j=A>>26,this.words[T]=A&67108863;if(j===0&&T<q.length&&q!==this)for(;T<q.length;T++)this.words[T]=q.words[T];return this.length=Math.max(this.length,T),q!==this&&(this.negative=1),this._strip()},u.prototype.sub=function(x){return this.clone().isub(x)};function P(k,x,A){A.negative=x.negative^k.negative;var D=k.length+x.length|0;A.length=D,D=D-1|0;var q=k.words[0]|0,G=x.words[0]|0,j=q*G,T=j&67108863,F=j/67108864|0;A.words[0]=T;for(var M=1;M<D;M++){for(var V=F>>>26,ge=F&67108863,ke=Math.min(M,x.length-1),he=Math.max(0,M-k.length+1);he<=ke;he++){var be=M-he|0;q=k.words[be]|0,G=x.words[he]|0,j=q*G+ge,V+=j/67108864|0,ge=j&67108863}A.words[M]=ge|0,F=V|0}return F!==0?A.words[M]=F|0:A.length--,A._strip()}var z=function(x,A,D){var q=x.words,G=A.words,j=D.words,T=0,F,M,V,ge=q[0]|0,ke=ge&8191,he=ge>>>13,be=q[1]|0,Me=be&8191,Re=be>>>13,Je=q[2]|0,le=Je&8191,ue=Je>>>13,qe=q[3]|0,Ge=qe&8191,ot=qe>>>13,ie=q[4]|0,L=ie&8191,N=ie>>>13,Q=q[5]|0,we=Q&8191,Ie=Q>>>13,Ke=q[6]|0,dt=Ke&8191,me=Ke>>>13,Te=q[7]|0,Ue=Te&8191,De=Te>>>13,tt=q[8]|0,Rt=tt&8191,at=tt>>>13,bt=q[9]|0,ct=bt&8191,ft=bt>>>13,_t=G[0]|0,zt=_t&8191,Ct=_t>>>13,rr=G[1]|0,ar=rr&8191,Lt=rr>>>13,Jt=G[2]|0,ur=Jt&8191,Ht=Jt>>>13,hr=G[3]|0,er=hr&8191,Ft=hr>>>13,or=G[4]|0,fr=or&8191,Kt=or>>>13,dr=G[5]|0,vr=dr&8191,$t=dr>>>13,pr=G[6]|0,U=pr&8191,Z=pr>>>13,ee=G[7]|0,I=ee&8191,ne=ee>>>13,Se=G[8]|0,Ae=Se&8191,Fe=Se>>>13,Ye=G[9]|0,st=Ye&8191,nt=Ye>>>13;D.negative=x.negative^A.negative,D.length=19,F=Math.imul(ke,zt),M=Math.imul(ke,Ct),M=M+Math.imul(he,zt)|0,V=Math.imul(he,Ct);var Wt=(T+F|0)+((M&8191)<<13)|0;T=(V+(M>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,F=Math.imul(Me,zt),M=Math.imul(Me,Ct),M=M+Math.imul(Re,zt)|0,V=Math.imul(Re,Ct),F=F+Math.imul(ke,ar)|0,M=M+Math.imul(ke,Lt)|0,M=M+Math.imul(he,ar)|0,V=V+Math.imul(he,Lt)|0;var pt=(T+F|0)+((M&8191)<<13)|0;T=(V+(M>>>13)|0)+(pt>>>26)|0,pt&=67108863,F=Math.imul(le,zt),M=Math.imul(le,Ct),M=M+Math.imul(ue,zt)|0,V=Math.imul(ue,Ct),F=F+Math.imul(Me,ar)|0,M=M+Math.imul(Me,Lt)|0,M=M+Math.imul(Re,ar)|0,V=V+Math.imul(Re,Lt)|0,F=F+Math.imul(ke,ur)|0,M=M+Math.imul(ke,Ht)|0,M=M+Math.imul(he,ur)|0,V=V+Math.imul(he,Ht)|0;var kt=(T+F|0)+((M&8191)<<13)|0;T=(V+(M>>>13)|0)+(kt>>>26)|0,kt&=67108863,F=Math.imul(Ge,zt),M=Math.imul(Ge,Ct),M=M+Math.imul(ot,zt)|0,V=Math.imul(ot,Ct),F=F+Math.imul(le,ar)|0,M=M+Math.imul(le,Lt)|0,M=M+Math.imul(ue,ar)|0,V=V+Math.imul(ue,Lt)|0,F=F+Math.imul(Me,ur)|0,M=M+Math.imul(Me,Ht)|0,M=M+Math.imul(Re,ur)|0,V=V+Math.imul(Re,Ht)|0,F=F+Math.imul(ke,er)|0,M=M+Math.imul(ke,Ft)|0,M=M+Math.imul(he,er)|0,V=V+Math.imul(he,Ft)|0;var Tt=(T+F|0)+((M&8191)<<13)|0;T=(V+(M>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,F=Math.imul(L,zt),M=Math.imul(L,Ct),M=M+Math.imul(N,zt)|0,V=Math.imul(N,Ct),F=F+Math.imul(Ge,ar)|0,M=M+Math.imul(Ge,Lt)|0,M=M+Math.imul(ot,ar)|0,V=V+Math.imul(ot,Lt)|0,F=F+Math.imul(le,ur)|0,M=M+Math.imul(le,Ht)|0,M=M+Math.imul(ue,ur)|0,V=V+Math.imul(ue,Ht)|0,F=F+Math.imul(Me,er)|0,M=M+Math.imul(Me,Ft)|0,M=M+Math.imul(Re,er)|0,V=V+Math.imul(Re,Ft)|0,F=F+Math.imul(ke,fr)|0,M=M+Math.imul(ke,Kt)|0,M=M+Math.imul(he,fr)|0,V=V+Math.imul(he,Kt)|0;var Ot=(T+F|0)+((M&8191)<<13)|0;T=(V+(M>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,F=Math.imul(we,zt),M=Math.imul(we,Ct),M=M+Math.imul(Ie,zt)|0,V=Math.imul(Ie,Ct),F=F+Math.imul(L,ar)|0,M=M+Math.imul(L,Lt)|0,M=M+Math.imul(N,ar)|0,V=V+Math.imul(N,Lt)|0,F=F+Math.imul(Ge,ur)|0,M=M+Math.imul(Ge,Ht)|0,M=M+Math.imul(ot,ur)|0,V=V+Math.imul(ot,Ht)|0,F=F+Math.imul(le,er)|0,M=M+Math.imul(le,Ft)|0,M=M+Math.imul(ue,er)|0,V=V+Math.imul(ue,Ft)|0,F=F+Math.imul(Me,fr)|0,M=M+Math.imul(Me,Kt)|0,M=M+Math.imul(Re,fr)|0,V=V+Math.imul(Re,Kt)|0,F=F+Math.imul(ke,vr)|0,M=M+Math.imul(ke,$t)|0,M=M+Math.imul(he,vr)|0,V=V+Math.imul(he,$t)|0;var It=(T+F|0)+((M&8191)<<13)|0;T=(V+(M>>>13)|0)+(It>>>26)|0,It&=67108863,F=Math.imul(dt,zt),M=Math.imul(dt,Ct),M=M+Math.imul(me,zt)|0,V=Math.imul(me,Ct),F=F+Math.imul(we,ar)|0,M=M+Math.imul(we,Lt)|0,M=M+Math.imul(Ie,ar)|0,V=V+Math.imul(Ie,Lt)|0,F=F+Math.imul(L,ur)|0,M=M+Math.imul(L,Ht)|0,M=M+Math.imul(N,ur)|0,V=V+Math.imul(N,Ht)|0,F=F+Math.imul(Ge,er)|0,M=M+Math.imul(Ge,Ft)|0,M=M+Math.imul(ot,er)|0,V=V+Math.imul(ot,Ft)|0,F=F+Math.imul(le,fr)|0,M=M+Math.imul(le,Kt)|0,M=M+Math.imul(ue,fr)|0,V=V+Math.imul(ue,Kt)|0,F=F+Math.imul(Me,vr)|0,M=M+Math.imul(Me,$t)|0,M=M+Math.imul(Re,vr)|0,V=V+Math.imul(Re,$t)|0,F=F+Math.imul(ke,U)|0,M=M+Math.imul(ke,Z)|0,M=M+Math.imul(he,U)|0,V=V+Math.imul(he,Z)|0;var Mt=(T+F|0)+((M&8191)<<13)|0;T=(V+(M>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,F=Math.imul(Ue,zt),M=Math.imul(Ue,Ct),M=M+Math.imul(De,zt)|0,V=Math.imul(De,Ct),F=F+Math.imul(dt,ar)|0,M=M+Math.imul(dt,Lt)|0,M=M+Math.imul(me,ar)|0,V=V+Math.imul(me,Lt)|0,F=F+Math.imul(we,ur)|0,M=M+Math.imul(we,Ht)|0,M=M+Math.imul(Ie,ur)|0,V=V+Math.imul(Ie,Ht)|0,F=F+Math.imul(L,er)|0,M=M+Math.imul(L,Ft)|0,M=M+Math.imul(N,er)|0,V=V+Math.imul(N,Ft)|0,F=F+Math.imul(Ge,fr)|0,M=M+Math.imul(Ge,Kt)|0,M=M+Math.imul(ot,fr)|0,V=V+Math.imul(ot,Kt)|0,F=F+Math.imul(le,vr)|0,M=M+Math.imul(le,$t)|0,M=M+Math.imul(ue,vr)|0,V=V+Math.imul(ue,$t)|0,F=F+Math.imul(Me,U)|0,M=M+Math.imul(Me,Z)|0,M=M+Math.imul(Re,U)|0,V=V+Math.imul(Re,Z)|0,F=F+Math.imul(ke,I)|0,M=M+Math.imul(ke,ne)|0,M=M+Math.imul(he,I)|0,V=V+Math.imul(he,ne)|0;var St=(T+F|0)+((M&8191)<<13)|0;T=(V+(M>>>13)|0)+(St>>>26)|0,St&=67108863,F=Math.imul(Rt,zt),M=Math.imul(Rt,Ct),M=M+Math.imul(at,zt)|0,V=Math.imul(at,Ct),F=F+Math.imul(Ue,ar)|0,M=M+Math.imul(Ue,Lt)|0,M=M+Math.imul(De,ar)|0,V=V+Math.imul(De,Lt)|0,F=F+Math.imul(dt,ur)|0,M=M+Math.imul(dt,Ht)|0,M=M+Math.imul(me,ur)|0,V=V+Math.imul(me,Ht)|0,F=F+Math.imul(we,er)|0,M=M+Math.imul(we,Ft)|0,M=M+Math.imul(Ie,er)|0,V=V+Math.imul(Ie,Ft)|0,F=F+Math.imul(L,fr)|0,M=M+Math.imul(L,Kt)|0,M=M+Math.imul(N,fr)|0,V=V+Math.imul(N,Kt)|0,F=F+Math.imul(Ge,vr)|0,M=M+Math.imul(Ge,$t)|0,M=M+Math.imul(ot,vr)|0,V=V+Math.imul(ot,$t)|0,F=F+Math.imul(le,U)|0,M=M+Math.imul(le,Z)|0,M=M+Math.imul(ue,U)|0,V=V+Math.imul(ue,Z)|0,F=F+Math.imul(Me,I)|0,M=M+Math.imul(Me,ne)|0,M=M+Math.imul(Re,I)|0,V=V+Math.imul(Re,ne)|0,F=F+Math.imul(ke,Ae)|0,M=M+Math.imul(ke,Fe)|0,M=M+Math.imul(he,Ae)|0,V=V+Math.imul(he,Fe)|0;var Bt=(T+F|0)+((M&8191)<<13)|0;T=(V+(M>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,F=Math.imul(ct,zt),M=Math.imul(ct,Ct),M=M+Math.imul(ft,zt)|0,V=Math.imul(ft,Ct),F=F+Math.imul(Rt,ar)|0,M=M+Math.imul(Rt,Lt)|0,M=M+Math.imul(at,ar)|0,V=V+Math.imul(at,Lt)|0,F=F+Math.imul(Ue,ur)|0,M=M+Math.imul(Ue,Ht)|0,M=M+Math.imul(De,ur)|0,V=V+Math.imul(De,Ht)|0,F=F+Math.imul(dt,er)|0,M=M+Math.imul(dt,Ft)|0,M=M+Math.imul(me,er)|0,V=V+Math.imul(me,Ft)|0,F=F+Math.imul(we,fr)|0,M=M+Math.imul(we,Kt)|0,M=M+Math.imul(Ie,fr)|0,V=V+Math.imul(Ie,Kt)|0,F=F+Math.imul(L,vr)|0,M=M+Math.imul(L,$t)|0,M=M+Math.imul(N,vr)|0,V=V+Math.imul(N,$t)|0,F=F+Math.imul(Ge,U)|0,M=M+Math.imul(Ge,Z)|0,M=M+Math.imul(ot,U)|0,V=V+Math.imul(ot,Z)|0,F=F+Math.imul(le,I)|0,M=M+Math.imul(le,ne)|0,M=M+Math.imul(ue,I)|0,V=V+Math.imul(ue,ne)|0,F=F+Math.imul(Me,Ae)|0,M=M+Math.imul(Me,Fe)|0,M=M+Math.imul(Re,Ae)|0,V=V+Math.imul(Re,Fe)|0,F=F+Math.imul(ke,st)|0,M=M+Math.imul(ke,nt)|0,M=M+Math.imul(he,st)|0,V=V+Math.imul(he,nt)|0;var ht=(T+F|0)+((M&8191)<<13)|0;T=(V+(M>>>13)|0)+(ht>>>26)|0,ht&=67108863,F=Math.imul(ct,ar),M=Math.imul(ct,Lt),M=M+Math.imul(ft,ar)|0,V=Math.imul(ft,Lt),F=F+Math.imul(Rt,ur)|0,M=M+Math.imul(Rt,Ht)|0,M=M+Math.imul(at,ur)|0,V=V+Math.imul(at,Ht)|0,F=F+Math.imul(Ue,er)|0,M=M+Math.imul(Ue,Ft)|0,M=M+Math.imul(De,er)|0,V=V+Math.imul(De,Ft)|0,F=F+Math.imul(dt,fr)|0,M=M+Math.imul(dt,Kt)|0,M=M+Math.imul(me,fr)|0,V=V+Math.imul(me,Kt)|0,F=F+Math.imul(we,vr)|0,M=M+Math.imul(we,$t)|0,M=M+Math.imul(Ie,vr)|0,V=V+Math.imul(Ie,$t)|0,F=F+Math.imul(L,U)|0,M=M+Math.imul(L,Z)|0,M=M+Math.imul(N,U)|0,V=V+Math.imul(N,Z)|0,F=F+Math.imul(Ge,I)|0,M=M+Math.imul(Ge,ne)|0,M=M+Math.imul(ot,I)|0,V=V+Math.imul(ot,ne)|0,F=F+Math.imul(le,Ae)|0,M=M+Math.imul(le,Fe)|0,M=M+Math.imul(ue,Ae)|0,V=V+Math.imul(ue,Fe)|0,F=F+Math.imul(Me,st)|0,M=M+Math.imul(Me,nt)|0,M=M+Math.imul(Re,st)|0,V=V+Math.imul(Re,nt)|0;var wt=(T+F|0)+((M&8191)<<13)|0;T=(V+(M>>>13)|0)+(wt>>>26)|0,wt&=67108863,F=Math.imul(ct,ur),M=Math.imul(ct,Ht),M=M+Math.imul(ft,ur)|0,V=Math.imul(ft,Ht),F=F+Math.imul(Rt,er)|0,M=M+Math.imul(Rt,Ft)|0,M=M+Math.imul(at,er)|0,V=V+Math.imul(at,Ft)|0,F=F+Math.imul(Ue,fr)|0,M=M+Math.imul(Ue,Kt)|0,M=M+Math.imul(De,fr)|0,V=V+Math.imul(De,Kt)|0,F=F+Math.imul(dt,vr)|0,M=M+Math.imul(dt,$t)|0,M=M+Math.imul(me,vr)|0,V=V+Math.imul(me,$t)|0,F=F+Math.imul(we,U)|0,M=M+Math.imul(we,Z)|0,M=M+Math.imul(Ie,U)|0,V=V+Math.imul(Ie,Z)|0,F=F+Math.imul(L,I)|0,M=M+Math.imul(L,ne)|0,M=M+Math.imul(N,I)|0,V=V+Math.imul(N,ne)|0,F=F+Math.imul(Ge,Ae)|0,M=M+Math.imul(Ge,Fe)|0,M=M+Math.imul(ot,Ae)|0,V=V+Math.imul(ot,Fe)|0,F=F+Math.imul(le,st)|0,M=M+Math.imul(le,nt)|0,M=M+Math.imul(ue,st)|0,V=V+Math.imul(ue,nt)|0;var ut=(T+F|0)+((M&8191)<<13)|0;T=(V+(M>>>13)|0)+(ut>>>26)|0,ut&=67108863,F=Math.imul(ct,er),M=Math.imul(ct,Ft),M=M+Math.imul(ft,er)|0,V=Math.imul(ft,Ft),F=F+Math.imul(Rt,fr)|0,M=M+Math.imul(Rt,Kt)|0,M=M+Math.imul(at,fr)|0,V=V+Math.imul(at,Kt)|0,F=F+Math.imul(Ue,vr)|0,M=M+Math.imul(Ue,$t)|0,M=M+Math.imul(De,vr)|0,V=V+Math.imul(De,$t)|0,F=F+Math.imul(dt,U)|0,M=M+Math.imul(dt,Z)|0,M=M+Math.imul(me,U)|0,V=V+Math.imul(me,Z)|0,F=F+Math.imul(we,I)|0,M=M+Math.imul(we,ne)|0,M=M+Math.imul(Ie,I)|0,V=V+Math.imul(Ie,ne)|0,F=F+Math.imul(L,Ae)|0,M=M+Math.imul(L,Fe)|0,M=M+Math.imul(N,Ae)|0,V=V+Math.imul(N,Fe)|0,F=F+Math.imul(Ge,st)|0,M=M+Math.imul(Ge,nt)|0,M=M+Math.imul(ot,st)|0,V=V+Math.imul(ot,nt)|0;var yt=(T+F|0)+((M&8191)<<13)|0;T=(V+(M>>>13)|0)+(yt>>>26)|0,yt&=67108863,F=Math.imul(ct,fr),M=Math.imul(ct,Kt),M=M+Math.imul(ft,fr)|0,V=Math.imul(ft,Kt),F=F+Math.imul(Rt,vr)|0,M=M+Math.imul(Rt,$t)|0,M=M+Math.imul(at,vr)|0,V=V+Math.imul(at,$t)|0,F=F+Math.imul(Ue,U)|0,M=M+Math.imul(Ue,Z)|0,M=M+Math.imul(De,U)|0,V=V+Math.imul(De,Z)|0,F=F+Math.imul(dt,I)|0,M=M+Math.imul(dt,ne)|0,M=M+Math.imul(me,I)|0,V=V+Math.imul(me,ne)|0,F=F+Math.imul(we,Ae)|0,M=M+Math.imul(we,Fe)|0,M=M+Math.imul(Ie,Ae)|0,V=V+Math.imul(Ie,Fe)|0,F=F+Math.imul(L,st)|0,M=M+Math.imul(L,nt)|0,M=M+Math.imul(N,st)|0,V=V+Math.imul(N,nt)|0;var mt=(T+F|0)+((M&8191)<<13)|0;T=(V+(M>>>13)|0)+(mt>>>26)|0,mt&=67108863,F=Math.imul(ct,vr),M=Math.imul(ct,$t),M=M+Math.imul(ft,vr)|0,V=Math.imul(ft,$t),F=F+Math.imul(Rt,U)|0,M=M+Math.imul(Rt,Z)|0,M=M+Math.imul(at,U)|0,V=V+Math.imul(at,Z)|0,F=F+Math.imul(Ue,I)|0,M=M+Math.imul(Ue,ne)|0,M=M+Math.imul(De,I)|0,V=V+Math.imul(De,ne)|0,F=F+Math.imul(dt,Ae)|0,M=M+Math.imul(dt,Fe)|0,M=M+Math.imul(me,Ae)|0,V=V+Math.imul(me,Fe)|0,F=F+Math.imul(we,st)|0,M=M+Math.imul(we,nt)|0,M=M+Math.imul(Ie,st)|0,V=V+Math.imul(Ie,nt)|0;var lt=(T+F|0)+((M&8191)<<13)|0;T=(V+(M>>>13)|0)+(lt>>>26)|0,lt&=67108863,F=Math.imul(ct,U),M=Math.imul(ct,Z),M=M+Math.imul(ft,U)|0,V=Math.imul(ft,Z),F=F+Math.imul(Rt,I)|0,M=M+Math.imul(Rt,ne)|0,M=M+Math.imul(at,I)|0,V=V+Math.imul(at,ne)|0,F=F+Math.imul(Ue,Ae)|0,M=M+Math.imul(Ue,Fe)|0,M=M+Math.imul(De,Ae)|0,V=V+Math.imul(De,Fe)|0,F=F+Math.imul(dt,st)|0,M=M+Math.imul(dt,nt)|0,M=M+Math.imul(me,st)|0,V=V+Math.imul(me,nt)|0;var Le=(T+F|0)+((M&8191)<<13)|0;T=(V+(M>>>13)|0)+(Le>>>26)|0,Le&=67108863,F=Math.imul(ct,I),M=Math.imul(ct,ne),M=M+Math.imul(ft,I)|0,V=Math.imul(ft,ne),F=F+Math.imul(Rt,Ae)|0,M=M+Math.imul(Rt,Fe)|0,M=M+Math.imul(at,Ae)|0,V=V+Math.imul(at,Fe)|0,F=F+Math.imul(Ue,st)|0,M=M+Math.imul(Ue,nt)|0,M=M+Math.imul(De,st)|0,V=V+Math.imul(De,nt)|0;var Ne=(T+F|0)+((M&8191)<<13)|0;T=(V+(M>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,F=Math.imul(ct,Ae),M=Math.imul(ct,Fe),M=M+Math.imul(ft,Ae)|0,V=Math.imul(ft,Fe),F=F+Math.imul(Rt,st)|0,M=M+Math.imul(Rt,nt)|0,M=M+Math.imul(at,st)|0,V=V+Math.imul(at,nt)|0;var Ze=(T+F|0)+((M&8191)<<13)|0;T=(V+(M>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,F=Math.imul(ct,st),M=Math.imul(ct,nt),M=M+Math.imul(ft,st)|0,V=Math.imul(ft,nt);var W=(T+F|0)+((M&8191)<<13)|0;return T=(V+(M>>>13)|0)+(W>>>26)|0,W&=67108863,j[0]=Wt,j[1]=pt,j[2]=kt,j[3]=Tt,j[4]=Ot,j[5]=It,j[6]=Mt,j[7]=St,j[8]=Bt,j[9]=ht,j[10]=wt,j[11]=ut,j[12]=yt,j[13]=mt,j[14]=lt,j[15]=Le,j[16]=Ne,j[17]=Ze,j[18]=W,T!==0&&(j[19]=T,D.length++),D};Math.imul||(z=P);function J(k,x,A){A.negative=x.negative^k.negative,A.length=k.length+x.length;for(var D=0,q=0,G=0;G<A.length-1;G++){var j=q;q=0;for(var T=D&67108863,F=Math.min(G,x.length-1),M=Math.max(0,G-k.length+1);M<=F;M++){var V=G-M,ge=k.words[V]|0,ke=x.words[M]|0,he=ge*ke,be=he&67108863;j=j+(he/67108864|0)|0,be=be+T|0,T=be&67108863,j=j+(be>>>26)|0,q+=j>>>26,j&=67108863}A.words[G]=T,D=j,j=q}return D!==0?A.words[G]=D:A.length--,A._strip()}function X(k,x,A){return J(k,x,A)}u.prototype.mulTo=function(x,A){var D,q=this.length+x.length;return this.length===10&&x.length===10?D=z(this,x,A):q<63?D=P(this,x,A):q<1024?D=J(this,x,A):D=X(this,x,A),D},u.prototype.mul=function(x){var A=new u(null);return A.words=new Array(this.length+x.length),this.mulTo(x,A)},u.prototype.mulf=function(x){var A=new u(null);return A.words=new Array(this.length+x.length),X(this,x,A)},u.prototype.imul=function(x){return this.clone().mulTo(x,this)},u.prototype.imuln=function(x){var A=x<0;A&&(x=-x),a(typeof x=="number"),a(x<67108864);for(var D=0,q=0;q<this.length;q++){var G=(this.words[q]|0)*x,j=(G&67108863)+(D&67108863);D>>=26,D+=G/67108864|0,D+=j>>>26,this.words[q]=j&67108863}return D!==0&&(this.words[q]=D,this.length++),A?this.ineg():this},u.prototype.muln=function(x){return this.clone().imuln(x)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(x){var A=C(x);if(A.length===0)return new u(1);for(var D=this,q=0;q<A.length&&A[q]===0;q++,D=D.sqr());if(++q<A.length)for(var G=D.sqr();q<A.length;q++,G=G.sqr())A[q]!==0&&(D=D.mul(G));return D},u.prototype.iushln=function(x){a(typeof x=="number"&&x>=0);var A=x%26,D=(x-A)/26,q=67108863>>>26-A<<26-A,G;if(A!==0){var j=0;for(G=0;G<this.length;G++){var T=this.words[G]&q,F=(this.words[G]|0)-T<<A;this.words[G]=F|j,j=T>>>26-A}j&&(this.words[G]=j,this.length++)}if(D!==0){for(G=this.length-1;G>=0;G--)this.words[G+D]=this.words[G];for(G=0;G<D;G++)this.words[G]=0;this.length+=D}return this._strip()},u.prototype.ishln=function(x){return a(this.negative===0),this.iushln(x)},u.prototype.iushrn=function(x,A,D){a(typeof x=="number"&&x>=0);var q;A?q=(A-A%26)/26:q=0;var G=x%26,j=Math.min((x-G)/26,this.length),T=67108863^67108863>>>G<<G,F=D;if(q-=j,q=Math.max(0,q),F){for(var M=0;M<j;M++)F.words[M]=this.words[M];F.length=j}if(j!==0)if(this.length>j)for(this.length-=j,M=0;M<this.length;M++)this.words[M]=this.words[M+j];else this.words[0]=0,this.length=1;var V=0;for(M=this.length-1;M>=0&&(V!==0||M>=q);M--){var ge=this.words[M]|0;this.words[M]=V<<26-G|ge>>>G,V=ge&T}return F&&V!==0&&(F.words[F.length++]=V),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},u.prototype.ishrn=function(x,A,D){return a(this.negative===0),this.iushrn(x,A,D)},u.prototype.shln=function(x){return this.clone().ishln(x)},u.prototype.ushln=function(x){return this.clone().iushln(x)},u.prototype.shrn=function(x){return this.clone().ishrn(x)},u.prototype.ushrn=function(x){return this.clone().iushrn(x)},u.prototype.testn=function(x){a(typeof x=="number"&&x>=0);var A=x%26,D=(x-A)/26,q=1<<A;if(this.length<=D)return!1;var G=this.words[D];return!!(G&q)},u.prototype.imaskn=function(x){a(typeof x=="number"&&x>=0);var A=x%26,D=(x-A)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=D)return this;if(A!==0&&D++,this.length=Math.min(D,this.length),A!==0){var q=67108863^67108863>>>A<<A;this.words[this.length-1]&=q}return this._strip()},u.prototype.maskn=function(x){return this.clone().imaskn(x)},u.prototype.iaddn=function(x){return a(typeof x=="number"),a(x<67108864),x<0?this.isubn(-x):this.negative!==0?this.length===1&&(this.words[0]|0)<=x?(this.words[0]=x-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(x),this.negative=1,this):this._iaddn(x)},u.prototype._iaddn=function(x){this.words[0]+=x;for(var A=0;A<this.length&&this.words[A]>=67108864;A++)this.words[A]-=67108864,A===this.length-1?this.words[A+1]=1:this.words[A+1]++;return this.length=Math.max(this.length,A+1),this},u.prototype.isubn=function(x){if(a(typeof x=="number"),a(x<67108864),x<0)return this.iaddn(-x);if(this.negative!==0)return this.negative=0,this.iaddn(x),this.negative=1,this;if(this.words[0]-=x,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var A=0;A<this.length&&this.words[A]<0;A++)this.words[A]+=67108864,this.words[A+1]-=1;return this._strip()},u.prototype.addn=function(x){return this.clone().iaddn(x)},u.prototype.subn=function(x){return this.clone().isubn(x)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(x,A,D){var q=x.length+D,G;this._expand(q);var j,T=0;for(G=0;G<x.length;G++){j=(this.words[G+D]|0)+T;var F=(x.words[G]|0)*A;j-=F&67108863,T=(j>>26)-(F/67108864|0),this.words[G+D]=j&67108863}for(;G<this.length-D;G++)j=(this.words[G+D]|0)+T,T=j>>26,this.words[G+D]=j&67108863;if(T===0)return this._strip();for(a(T===-1),T=0,G=0;G<this.length;G++)j=-(this.words[G]|0)+T,T=j>>26,this.words[G]=j&67108863;return this.negative=1,this._strip()},u.prototype._wordDiv=function(x,A){var D=this.length-x.length,q=this.clone(),G=x,j=G.words[G.length-1]|0,T=this._countBits(j);D=26-T,D!==0&&(G=G.ushln(D),q.iushln(D),j=G.words[G.length-1]|0);var F=q.length-G.length,M;if(A!=="mod"){M=new u(null),M.length=F+1,M.words=new Array(M.length);for(var V=0;V<M.length;V++)M.words[V]=0}var ge=q.clone()._ishlnsubmul(G,1,F);ge.negative===0&&(q=ge,M&&(M.words[F]=1));for(var ke=F-1;ke>=0;ke--){var he=(q.words[G.length+ke]|0)*67108864+(q.words[G.length+ke-1]|0);for(he=Math.min(he/j|0,67108863),q._ishlnsubmul(G,he,ke);q.negative!==0;)he--,q.negative=0,q._ishlnsubmul(G,1,ke),q.isZero()||(q.negative^=1);M&&(M.words[ke]=he)}return M&&M._strip(),q._strip(),A!=="div"&&D!==0&&q.iushrn(D),{div:M||null,mod:q}},u.prototype.divmod=function(x,A,D){if(a(!x.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var q,G,j;return this.negative!==0&&x.negative===0?(j=this.neg().divmod(x,A),A!=="mod"&&(q=j.div.neg()),A!=="div"&&(G=j.mod.neg(),D&&G.negative!==0&&G.iadd(x)),{div:q,mod:G}):this.negative===0&&x.negative!==0?(j=this.divmod(x.neg(),A),A!=="mod"&&(q=j.div.neg()),{div:q,mod:j.mod}):this.negative&x.negative?(j=this.neg().divmod(x.neg(),A),A!=="div"&&(G=j.mod.neg(),D&&G.negative!==0&&G.isub(x)),{div:j.div,mod:G}):x.length>this.length||this.cmp(x)<0?{div:new u(0),mod:this}:x.length===1?A==="div"?{div:this.divn(x.words[0]),mod:null}:A==="mod"?{div:null,mod:new u(this.modrn(x.words[0]))}:{div:this.divn(x.words[0]),mod:new u(this.modrn(x.words[0]))}:this._wordDiv(x,A)},u.prototype.div=function(x){return this.divmod(x,"div",!1).div},u.prototype.mod=function(x){return this.divmod(x,"mod",!1).mod},u.prototype.umod=function(x){return this.divmod(x,"mod",!0).mod},u.prototype.divRound=function(x){var A=this.divmod(x);if(A.mod.isZero())return A.div;var D=A.div.negative!==0?A.mod.isub(x):A.mod,q=x.ushrn(1),G=x.andln(1),j=D.cmp(q);return j<0||G===1&&j===0?A.div:A.div.negative!==0?A.div.isubn(1):A.div.iaddn(1)},u.prototype.modrn=function(x){var A=x<0;A&&(x=-x),a(x<=67108863);for(var D=(1<<26)%x,q=0,G=this.length-1;G>=0;G--)q=(D*q+(this.words[G]|0))%x;return A?-q:q},u.prototype.modn=function(x){return this.modrn(x)},u.prototype.idivn=function(x){var A=x<0;A&&(x=-x),a(x<=67108863);for(var D=0,q=this.length-1;q>=0;q--){var G=(this.words[q]|0)+D*67108864;this.words[q]=G/x|0,D=G%x}return this._strip(),A?this.ineg():this},u.prototype.divn=function(x){return this.clone().idivn(x)},u.prototype.egcd=function(x){a(x.negative===0),a(!x.isZero());var A=this,D=x.clone();A.negative!==0?A=A.umod(x):A=A.clone();for(var q=new u(1),G=new u(0),j=new u(0),T=new u(1),F=0;A.isEven()&&D.isEven();)A.iushrn(1),D.iushrn(1),++F;for(var M=D.clone(),V=A.clone();!A.isZero();){for(var ge=0,ke=1;!(A.words[0]&ke)&&ge<26;++ge,ke<<=1);if(ge>0)for(A.iushrn(ge);ge-- >0;)(q.isOdd()||G.isOdd())&&(q.iadd(M),G.isub(V)),q.iushrn(1),G.iushrn(1);for(var he=0,be=1;!(D.words[0]&be)&&he<26;++he,be<<=1);if(he>0)for(D.iushrn(he);he-- >0;)(j.isOdd()||T.isOdd())&&(j.iadd(M),T.isub(V)),j.iushrn(1),T.iushrn(1);A.cmp(D)>=0?(A.isub(D),q.isub(j),G.isub(T)):(D.isub(A),j.isub(q),T.isub(G))}return{a:j,b:T,gcd:D.iushln(F)}},u.prototype._invmp=function(x){a(x.negative===0),a(!x.isZero());var A=this,D=x.clone();A.negative!==0?A=A.umod(x):A=A.clone();for(var q=new u(1),G=new u(0),j=D.clone();A.cmpn(1)>0&&D.cmpn(1)>0;){for(var T=0,F=1;!(A.words[0]&F)&&T<26;++T,F<<=1);if(T>0)for(A.iushrn(T);T-- >0;)q.isOdd()&&q.iadd(j),q.iushrn(1);for(var M=0,V=1;!(D.words[0]&V)&&M<26;++M,V<<=1);if(M>0)for(D.iushrn(M);M-- >0;)G.isOdd()&&G.iadd(j),G.iushrn(1);A.cmp(D)>=0?(A.isub(D),q.isub(G)):(D.isub(A),G.isub(q))}var ge;return A.cmpn(1)===0?ge=q:ge=G,ge.cmpn(0)<0&&ge.iadd(x),ge},u.prototype.gcd=function(x){if(this.isZero())return x.abs();if(x.isZero())return this.abs();var A=this.clone(),D=x.clone();A.negative=0,D.negative=0;for(var q=0;A.isEven()&&D.isEven();q++)A.iushrn(1),D.iushrn(1);do{for(;A.isEven();)A.iushrn(1);for(;D.isEven();)D.iushrn(1);var G=A.cmp(D);if(G<0){var j=A;A=D,D=j}else if(G===0||D.cmpn(1)===0)break;A.isub(D)}while(!0);return D.iushln(q)},u.prototype.invm=function(x){return this.egcd(x).a.umod(x)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(x){return this.words[0]&x},u.prototype.bincn=function(x){a(typeof x=="number");var A=x%26,D=(x-A)/26,q=1<<A;if(this.length<=D)return this._expand(D+1),this.words[D]|=q,this;for(var G=q,j=D;G!==0&&j<this.length;j++){var T=this.words[j]|0;T+=G,G=T>>>26,T&=67108863,this.words[j]=T}return G!==0&&(this.words[j]=G,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(x){var A=x<0;if(this.negative!==0&&!A)return-1;if(this.negative===0&&A)return 1;this._strip();var D;if(this.length>1)D=1;else{A&&(x=-x),a(x<=67108863,"Number is too big");var q=this.words[0]|0;D=q===x?0:q<x?-1:1}return this.negative!==0?-D|0:D},u.prototype.cmp=function(x){if(this.negative!==0&&x.negative===0)return-1;if(this.negative===0&&x.negative!==0)return 1;var A=this.ucmp(x);return this.negative!==0?-A|0:A},u.prototype.ucmp=function(x){if(this.length>x.length)return 1;if(this.length<x.length)return-1;for(var A=0,D=this.length-1;D>=0;D--){var q=this.words[D]|0,G=x.words[D]|0;if(q!==G){q<G?A=-1:q>G&&(A=1);break}}return A},u.prototype.gtn=function(x){return this.cmpn(x)===1},u.prototype.gt=function(x){return this.cmp(x)===1},u.prototype.gten=function(x){return this.cmpn(x)>=0},u.prototype.gte=function(x){return this.cmp(x)>=0},u.prototype.ltn=function(x){return this.cmpn(x)===-1},u.prototype.lt=function(x){return this.cmp(x)===-1},u.prototype.lten=function(x){return this.cmpn(x)<=0},u.prototype.lte=function(x){return this.cmp(x)<=0},u.prototype.eqn=function(x){return this.cmpn(x)===0},u.prototype.eq=function(x){return this.cmp(x)===0},u.red=function(x){return new fe(x)},u.prototype.toRed=function(x){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),x.convertTo(this)._forceRed(x)},u.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(x){return this.red=x,this},u.prototype.forceRed=function(x){return a(!this.red,"Already a number in reduction context"),this._forceRed(x)},u.prototype.redAdd=function(x){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,x)},u.prototype.redIAdd=function(x){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,x)},u.prototype.redSub=function(x){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,x)},u.prototype.redISub=function(x){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,x)},u.prototype.redShl=function(x){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,x)},u.prototype.redMul=function(x){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,x),this.red.mul(this,x)},u.prototype.redIMul=function(x){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,x),this.red.imul(this,x)},u.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(x){return a(this.red&&!x.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,x)};var re={k256:null,p224:null,p192:null,p25519:null};function de(k,x){this.name=k,this.p=new u(x,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}de.prototype._tmp=function(){var x=new u(null);return x.words=new Array(Math.ceil(this.n/13)),x},de.prototype.ireduce=function(x){var A=x,D;do this.split(A,this.tmp),A=this.imulK(A),A=A.iadd(this.tmp),D=A.bitLength();while(D>this.n);var q=D<this.n?-1:A.ucmp(this.p);return q===0?(A.words[0]=0,A.length=1):q>0?A.isub(this.p):A.strip!==void 0?A.strip():A._strip(),A},de.prototype.split=function(x,A){x.iushrn(this.n,0,A)},de.prototype.imulK=function(x){return x.imul(this.k)};function xe(){de.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(xe,de),xe.prototype.split=function(x,A){for(var D=4194303,q=Math.min(x.length,9),G=0;G<q;G++)A.words[G]=x.words[G];if(A.length=q,x.length<=9){x.words[0]=0,x.length=1;return}var j=x.words[9];for(A.words[A.length++]=j&D,G=10;G<x.length;G++){var T=x.words[G]|0;x.words[G-10]=(T&D)<<4|j>>>22,j=T}j>>>=22,x.words[G-10]=j,j===0&&x.length>10?x.length-=10:x.length-=9},xe.prototype.imulK=function(x){x.words[x.length]=0,x.words[x.length+1]=0,x.length+=2;for(var A=0,D=0;D<x.length;D++){var q=x.words[D]|0;A+=q*977,x.words[D]=A&67108863,A=q*64+(A/67108864|0)}return x.words[x.length-1]===0&&(x.length--,x.words[x.length-1]===0&&x.length--),x};function $e(){de.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o($e,de);function Pe(){de.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(Pe,de);function it(){de.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(it,de),it.prototype.imulK=function(x){for(var A=0,D=0;D<x.length;D++){var q=(x.words[D]|0)*19+A,G=q&67108863;q>>>=26,x.words[D]=G,A=q}return A!==0&&(x.words[x.length++]=A),x},u._prime=function(x){if(re[x])return re[x];var A;if(x==="k256")A=new xe;else if(x==="p224")A=new $e;else if(x==="p192")A=new Pe;else if(x==="p25519")A=new it;else throw new Error("Unknown prime "+x);return re[x]=A,A};function fe(k){if(typeof k=="string"){var x=u._prime(k);this.m=x.p,this.prime=x}else a(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}fe.prototype._verify1=function(x){a(x.negative===0,"red works only with positives"),a(x.red,"red works only with red numbers")},fe.prototype._verify2=function(x,A){a((x.negative|A.negative)===0,"red works only with positives"),a(x.red&&x.red===A.red,"red works only with red numbers")},fe.prototype.imod=function(x){return this.prime?this.prime.ireduce(x)._forceRed(this):(y(x,x.umod(this.m)._forceRed(this)),x)},fe.prototype.neg=function(x){return x.isZero()?x.clone():this.m.sub(x)._forceRed(this)},fe.prototype.add=function(x,A){this._verify2(x,A);var D=x.add(A);return D.cmp(this.m)>=0&&D.isub(this.m),D._forceRed(this)},fe.prototype.iadd=function(x,A){this._verify2(x,A);var D=x.iadd(A);return D.cmp(this.m)>=0&&D.isub(this.m),D},fe.prototype.sub=function(x,A){this._verify2(x,A);var D=x.sub(A);return D.cmpn(0)<0&&D.iadd(this.m),D._forceRed(this)},fe.prototype.isub=function(x,A){this._verify2(x,A);var D=x.isub(A);return D.cmpn(0)<0&&D.iadd(this.m),D},fe.prototype.shl=function(x,A){return this._verify1(x),this.imod(x.ushln(A))},fe.prototype.imul=function(x,A){return this._verify2(x,A),this.imod(x.imul(A))},fe.prototype.mul=function(x,A){return this._verify2(x,A),this.imod(x.mul(A))},fe.prototype.isqr=function(x){return this.imul(x,x.clone())},fe.prototype.sqr=function(x){return this.mul(x,x)},fe.prototype.sqrt=function(x){if(x.isZero())return x.clone();var A=this.m.andln(3);if(a(A%2===1),A===3){var D=this.m.add(new u(1)).iushrn(2);return this.pow(x,D)}for(var q=this.m.subn(1),G=0;!q.isZero()&&q.andln(1)===0;)G++,q.iushrn(1);a(!q.isZero());var j=new u(1).toRed(this),T=j.redNeg(),F=this.m.subn(1).iushrn(1),M=this.m.bitLength();for(M=new u(2*M*M).toRed(this);this.pow(M,F).cmp(T)!==0;)M.redIAdd(T);for(var V=this.pow(M,q),ge=this.pow(x,q.addn(1).iushrn(1)),ke=this.pow(x,q),he=G;ke.cmp(j)!==0;){for(var be=ke,Me=0;be.cmp(j)!==0;Me++)be=be.redSqr();a(Me<he);var Re=this.pow(V,new u(1).iushln(he-Me-1));ge=ge.redMul(Re),V=Re.redSqr(),ke=ke.redMul(V),he=Me}return ge},fe.prototype.invm=function(x){var A=x._invmp(this.m);return A.negative!==0?(A.negative=0,this.imod(A).redNeg()):this.imod(A)},fe.prototype.pow=function(x,A){if(A.isZero())return new u(1).toRed(this);if(A.cmpn(1)===0)return x.clone();var D=4,q=new Array(1<<D);q[0]=new u(1).toRed(this),q[1]=x;for(var G=2;G<q.length;G++)q[G]=this.mul(q[G-1],x);var j=q[0],T=0,F=0,M=A.bitLength()%26;for(M===0&&(M=26),G=A.length-1;G>=0;G--){for(var V=A.words[G],ge=M-1;ge>=0;ge--){var ke=V>>ge&1;if(j!==q[0]&&(j=this.sqr(j)),ke===0&&T===0){F=0;continue}T<<=1,T|=ke,F++,!(F!==D&&(G!==0||ge!==0))&&(j=this.mul(j,q[T]),F=0,T=0)}M=26}return j},fe.prototype.convertTo=function(x){var A=x.umod(this.m);return A===x?A.clone():A},fe.prototype.convertFrom=function(x){var A=x.clone();return A.red=null,A},u.mont=function(x){return new B(x)};function B(k){fe.call(this,k),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(B,fe),B.prototype.convertTo=function(x){return this.imod(x.ushln(this.shift))},B.prototype.convertFrom=function(x){var A=this.imod(x.mul(this.rinv));return A.red=null,A},B.prototype.imul=function(x,A){if(x.isZero()||A.isZero())return x.words[0]=0,x.length=1,x;var D=x.imul(A),q=D.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),G=D.isub(q).iushrn(this.shift),j=G;return G.cmp(this.m)>=0?j=G.isub(this.m):G.cmpn(0)<0&&(j=G.iadd(this.m)),j._forceRed(this)},B.prototype.mul=function(x,A){if(x.isZero()||A.isZero())return new u(0)._forceRed(this);var D=x.mul(A),q=D.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),G=D.isub(q).iushrn(this.shift),j=G;return G.cmp(this.m)>=0?j=G.isub(this.m):G.cmpn(0)<0&&(j=G.iadd(this.m)),j._forceRed(this)},B.prototype.invm=function(x){var A=this.imod(x._invmp(this.m).mul(this.r2));return A._forceRed(this)}})(t,commonjsGlobal)}(bn)),bn.exports}var browserifyRsa,hasRequiredBrowserifyRsa;function requireBrowserifyRsa(){if(hasRequiredBrowserifyRsa)return browserifyRsa;hasRequiredBrowserifyRsa=1;var t=requireBn(),e=requireBrowser$b();function n(u){var c=a(u),d=c.toRed(t.mont(u.modulus)).redPow(new t(u.publicExponent)).fromRed();return{blinder:d,unblinder:c.invm(u.modulus)}}function a(u){var c=u.modulus.byteLength(),d;do d=new t(e(c));while(d.cmp(u.modulus)>=0||!d.umod(u.prime1)||!d.umod(u.prime2));return d}function o(u,c){var d=n(c),p=c.modulus.byteLength(),v=new t(u).mul(d.blinder).umod(c.modulus),y=v.toRed(t.mont(c.prime1)),b=v.toRed(t.mont(c.prime2)),_=c.coefficient,w=c.prime1,E=c.prime2,$=y.redPow(c.exponent1).fromRed(),C=b.redPow(c.exponent2).fromRed(),P=$.isub(C).imul(_).umod(w).imul(E);return C.iadd(P).imul(d.unblinder).umod(c.modulus).toArrayLike(buffer$2.Buffer,"be",p)}return o.getr=a,browserifyRsa=o,browserifyRsa}var elliptic={};const name$2="elliptic",version="6.5.4",description="EC cryptography",main="lib/elliptic.js",files=["lib"],scripts={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository={type:"git",url:"git@github.com:indutny/elliptic"},keywords=["EC","Elliptic","curve","Cryptography"],author="Fedor Indutny <fedor@indutny.com>",license="MIT",bugs={url:"https://github.com/indutny/elliptic/issues"},homepage="https://github.com/indutny/elliptic",devDependencies={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},require$$0={name:name$2,version,description,main,files,scripts,repository,keywords,author,license,bugs,homepage,devDependencies,dependencies};var utils$m={},utils$l={};(function(t){var e=t;function n(u,c){if(Array.isArray(u))return u.slice();if(!u)return[];var d=[];if(typeof u!="string"){for(var p=0;p<u.length;p++)d[p]=u[p]|0;return d}if(c==="hex"){u=u.replace(/[^a-z0-9]+/ig,""),u.length%2!==0&&(u="0"+u);for(var p=0;p<u.length;p+=2)d.push(parseInt(u[p]+u[p+1],16))}else for(var p=0;p<u.length;p++){var v=u.charCodeAt(p),y=v>>8,b=v&255;y?d.push(y,b):d.push(b)}return d}e.toArray=n;function a(u){return u.length===1?"0"+u:u}e.zero2=a;function o(u){for(var c="",d=0;d<u.length;d++)c+=a(u[d].toString(16));return c}e.toHex=o,e.encode=function(c,d){return d==="hex"?o(c):c}})(utils$l);(function(t){var e=t,n=bnExports,a=minimalisticAssert,o=utils$l;e.assert=a,e.toArray=o.toArray,e.zero2=o.zero2,e.toHex=o.toHex,e.encode=o.encode;function u(y,b,_){var w=new Array(Math.max(y.bitLength(),_)+1);w.fill(0);for(var E=1<<b+1,$=y.clone(),C=0;C<w.length;C++){var P,z=$.andln(E-1);$.isOdd()?(z>(E>>1)-1?P=(E>>1)-z:P=z,$.isubn(P)):P=0,w[C]=P,$.iushrn(1)}return w}e.getNAF=u;function c(y,b){var _=[[],[]];y=y.clone(),b=b.clone();for(var w=0,E=0,$;y.cmpn(-w)>0||b.cmpn(-E)>0;){var C=y.andln(3)+w&3,P=b.andln(3)+E&3;C===3&&(C=-1),P===3&&(P=-1);var z;C&1?($=y.andln(7)+w&7,($===3||$===5)&&P===2?z=-C:z=C):z=0,_[0].push(z);var J;P&1?($=b.andln(7)+E&7,($===3||$===5)&&C===2?J=-P:J=P):J=0,_[1].push(J),2*w===z+1&&(w=1-w),2*E===J+1&&(E=1-E),y.iushrn(1),b.iushrn(1)}return _}e.getJSF=c;function d(y,b,_){var w="_"+b;y.prototype[b]=function(){return this[w]!==void 0?this[w]:this[w]=_.call(this)}}e.cachedProperty=d;function p(y){return typeof y=="string"?e.toArray(y,"hex"):y}e.parseBytes=p;function v(y){return new n(y,"hex","le")}e.intFromLE=v})(utils$m);var curve={},BN$6=bnExports,utils$k=utils$m,getNAF=utils$k.getNAF,getJSF=utils$k.getJSF,assert$d=utils$k.assert;function BaseCurve(t,e){this.type=t,this.p=new BN$6(e.p,16),this.red=e.prime?BN$6.red(e.prime):BN$6.mont(this.p),this.zero=new BN$6(0).toRed(this.red),this.one=new BN$6(1).toRed(this.red),this.two=new BN$6(2).toRed(this.red),this.n=e.n&&new BN$6(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base$1=BaseCurve;BaseCurve.prototype.point=function t(){throw new Error("Not implemented")};BaseCurve.prototype.validate=function t(){throw new Error("Not implemented")};BaseCurve.prototype._fixedNafMul=function t(e,n){assert$d(e.precomputed);var a=e._getDoubles(),o=getNAF(n,1,this._bitLength),u=(1<<a.step+1)-(a.step%2===0?2:1);u/=3;var c=[],d,p;for(d=0;d<o.length;d+=a.step){p=0;for(var v=d+a.step-1;v>=d;v--)p=(p<<1)+o[v];c.push(p)}for(var y=this.jpoint(null,null,null),b=this.jpoint(null,null,null),_=u;_>0;_--){for(d=0;d<c.length;d++)p=c[d],p===_?b=b.mixedAdd(a.points[d]):p===-_&&(b=b.mixedAdd(a.points[d].neg()));y=y.add(b)}return y.toP()};BaseCurve.prototype._wnafMul=function t(e,n){var a=4,o=e._getNAFPoints(a);a=o.wnd;for(var u=o.points,c=getNAF(n,a,this._bitLength),d=this.jpoint(null,null,null),p=c.length-1;p>=0;p--){for(var v=0;p>=0&&c[p]===0;p--)v++;if(p>=0&&v++,d=d.dblp(v),p<0)break;var y=c[p];assert$d(y!==0),e.type==="affine"?y>0?d=d.mixedAdd(u[y-1>>1]):d=d.mixedAdd(u[-y-1>>1].neg()):y>0?d=d.add(u[y-1>>1]):d=d.add(u[-y-1>>1].neg())}return e.type==="affine"?d.toP():d};BaseCurve.prototype._wnafMulAdd=function t(e,n,a,o,u){var c=this._wnafT1,d=this._wnafT2,p=this._wnafT3,v=0,y,b,_;for(y=0;y<o;y++){_=n[y];var w=_._getNAFPoints(e);c[y]=w.wnd,d[y]=w.points}for(y=o-1;y>=1;y-=2){var E=y-1,$=y;if(c[E]!==1||c[$]!==1){p[E]=getNAF(a[E],c[E],this._bitLength),p[$]=getNAF(a[$],c[$],this._bitLength),v=Math.max(p[E].length,v),v=Math.max(p[$].length,v);continue}var C=[n[E],null,null,n[$]];n[E].y.cmp(n[$].y)===0?(C[1]=n[E].add(n[$]),C[2]=n[E].toJ().mixedAdd(n[$].neg())):n[E].y.cmp(n[$].y.redNeg())===0?(C[1]=n[E].toJ().mixedAdd(n[$]),C[2]=n[E].add(n[$].neg())):(C[1]=n[E].toJ().mixedAdd(n[$]),C[2]=n[E].toJ().mixedAdd(n[$].neg()));var P=[-3,-1,-5,-7,0,7,5,1,3],z=getJSF(a[E],a[$]);for(v=Math.max(z[0].length,v),p[E]=new Array(v),p[$]=new Array(v),b=0;b<v;b++){var J=z[0][b]|0,X=z[1][b]|0;p[E][b]=P[(J+1)*3+(X+1)],p[$][b]=0,d[E]=C}}var re=this.jpoint(null,null,null),de=this._wnafT4;for(y=v;y>=0;y--){for(var xe=0;y>=0;){var $e=!0;for(b=0;b<o;b++)de[b]=p[b][y]|0,de[b]!==0&&($e=!1);if(!$e)break;xe++,y--}if(y>=0&&xe++,re=re.dblp(xe),y<0)break;for(b=0;b<o;b++){var Pe=de[b];Pe!==0&&(Pe>0?_=d[b][Pe-1>>1]:Pe<0&&(_=d[b][-Pe-1>>1].neg()),_.type==="affine"?re=re.mixedAdd(_):re=re.add(_))}}for(y=0;y<o;y++)d[y]=null;return u?re:re.toP()};function BasePoint(t,e){this.curve=t,this.type=e,this.precomputed=null}BaseCurve.BasePoint=BasePoint;BasePoint.prototype.eq=function t(){throw new Error("Not implemented")};BasePoint.prototype.validate=function t(){return this.curve.validate(this)};BaseCurve.prototype.decodePoint=function t(e,n){e=utils$k.toArray(e,n);var a=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*a){e[0]===6?assert$d(e[e.length-1]%2===0):e[0]===7&&assert$d(e[e.length-1]%2===1);var o=this.point(e.slice(1,1+a),e.slice(1+a,1+2*a));return o}else if((e[0]===2||e[0]===3)&&e.length-1===a)return this.pointFromX(e.slice(1,1+a),e[0]===3);throw new Error("Unknown point format")};BasePoint.prototype.encodeCompressed=function t(e){return this.encode(e,!0)};BasePoint.prototype._encode=function t(e){var n=this.curve.p.byteLength(),a=this.getX().toArray("be",n);return e?[this.getY().isEven()?2:3].concat(a):[4].concat(a,this.getY().toArray("be",n))};BasePoint.prototype.encode=function t(e,n){return utils$k.encode(this._encode(n),e)};BasePoint.prototype.precompute=function t(e){if(this.precomputed)return this;var n={doubles:null,naf:null,beta:null};return n.naf=this._getNAFPoints(8),n.doubles=this._getDoubles(4,e),n.beta=this._getBeta(),this.precomputed=n,this};BasePoint.prototype._hasDoubles=function t(e){if(!this.precomputed)return!1;var n=this.precomputed.doubles;return n?n.points.length>=Math.ceil((e.bitLength()+1)/n.step):!1};BasePoint.prototype._getDoubles=function t(e,n){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var a=[this],o=this,u=0;u<n;u+=e){for(var c=0;c<e;c++)o=o.dbl();a.push(o)}return{step:e,points:a}};BasePoint.prototype._getNAFPoints=function t(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var n=[this],a=(1<<e)-1,o=a===1?null:this.dbl(),u=1;u<a;u++)n[u]=n[u-1].add(o);return{wnd:e,points:n}};BasePoint.prototype._getBeta=function t(){return null};BasePoint.prototype.dblp=function t(e){for(var n=this,a=0;a<e;a++)n=n.dbl();return n};var utils$j=utils$m,BN$5=bnExports,inherits$3=inherits_browserExports,Base$2=base$1,assert$c=utils$j.assert;function ShortCurve(t){Base$2.call(this,"short",t),this.a=new BN$5(t.a,16).toRed(this.red),this.b=new BN$5(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits$3(ShortCurve,Base$2);var short=ShortCurve;ShortCurve.prototype._getEndomorphism=function t(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var n,a;if(e.beta)n=new BN$5(e.beta,16).toRed(this.red);else{var o=this._getEndoRoots(this.p);n=o[0].cmp(o[1])<0?o[0]:o[1],n=n.toRed(this.red)}if(e.lambda)a=new BN$5(e.lambda,16);else{var u=this._getEndoRoots(this.n);this.g.mul(u[0]).x.cmp(this.g.x.redMul(n))===0?a=u[0]:(a=u[1],assert$c(this.g.mul(a).x.cmp(this.g.x.redMul(n))===0))}var c;return e.basis?c=e.basis.map(function(d){return{a:new BN$5(d.a,16),b:new BN$5(d.b,16)}}):c=this._getEndoBasis(a),{beta:n,lambda:a,basis:c}}};ShortCurve.prototype._getEndoRoots=function t(e){var n=e===this.p?this.red:BN$5.mont(e),a=new BN$5(2).toRed(n).redInvm(),o=a.redNeg(),u=new BN$5(3).toRed(n).redNeg().redSqrt().redMul(a),c=o.redAdd(u).fromRed(),d=o.redSub(u).fromRed();return[c,d]};ShortCurve.prototype._getEndoBasis=function t(e){for(var n=this.n.ushrn(Math.floor(this.n.bitLength()/2)),a=e,o=this.n.clone(),u=new BN$5(1),c=new BN$5(0),d=new BN$5(0),p=new BN$5(1),v,y,b,_,w,E,$,C=0,P,z;a.cmpn(0)!==0;){var J=o.div(a);P=o.sub(J.mul(a)),z=d.sub(J.mul(u));var X=p.sub(J.mul(c));if(!b&&P.cmp(n)<0)v=$.neg(),y=u,b=P.neg(),_=z;else if(b&&++C===2)break;$=P,o=a,a=P,d=u,u=z,p=c,c=X}w=P.neg(),E=z;var re=b.sqr().add(_.sqr()),de=w.sqr().add(E.sqr());return de.cmp(re)>=0&&(w=v,E=y),b.negative&&(b=b.neg(),_=_.neg()),w.negative&&(w=w.neg(),E=E.neg()),[{a:b,b:_},{a:w,b:E}]};ShortCurve.prototype._endoSplit=function t(e){var n=this.endo.basis,a=n[0],o=n[1],u=o.b.mul(e).divRound(this.n),c=a.b.neg().mul(e).divRound(this.n),d=u.mul(a.a),p=c.mul(o.a),v=u.mul(a.b),y=c.mul(o.b),b=e.sub(d).sub(p),_=v.add(y).neg();return{k1:b,k2:_}};ShortCurve.prototype.pointFromX=function t(e,n){e=new BN$5(e,16),e.red||(e=e.toRed(this.red));var a=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),o=a.redSqrt();if(o.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");var u=o.fromRed().isOdd();return(n&&!u||!n&&u)&&(o=o.redNeg()),this.point(e,o)};ShortCurve.prototype.validate=function t(e){if(e.inf)return!0;var n=e.x,a=e.y,o=this.a.redMul(n),u=n.redSqr().redMul(n).redIAdd(o).redIAdd(this.b);return a.redSqr().redISub(u).cmpn(0)===0};ShortCurve.prototype._endoWnafMulAdd=function t(e,n,a){for(var o=this._endoWnafT1,u=this._endoWnafT2,c=0;c<e.length;c++){var d=this._endoSplit(n[c]),p=e[c],v=p._getBeta();d.k1.negative&&(d.k1.ineg(),p=p.neg(!0)),d.k2.negative&&(d.k2.ineg(),v=v.neg(!0)),o[c*2]=p,o[c*2+1]=v,u[c*2]=d.k1,u[c*2+1]=d.k2}for(var y=this._wnafMulAdd(1,o,u,c*2,a),b=0;b<c*2;b++)o[b]=null,u[b]=null;return y};function Point$2(t,e,n,a){Base$2.BasePoint.call(this,t,"affine"),e===null&&n===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN$5(e,16),this.y=new BN$5(n,16),a&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}inherits$3(Point$2,Base$2.BasePoint);ShortCurve.prototype.point=function t(e,n,a){return new Point$2(this,e,n,a)};ShortCurve.prototype.pointFromJSON=function t(e,n){return Point$2.fromJSON(this,e,n)};Point$2.prototype._getBeta=function t(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var n=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var a=this.curve,o=function(u){return a.point(u.x.redMul(a.endo.beta),u.y)};e.beta=n,n.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(o)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(o)}}}return n}};Point$2.prototype.toJSON=function t(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Point$2.fromJSON=function t(e,n,a){typeof n=="string"&&(n=JSON.parse(n));var o=e.point(n[0],n[1],a);if(!n[2])return o;function u(d){return e.point(d[0],d[1],a)}var c=n[2];return o.precomputed={beta:null,doubles:c.doubles&&{step:c.doubles.step,points:[o].concat(c.doubles.points.map(u))},naf:c.naf&&{wnd:c.naf.wnd,points:[o].concat(c.naf.points.map(u))}},o};Point$2.prototype.inspect=function t(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point$2.prototype.isInfinity=function t(){return this.inf};Point$2.prototype.add=function t(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var n=this.y.redSub(e.y);n.cmpn(0)!==0&&(n=n.redMul(this.x.redSub(e.x).redInvm()));var a=n.redSqr().redISub(this.x).redISub(e.x),o=n.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)};Point$2.prototype.dbl=function t(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var n=this.curve.a,a=this.x.redSqr(),o=e.redInvm(),u=a.redAdd(a).redIAdd(a).redIAdd(n).redMul(o),c=u.redSqr().redISub(this.x.redAdd(this.x)),d=u.redMul(this.x.redSub(c)).redISub(this.y);return this.curve.point(c,d)};Point$2.prototype.getX=function t(){return this.x.fromRed()};Point$2.prototype.getY=function t(){return this.y.fromRed()};Point$2.prototype.mul=function t(e){return e=new BN$5(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Point$2.prototype.mulAdd=function t(e,n,a){var o=[this,n],u=[e,a];return this.curve.endo?this.curve._endoWnafMulAdd(o,u):this.curve._wnafMulAdd(1,o,u,2)};Point$2.prototype.jmulAdd=function t(e,n,a){var o=[this,n],u=[e,a];return this.curve.endo?this.curve._endoWnafMulAdd(o,u,!0):this.curve._wnafMulAdd(1,o,u,2,!0)};Point$2.prototype.eq=function t(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Point$2.prototype.neg=function t(e){if(this.inf)return this;var n=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var a=this.precomputed,o=function(u){return u.neg()};n.precomputed={naf:a.naf&&{wnd:a.naf.wnd,points:a.naf.points.map(o)},doubles:a.doubles&&{step:a.doubles.step,points:a.doubles.points.map(o)}}}return n};Point$2.prototype.toJ=function t(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function JPoint(t,e,n,a){Base$2.BasePoint.call(this,t,"jacobian"),e===null&&n===null&&a===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN$5(0)):(this.x=new BN$5(e,16),this.y=new BN$5(n,16),this.z=new BN$5(a,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}inherits$3(JPoint,Base$2.BasePoint);ShortCurve.prototype.jpoint=function t(e,n,a){return new JPoint(this,e,n,a)};JPoint.prototype.toP=function t(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),n=e.redSqr(),a=this.x.redMul(n),o=this.y.redMul(n).redMul(e);return this.curve.point(a,o)};JPoint.prototype.neg=function t(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint.prototype.add=function t(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var n=e.z.redSqr(),a=this.z.redSqr(),o=this.x.redMul(n),u=e.x.redMul(a),c=this.y.redMul(n.redMul(e.z)),d=e.y.redMul(a.redMul(this.z)),p=o.redSub(u),v=c.redSub(d);if(p.cmpn(0)===0)return v.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var y=p.redSqr(),b=y.redMul(p),_=o.redMul(y),w=v.redSqr().redIAdd(b).redISub(_).redISub(_),E=v.redMul(_.redISub(w)).redISub(c.redMul(b)),$=this.z.redMul(e.z).redMul(p);return this.curve.jpoint(w,E,$)};JPoint.prototype.mixedAdd=function t(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var n=this.z.redSqr(),a=this.x,o=e.x.redMul(n),u=this.y,c=e.y.redMul(n).redMul(this.z),d=a.redSub(o),p=u.redSub(c);if(d.cmpn(0)===0)return p.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var v=d.redSqr(),y=v.redMul(d),b=a.redMul(v),_=p.redSqr().redIAdd(y).redISub(b).redISub(b),w=p.redMul(b.redISub(_)).redISub(u.redMul(y)),E=this.z.redMul(d);return this.curve.jpoint(_,w,E)};JPoint.prototype.dblp=function t(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var n;if(this.curve.zeroA||this.curve.threeA){var a=this;for(n=0;n<e;n++)a=a.dbl();return a}var o=this.curve.a,u=this.curve.tinv,c=this.x,d=this.y,p=this.z,v=p.redSqr().redSqr(),y=d.redAdd(d);for(n=0;n<e;n++){var b=c.redSqr(),_=y.redSqr(),w=_.redSqr(),E=b.redAdd(b).redIAdd(b).redIAdd(o.redMul(v)),$=c.redMul(_),C=E.redSqr().redISub($.redAdd($)),P=$.redISub(C),z=E.redMul(P);z=z.redIAdd(z).redISub(w);var J=y.redMul(p);n+1<e&&(v=v.redMul(w)),c=C,p=J,y=z}return this.curve.jpoint(c,y.redMul(u),p)};JPoint.prototype.dbl=function t(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};JPoint.prototype._zeroDbl=function t(){var e,n,a;if(this.zOne){var o=this.x.redSqr(),u=this.y.redSqr(),c=u.redSqr(),d=this.x.redAdd(u).redSqr().redISub(o).redISub(c);d=d.redIAdd(d);var p=o.redAdd(o).redIAdd(o),v=p.redSqr().redISub(d).redISub(d),y=c.redIAdd(c);y=y.redIAdd(y),y=y.redIAdd(y),e=v,n=p.redMul(d.redISub(v)).redISub(y),a=this.y.redAdd(this.y)}else{var b=this.x.redSqr(),_=this.y.redSqr(),w=_.redSqr(),E=this.x.redAdd(_).redSqr().redISub(b).redISub(w);E=E.redIAdd(E);var $=b.redAdd(b).redIAdd(b),C=$.redSqr(),P=w.redIAdd(w);P=P.redIAdd(P),P=P.redIAdd(P),e=C.redISub(E).redISub(E),n=$.redMul(E.redISub(e)).redISub(P),a=this.y.redMul(this.z),a=a.redIAdd(a)}return this.curve.jpoint(e,n,a)};JPoint.prototype._threeDbl=function t(){var e,n,a;if(this.zOne){var o=this.x.redSqr(),u=this.y.redSqr(),c=u.redSqr(),d=this.x.redAdd(u).redSqr().redISub(o).redISub(c);d=d.redIAdd(d);var p=o.redAdd(o).redIAdd(o).redIAdd(this.curve.a),v=p.redSqr().redISub(d).redISub(d);e=v;var y=c.redIAdd(c);y=y.redIAdd(y),y=y.redIAdd(y),n=p.redMul(d.redISub(v)).redISub(y),a=this.y.redAdd(this.y)}else{var b=this.z.redSqr(),_=this.y.redSqr(),w=this.x.redMul(_),E=this.x.redSub(b).redMul(this.x.redAdd(b));E=E.redAdd(E).redIAdd(E);var $=w.redIAdd(w);$=$.redIAdd($);var C=$.redAdd($);e=E.redSqr().redISub(C),a=this.y.redAdd(this.z).redSqr().redISub(_).redISub(b);var P=_.redSqr();P=P.redIAdd(P),P=P.redIAdd(P),P=P.redIAdd(P),n=E.redMul($.redISub(e)).redISub(P)}return this.curve.jpoint(e,n,a)};JPoint.prototype._dbl=function t(){var e=this.curve.a,n=this.x,a=this.y,o=this.z,u=o.redSqr().redSqr(),c=n.redSqr(),d=a.redSqr(),p=c.redAdd(c).redIAdd(c).redIAdd(e.redMul(u)),v=n.redAdd(n);v=v.redIAdd(v);var y=v.redMul(d),b=p.redSqr().redISub(y.redAdd(y)),_=y.redISub(b),w=d.redSqr();w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w);var E=p.redMul(_).redISub(w),$=a.redAdd(a).redMul(o);return this.curve.jpoint(b,E,$)};JPoint.prototype.trpl=function t(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),n=this.y.redSqr(),a=this.z.redSqr(),o=n.redSqr(),u=e.redAdd(e).redIAdd(e),c=u.redSqr(),d=this.x.redAdd(n).redSqr().redISub(e).redISub(o);d=d.redIAdd(d),d=d.redAdd(d).redIAdd(d),d=d.redISub(c);var p=d.redSqr(),v=o.redIAdd(o);v=v.redIAdd(v),v=v.redIAdd(v),v=v.redIAdd(v);var y=u.redIAdd(d).redSqr().redISub(c).redISub(p).redISub(v),b=n.redMul(y);b=b.redIAdd(b),b=b.redIAdd(b);var _=this.x.redMul(p).redISub(b);_=_.redIAdd(_),_=_.redIAdd(_);var w=this.y.redMul(y.redMul(v.redISub(y)).redISub(d.redMul(p)));w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w);var E=this.z.redAdd(d).redSqr().redISub(a).redISub(p);return this.curve.jpoint(_,w,E)};JPoint.prototype.mul=function t(e,n){return e=new BN$5(e,n),this.curve._wnafMul(this,e)};JPoint.prototype.eq=function t(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var n=this.z.redSqr(),a=e.z.redSqr();if(this.x.redMul(a).redISub(e.x.redMul(n)).cmpn(0)!==0)return!1;var o=n.redMul(this.z),u=a.redMul(e.z);return this.y.redMul(u).redISub(e.y.redMul(o)).cmpn(0)===0};JPoint.prototype.eqXToP=function t(e){var n=this.z.redSqr(),a=e.toRed(this.curve.red).redMul(n);if(this.x.cmp(a)===0)return!0;for(var o=e.clone(),u=this.curve.redN.redMul(n);;){if(o.iadd(this.curve.n),o.cmp(this.curve.p)>=0)return!1;if(a.redIAdd(u),this.x.cmp(a)===0)return!0}};JPoint.prototype.inspect=function t(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint.prototype.isInfinity=function t(){return this.z.cmpn(0)===0};var BN$4=bnExports,inherits$2=inherits_browserExports,Base$1=base$1,utils$i=utils$m;function MontCurve(t){Base$1.call(this,"mont",t),this.a=new BN$4(t.a,16).toRed(this.red),this.b=new BN$4(t.b,16).toRed(this.red),this.i4=new BN$4(4).toRed(this.red).redInvm(),this.two=new BN$4(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}inherits$2(MontCurve,Base$1);var mont=MontCurve;MontCurve.prototype.validate=function t(e){var n=e.normalize().x,a=n.redSqr(),o=a.redMul(n).redAdd(a.redMul(this.a)).redAdd(n),u=o.redSqrt();return u.redSqr().cmp(o)===0};function Point$1(t,e,n){Base$1.BasePoint.call(this,t,"projective"),e===null&&n===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new BN$4(e,16),this.z=new BN$4(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}inherits$2(Point$1,Base$1.BasePoint);MontCurve.prototype.decodePoint=function t(e,n){return this.point(utils$i.toArray(e,n),1)};MontCurve.prototype.point=function t(e,n){return new Point$1(this,e,n)};MontCurve.prototype.pointFromJSON=function t(e){return Point$1.fromJSON(this,e)};Point$1.prototype.precompute=function t(){};Point$1.prototype._encode=function t(){return this.getX().toArray("be",this.curve.p.byteLength())};Point$1.fromJSON=function t(e,n){return new Point$1(e,n[0],n[1]||e.one)};Point$1.prototype.inspect=function t(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point$1.prototype.isInfinity=function t(){return this.z.cmpn(0)===0};Point$1.prototype.dbl=function t(){var e=this.x.redAdd(this.z),n=e.redSqr(),a=this.x.redSub(this.z),o=a.redSqr(),u=n.redSub(o),c=n.redMul(o),d=u.redMul(o.redAdd(this.curve.a24.redMul(u)));return this.curve.point(c,d)};Point$1.prototype.add=function t(){throw new Error("Not supported on Montgomery curve")};Point$1.prototype.diffAdd=function t(e,n){var a=this.x.redAdd(this.z),o=this.x.redSub(this.z),u=e.x.redAdd(e.z),c=e.x.redSub(e.z),d=c.redMul(a),p=u.redMul(o),v=n.z.redMul(d.redAdd(p).redSqr()),y=n.x.redMul(d.redISub(p).redSqr());return this.curve.point(v,y)};Point$1.prototype.mul=function t(e){for(var n=e.clone(),a=this,o=this.curve.point(null,null),u=this,c=[];n.cmpn(0)!==0;n.iushrn(1))c.push(n.andln(1));for(var d=c.length-1;d>=0;d--)c[d]===0?(a=a.diffAdd(o,u),o=o.dbl()):(o=a.diffAdd(o,u),a=a.dbl());return o};Point$1.prototype.mulAdd=function t(){throw new Error("Not supported on Montgomery curve")};Point$1.prototype.jumlAdd=function t(){throw new Error("Not supported on Montgomery curve")};Point$1.prototype.eq=function t(e){return this.getX().cmp(e.getX())===0};Point$1.prototype.normalize=function t(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Point$1.prototype.getX=function t(){return this.normalize(),this.x.fromRed()};var utils$h=utils$m,BN$3=bnExports,inherits$1=inherits_browserExports,Base=base$1,assert$b=utils$h.assert;function EdwardsCurve(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,Base.call(this,"edwards",t),this.a=new BN$3(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new BN$3(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new BN$3(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),assert$b(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}inherits$1(EdwardsCurve,Base);var edwards=EdwardsCurve;EdwardsCurve.prototype._mulA=function t(e){return this.mOneA?e.redNeg():this.a.redMul(e)};EdwardsCurve.prototype._mulC=function t(e){return this.oneC?e:this.c.redMul(e)};EdwardsCurve.prototype.jpoint=function t(e,n,a,o){return this.point(e,n,a,o)};EdwardsCurve.prototype.pointFromX=function t(e,n){e=new BN$3(e,16),e.red||(e=e.toRed(this.red));var a=e.redSqr(),o=this.c2.redSub(this.a.redMul(a)),u=this.one.redSub(this.c2.redMul(this.d).redMul(a)),c=o.redMul(u.redInvm()),d=c.redSqrt();if(d.redSqr().redSub(c).cmp(this.zero)!==0)throw new Error("invalid point");var p=d.fromRed().isOdd();return(n&&!p||!n&&p)&&(d=d.redNeg()),this.point(e,d)};EdwardsCurve.prototype.pointFromY=function t(e,n){e=new BN$3(e,16),e.red||(e=e.toRed(this.red));var a=e.redSqr(),o=a.redSub(this.c2),u=a.redMul(this.d).redMul(this.c2).redSub(this.a),c=o.redMul(u.redInvm());if(c.cmp(this.zero)===0){if(n)throw new Error("invalid point");return this.point(this.zero,e)}var d=c.redSqrt();if(d.redSqr().redSub(c).cmp(this.zero)!==0)throw new Error("invalid point");return d.fromRed().isOdd()!==n&&(d=d.redNeg()),this.point(d,e)};EdwardsCurve.prototype.validate=function t(e){if(e.isInfinity())return!0;e.normalize();var n=e.x.redSqr(),a=e.y.redSqr(),o=n.redMul(this.a).redAdd(a),u=this.c2.redMul(this.one.redAdd(this.d.redMul(n).redMul(a)));return o.cmp(u)===0};function Point(t,e,n,a,o){Base.BasePoint.call(this,t,"projective"),e===null&&n===null&&a===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new BN$3(e,16),this.y=new BN$3(n,16),this.z=a?new BN$3(a,16):this.curve.one,this.t=o&&new BN$3(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}inherits$1(Point,Base.BasePoint);EdwardsCurve.prototype.pointFromJSON=function t(e){return Point.fromJSON(this,e)};EdwardsCurve.prototype.point=function t(e,n,a,o){return new Point(this,e,n,a,o)};Point.fromJSON=function t(e,n){return new Point(e,n[0],n[1],n[2])};Point.prototype.inspect=function t(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function t(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Point.prototype._extDbl=function t(){var e=this.x.redSqr(),n=this.y.redSqr(),a=this.z.redSqr();a=a.redIAdd(a);var o=this.curve._mulA(e),u=this.x.redAdd(this.y).redSqr().redISub(e).redISub(n),c=o.redAdd(n),d=c.redSub(a),p=o.redSub(n),v=u.redMul(d),y=c.redMul(p),b=u.redMul(p),_=d.redMul(c);return this.curve.point(v,y,_,b)};Point.prototype._projDbl=function t(){var e=this.x.redAdd(this.y).redSqr(),n=this.x.redSqr(),a=this.y.redSqr(),o,u,c,d,p,v;if(this.curve.twisted){d=this.curve._mulA(n);var y=d.redAdd(a);this.zOne?(o=e.redSub(n).redSub(a).redMul(y.redSub(this.curve.two)),u=y.redMul(d.redSub(a)),c=y.redSqr().redSub(y).redSub(y)):(p=this.z.redSqr(),v=y.redSub(p).redISub(p),o=e.redSub(n).redISub(a).redMul(v),u=y.redMul(d.redSub(a)),c=y.redMul(v))}else d=n.redAdd(a),p=this.curve._mulC(this.z).redSqr(),v=d.redSub(p).redSub(p),o=this.curve._mulC(e.redISub(d)).redMul(v),u=this.curve._mulC(d).redMul(n.redISub(a)),c=d.redMul(v);return this.curve.point(o,u,c)};Point.prototype.dbl=function t(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Point.prototype._extAdd=function t(e){var n=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),a=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),o=this.t.redMul(this.curve.dd).redMul(e.t),u=this.z.redMul(e.z.redAdd(e.z)),c=a.redSub(n),d=u.redSub(o),p=u.redAdd(o),v=a.redAdd(n),y=c.redMul(d),b=p.redMul(v),_=c.redMul(v),w=d.redMul(p);return this.curve.point(y,b,w,_)};Point.prototype._projAdd=function t(e){var n=this.z.redMul(e.z),a=n.redSqr(),o=this.x.redMul(e.x),u=this.y.redMul(e.y),c=this.curve.d.redMul(o).redMul(u),d=a.redSub(c),p=a.redAdd(c),v=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(u),y=n.redMul(d).redMul(v),b,_;return this.curve.twisted?(b=n.redMul(p).redMul(u.redSub(this.curve._mulA(o))),_=d.redMul(p)):(b=n.redMul(p).redMul(u.redSub(o)),_=this.curve._mulC(d).redMul(p)),this.curve.point(y,b,_)};Point.prototype.add=function t(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Point.prototype.mul=function t(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Point.prototype.mulAdd=function t(e,n,a){return this.curve._wnafMulAdd(1,[this,n],[e,a],2,!1)};Point.prototype.jmulAdd=function t(e,n,a){return this.curve._wnafMulAdd(1,[this,n],[e,a],2,!0)};Point.prototype.normalize=function t(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Point.prototype.neg=function t(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Point.prototype.getX=function t(){return this.normalize(),this.x.fromRed()};Point.prototype.getY=function t(){return this.normalize(),this.y.fromRed()};Point.prototype.eq=function t(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Point.prototype.eqXToP=function t(e){var n=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(n)===0)return!0;for(var a=e.clone(),o=this.curve.redN.redMul(this.z);;){if(a.iadd(this.curve.n),a.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(o),this.x.cmp(n)===0)return!0}};Point.prototype.toP=Point.prototype.normalize;Point.prototype.mixedAdd=Point.prototype.add;(function(t){var e=t;e.base=base$1,e.short=short,e.mont=mont,e.edwards=edwards})(curve);var curves$1={},hash$3={},utils$g={},assert$a=minimalisticAssert,inherits=inherits_browserExports;utils$g.inherits=inherits;function isSurrogatePair(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function toArray(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),o=0;o<t.length;o+=2)n.push(parseInt(t[o]+t[o+1],16))}else for(var a=0,o=0;o<t.length;o++){var u=t.charCodeAt(o);u<128?n[a++]=u:u<2048?(n[a++]=u>>6|192,n[a++]=u&63|128):isSurrogatePair(t,o)?(u=65536+((u&1023)<<10)+(t.charCodeAt(++o)&1023),n[a++]=u>>18|240,n[a++]=u>>12&63|128,n[a++]=u>>6&63|128,n[a++]=u&63|128):(n[a++]=u>>12|224,n[a++]=u>>6&63|128,n[a++]=u&63|128)}else for(o=0;o<t.length;o++)n[o]=t[o]|0;return n}utils$g.toArray=toArray;function toHex$1(t){for(var e="",n=0;n<t.length;n++)e+=zero2(t[n].toString(16));return e}utils$g.toHex=toHex$1;function htonl(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}utils$g.htonl=htonl;function toHex32(t,e){for(var n="",a=0;a<t.length;a++){var o=t[a];e==="little"&&(o=htonl(o)),n+=zero8(o.toString(16))}return n}utils$g.toHex32=toHex32;function zero2(t){return t.length===1?"0"+t:t}utils$g.zero2=zero2;function zero8(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}utils$g.zero8=zero8;function join32(t,e,n,a){var o=n-e;assert$a(o%4===0);for(var u=new Array(o/4),c=0,d=e;c<u.length;c++,d+=4){var p;a==="big"?p=t[d]<<24|t[d+1]<<16|t[d+2]<<8|t[d+3]:p=t[d+3]<<24|t[d+2]<<16|t[d+1]<<8|t[d],u[c]=p>>>0}return u}utils$g.join32=join32;function split32(t,e){for(var n=new Array(t.length*4),a=0,o=0;a<t.length;a++,o+=4){var u=t[a];e==="big"?(n[o]=u>>>24,n[o+1]=u>>>16&255,n[o+2]=u>>>8&255,n[o+3]=u&255):(n[o+3]=u>>>24,n[o+2]=u>>>16&255,n[o+1]=u>>>8&255,n[o]=u&255)}return n}utils$g.split32=split32;function rotr32$1(t,e){return t>>>e|t<<32-e}utils$g.rotr32=rotr32$1;function rotl32$2(t,e){return t<<e|t>>>32-e}utils$g.rotl32=rotl32$2;function sum32$3(t,e){return t+e>>>0}utils$g.sum32=sum32$3;function sum32_3$1(t,e,n){return t+e+n>>>0}utils$g.sum32_3=sum32_3$1;function sum32_4$2(t,e,n,a){return t+e+n+a>>>0}utils$g.sum32_4=sum32_4$2;function sum32_5$2(t,e,n,a,o){return t+e+n+a+o>>>0}utils$g.sum32_5=sum32_5$2;function sum64$1(t,e,n,a){var o=t[e],u=t[e+1],c=a+u>>>0,d=(c<a?1:0)+n+o;t[e]=d>>>0,t[e+1]=c}utils$g.sum64=sum64$1;function sum64_hi$1(t,e,n,a){var o=e+a>>>0,u=(o<e?1:0)+t+n;return u>>>0}utils$g.sum64_hi=sum64_hi$1;function sum64_lo$1(t,e,n,a){var o=e+a;return o>>>0}utils$g.sum64_lo=sum64_lo$1;function sum64_4_hi$1(t,e,n,a,o,u,c,d){var p=0,v=e;v=v+a>>>0,p+=v<e?1:0,v=v+u>>>0,p+=v<u?1:0,v=v+d>>>0,p+=v<d?1:0;var y=t+n+o+c+p;return y>>>0}utils$g.sum64_4_hi=sum64_4_hi$1;function sum64_4_lo$1(t,e,n,a,o,u,c,d){var p=e+a+u+d;return p>>>0}utils$g.sum64_4_lo=sum64_4_lo$1;function sum64_5_hi$1(t,e,n,a,o,u,c,d,p,v){var y=0,b=e;b=b+a>>>0,y+=b<e?1:0,b=b+u>>>0,y+=b<u?1:0,b=b+d>>>0,y+=b<d?1:0,b=b+v>>>0,y+=b<v?1:0;var _=t+n+o+c+p+y;return _>>>0}utils$g.sum64_5_hi=sum64_5_hi$1;function sum64_5_lo$1(t,e,n,a,o,u,c,d,p,v){var y=e+a+u+d+v;return y>>>0}utils$g.sum64_5_lo=sum64_5_lo$1;function rotr64_hi$1(t,e,n){var a=e<<32-n|t>>>n;return a>>>0}utils$g.rotr64_hi=rotr64_hi$1;function rotr64_lo$1(t,e,n){var a=t<<32-n|e>>>n;return a>>>0}utils$g.rotr64_lo=rotr64_lo$1;function shr64_hi$1(t,e,n){return t>>>n}utils$g.shr64_hi=shr64_hi$1;function shr64_lo$1(t,e,n){var a=t<<32-n|e>>>n;return a>>>0}utils$g.shr64_lo=shr64_lo$1;var common$6={},utils$f=utils$g,assert$9=minimalisticAssert;function BlockHash$4(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}common$6.BlockHash=BlockHash$4;BlockHash$4.prototype.update=function t(e,n){if(e=utils$f.toArray(e,n),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var a=e.length%this._delta8;this.pending=e.slice(e.length-a,e.length),this.pending.length===0&&(this.pending=null),e=utils$f.join32(e,0,e.length-a,this.endian);for(var o=0;o<e.length;o+=this._delta32)this._update(e,o,o+this._delta32)}return this};BlockHash$4.prototype.digest=function t(e){return this.update(this._pad()),assert$9(this.pending===null),this._digest(e)};BlockHash$4.prototype._pad=function t(){var e=this.pendingTotal,n=this._delta8,a=n-(e+this.padLength)%n,o=new Array(a+this.padLength);o[0]=128;for(var u=1;u<a;u++)o[u]=0;if(e<<=3,this.endian==="big"){for(var c=8;c<this.padLength;c++)o[u++]=0;o[u++]=0,o[u++]=0,o[u++]=0,o[u++]=0,o[u++]=e>>>24&255,o[u++]=e>>>16&255,o[u++]=e>>>8&255,o[u++]=e&255}else for(o[u++]=e&255,o[u++]=e>>>8&255,o[u++]=e>>>16&255,o[u++]=e>>>24&255,o[u++]=0,o[u++]=0,o[u++]=0,o[u++]=0,c=8;c<this.padLength;c++)o[u++]=0;return o};var sha={},common$5={},utils$e=utils$g,rotr32=utils$e.rotr32;function ft_1$1(t,e,n,a){if(t===0)return ch32$1(e,n,a);if(t===1||t===3)return p32(e,n,a);if(t===2)return maj32$1(e,n,a)}common$5.ft_1=ft_1$1;function ch32$1(t,e,n){return t&e^~t&n}common$5.ch32=ch32$1;function maj32$1(t,e,n){return t&e^t&n^e&n}common$5.maj32=maj32$1;function p32(t,e,n){return t^e^n}common$5.p32=p32;function s0_256$1(t){return rotr32(t,2)^rotr32(t,13)^rotr32(t,22)}common$5.s0_256=s0_256$1;function s1_256$1(t){return rotr32(t,6)^rotr32(t,11)^rotr32(t,25)}common$5.s1_256=s1_256$1;function g0_256$1(t){return rotr32(t,7)^rotr32(t,18)^t>>>3}common$5.g0_256=g0_256$1;function g1_256$1(t){return rotr32(t,17)^rotr32(t,19)^t>>>10}common$5.g1_256=g1_256$1;var utils$d=utils$g,common$4=common$6,shaCommon$1=common$5,rotl32$1=utils$d.rotl32,sum32$2=utils$d.sum32,sum32_5$1=utils$d.sum32_5,ft_1=shaCommon$1.ft_1,BlockHash$3=common$4.BlockHash,sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash$3.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}utils$d.inherits(SHA1,BlockHash$3);var _1=SHA1;SHA1.blockSize=512;SHA1.outSize=160;SHA1.hmacStrength=80;SHA1.padLength=64;SHA1.prototype._update=function t(e,n){for(var a=this.W,o=0;o<16;o++)a[o]=e[n+o];for(;o<a.length;o++)a[o]=rotl32$1(a[o-3]^a[o-8]^a[o-14]^a[o-16],1);var u=this.h[0],c=this.h[1],d=this.h[2],p=this.h[3],v=this.h[4];for(o=0;o<a.length;o++){var y=~~(o/20),b=sum32_5$1(rotl32$1(u,5),ft_1(y,c,d,p),v,a[o],sha1_K[y]);v=p,p=d,d=rotl32$1(c,30),c=u,u=b}this.h[0]=sum32$2(this.h[0],u),this.h[1]=sum32$2(this.h[1],c),this.h[2]=sum32$2(this.h[2],d),this.h[3]=sum32$2(this.h[3],p),this.h[4]=sum32$2(this.h[4],v)};SHA1.prototype._digest=function t(e){return e==="hex"?utils$d.toHex32(this.h,"big"):utils$d.split32(this.h,"big")};var utils$c=utils$g,common$3=common$6,shaCommon=common$5,assert$8=minimalisticAssert,sum32$1=utils$c.sum32,sum32_4$1=utils$c.sum32_4,sum32_5=utils$c.sum32_5,ch32=shaCommon.ch32,maj32=shaCommon.maj32,s0_256=shaCommon.s0_256,s1_256=shaCommon.s1_256,g0_256=shaCommon.g0_256,g1_256=shaCommon.g1_256,BlockHash$2=common$3.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256$1(){if(!(this instanceof SHA256$1))return new SHA256$1;BlockHash$2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,this.W=new Array(64)}utils$c.inherits(SHA256$1,BlockHash$2);var _256=SHA256$1;SHA256$1.blockSize=512;SHA256$1.outSize=256;SHA256$1.hmacStrength=192;SHA256$1.padLength=64;SHA256$1.prototype._update=function t(e,n){for(var a=this.W,o=0;o<16;o++)a[o]=e[n+o];for(;o<a.length;o++)a[o]=sum32_4$1(g1_256(a[o-2]),a[o-7],g0_256(a[o-15]),a[o-16]);var u=this.h[0],c=this.h[1],d=this.h[2],p=this.h[3],v=this.h[4],y=this.h[5],b=this.h[6],_=this.h[7];for(assert$8(this.k.length===a.length),o=0;o<a.length;o++){var w=sum32_5(_,s1_256(v),ch32(v,y,b),this.k[o],a[o]),E=sum32$1(s0_256(u),maj32(u,c,d));_=b,b=y,y=v,v=sum32$1(p,w),p=d,d=c,c=u,u=sum32$1(w,E)}this.h[0]=sum32$1(this.h[0],u),this.h[1]=sum32$1(this.h[1],c),this.h[2]=sum32$1(this.h[2],d),this.h[3]=sum32$1(this.h[3],p),this.h[4]=sum32$1(this.h[4],v),this.h[5]=sum32$1(this.h[5],y),this.h[6]=sum32$1(this.h[6],b),this.h[7]=sum32$1(this.h[7],_)};SHA256$1.prototype._digest=function t(e){return e==="hex"?utils$c.toHex32(this.h,"big"):utils$c.split32(this.h,"big")};var utils$b=utils$g,SHA256=_256;function SHA224(){if(!(this instanceof SHA224))return new SHA224;SHA256.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils$b.inherits(SHA224,SHA256);var _224=SHA224;SHA224.blockSize=512;SHA224.outSize=224;SHA224.hmacStrength=192;SHA224.padLength=64;SHA224.prototype._digest=function t(e){return e==="hex"?utils$b.toHex32(this.h.slice(0,7),"big"):utils$b.split32(this.h.slice(0,7),"big")};var utils$a=utils$g,common$2=common$6,assert$7=minimalisticAssert,rotr64_hi=utils$a.rotr64_hi,rotr64_lo=utils$a.rotr64_lo,shr64_hi=utils$a.shr64_hi,shr64_lo=utils$a.shr64_lo,sum64=utils$a.sum64,sum64_hi=utils$a.sum64_hi,sum64_lo=utils$a.sum64_lo,sum64_4_hi=utils$a.sum64_4_hi,sum64_4_lo=utils$a.sum64_4_lo,sum64_5_hi=utils$a.sum64_5_hi,sum64_5_lo=utils$a.sum64_5_lo,BlockHash$1=common$2.BlockHash,sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512$1(){if(!(this instanceof SHA512$1))return new SHA512$1;BlockHash$1.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,this.W=new Array(160)}utils$a.inherits(SHA512$1,BlockHash$1);var _512=SHA512$1;SHA512$1.blockSize=1024;SHA512$1.outSize=512;SHA512$1.hmacStrength=192;SHA512$1.padLength=128;SHA512$1.prototype._prepareBlock=function t(e,n){for(var a=this.W,o=0;o<32;o++)a[o]=e[n+o];for(;o<a.length;o+=2){var u=g1_512_hi(a[o-4],a[o-3]),c=g1_512_lo(a[o-4],a[o-3]),d=a[o-14],p=a[o-13],v=g0_512_hi(a[o-30],a[o-29]),y=g0_512_lo(a[o-30],a[o-29]),b=a[o-32],_=a[o-31];a[o]=sum64_4_hi(u,c,d,p,v,y,b,_),a[o+1]=sum64_4_lo(u,c,d,p,v,y,b,_)}};SHA512$1.prototype._update=function t(e,n){this._prepareBlock(e,n);var a=this.W,o=this.h[0],u=this.h[1],c=this.h[2],d=this.h[3],p=this.h[4],v=this.h[5],y=this.h[6],b=this.h[7],_=this.h[8],w=this.h[9],E=this.h[10],$=this.h[11],C=this.h[12],P=this.h[13],z=this.h[14],J=this.h[15];assert$7(this.k.length===a.length);for(var X=0;X<a.length;X+=2){var re=z,de=J,xe=s1_512_hi(_,w),$e=s1_512_lo(_,w),Pe=ch64_hi(_,w,E,$,C),it=ch64_lo(_,w,E,$,C,P),fe=this.k[X],B=this.k[X+1],k=a[X],x=a[X+1],A=sum64_5_hi(re,de,xe,$e,Pe,it,fe,B,k,x),D=sum64_5_lo(re,de,xe,$e,Pe,it,fe,B,k,x);re=s0_512_hi(o,u),de=s0_512_lo(o,u),xe=maj64_hi(o,u,c,d,p),$e=maj64_lo(o,u,c,d,p,v);var q=sum64_hi(re,de,xe,$e),G=sum64_lo(re,de,xe,$e);z=C,J=P,C=E,P=$,E=_,$=w,_=sum64_hi(y,b,A,D),w=sum64_lo(b,b,A,D),y=p,b=v,p=c,v=d,c=o,d=u,o=sum64_hi(A,D,q,G),u=sum64_lo(A,D,q,G)}sum64(this.h,0,o,u),sum64(this.h,2,c,d),sum64(this.h,4,p,v),sum64(this.h,6,y,b),sum64(this.h,8,_,w),sum64(this.h,10,E,$),sum64(this.h,12,C,P),sum64(this.h,14,z,J)};SHA512$1.prototype._digest=function t(e){return e==="hex"?utils$a.toHex32(this.h,"big"):utils$a.split32(this.h,"big")};function ch64_hi(t,e,n,a,o){var u=t&n^~t&o;return u<0&&(u+=4294967296),u}function ch64_lo(t,e,n,a,o,u){var c=e&a^~e&u;return c<0&&(c+=4294967296),c}function maj64_hi(t,e,n,a,o){var u=t&n^t&o^n&o;return u<0&&(u+=4294967296),u}function maj64_lo(t,e,n,a,o,u){var c=e&a^e&u^a&u;return c<0&&(c+=4294967296),c}function s0_512_hi(t,e){var n=rotr64_hi(t,e,28),a=rotr64_hi(e,t,2),o=rotr64_hi(e,t,7),u=n^a^o;return u<0&&(u+=4294967296),u}function s0_512_lo(t,e){var n=rotr64_lo(t,e,28),a=rotr64_lo(e,t,2),o=rotr64_lo(e,t,7),u=n^a^o;return u<0&&(u+=4294967296),u}function s1_512_hi(t,e){var n=rotr64_hi(t,e,14),a=rotr64_hi(t,e,18),o=rotr64_hi(e,t,9),u=n^a^o;return u<0&&(u+=4294967296),u}function s1_512_lo(t,e){var n=rotr64_lo(t,e,14),a=rotr64_lo(t,e,18),o=rotr64_lo(e,t,9),u=n^a^o;return u<0&&(u+=4294967296),u}function g0_512_hi(t,e){var n=rotr64_hi(t,e,1),a=rotr64_hi(t,e,8),o=shr64_hi(t,e,7),u=n^a^o;return u<0&&(u+=4294967296),u}function g0_512_lo(t,e){var n=rotr64_lo(t,e,1),a=rotr64_lo(t,e,8),o=shr64_lo(t,e,7),u=n^a^o;return u<0&&(u+=4294967296),u}function g1_512_hi(t,e){var n=rotr64_hi(t,e,19),a=rotr64_hi(e,t,29),o=shr64_hi(t,e,6),u=n^a^o;return u<0&&(u+=4294967296),u}function g1_512_lo(t,e){var n=rotr64_lo(t,e,19),a=rotr64_lo(e,t,29),o=shr64_lo(t,e,6),u=n^a^o;return u<0&&(u+=4294967296),u}var utils$9=utils$g,SHA512=_512;function SHA384(){if(!(this instanceof SHA384))return new SHA384;SHA512.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils$9.inherits(SHA384,SHA512);var _384=SHA384;SHA384.blockSize=1024;SHA384.outSize=384;SHA384.hmacStrength=192;SHA384.padLength=128;SHA384.prototype._digest=function t(e){return e==="hex"?utils$9.toHex32(this.h.slice(0,12),"big"):utils$9.split32(this.h.slice(0,12),"big")};sha.sha1=_1;sha.sha224=_224;sha.sha256=_256;sha.sha384=_384;sha.sha512=_512;var ripemd={},utils$8=utils$g,common$1=common$6,rotl32=utils$8.rotl32,sum32=utils$8.sum32,sum32_3=utils$8.sum32_3,sum32_4=utils$8.sum32_4,BlockHash=common$1.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}utils$8.inherits(RIPEMD160,BlockHash);ripemd.ripemd160=RIPEMD160;RIPEMD160.blockSize=512;RIPEMD160.outSize=160;RIPEMD160.hmacStrength=192;RIPEMD160.padLength=64;RIPEMD160.prototype._update=function t(e,n){for(var a=this.h[0],o=this.h[1],u=this.h[2],c=this.h[3],d=this.h[4],p=a,v=o,y=u,b=c,_=d,w=0;w<80;w++){var E=sum32(rotl32(sum32_4(a,f(w,o,u,c),e[r[w]+n],K(w)),s[w]),d);a=d,d=c,c=rotl32(u,10),u=o,o=E,E=sum32(rotl32(sum32_4(p,f(79-w,v,y,b),e[rh[w]+n],Kh(w)),sh[w]),_),p=_,_=b,b=rotl32(y,10),y=v,v=E}E=sum32_3(this.h[1],u,b),this.h[1]=sum32_3(this.h[2],c,_),this.h[2]=sum32_3(this.h[3],d,p),this.h[3]=sum32_3(this.h[4],a,v),this.h[4]=sum32_3(this.h[0],o,y),this.h[0]=E};RIPEMD160.prototype._digest=function t(e){return e==="hex"?utils$8.toHex32(this.h,"little"):utils$8.split32(this.h,"little")};function f(t,e,n,a){return t<=15?e^n^a:t<=31?e&n|~e&a:t<=47?(e|~n)^a:t<=63?e&a|n&~a:e^(n|~a)}function K(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function Kh(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],utils$7=utils$g,assert$6=minimalisticAssert;function Hmac(t,e,n){if(!(this instanceof Hmac))return new Hmac(t,e,n);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(utils$7.toArray(e,n))}var hmac=Hmac;Hmac.prototype._init=function t(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),assert$6(e.length<=this.blockSize);for(var n=e.length;n<this.blockSize;n++)e.push(0);for(n=0;n<e.length;n++)e[n]^=54;for(this.inner=new this.Hash().update(e),n=0;n<e.length;n++)e[n]^=106;this.outer=new this.Hash().update(e)};Hmac.prototype.update=function t(e,n){return this.inner.update(e,n),this};Hmac.prototype.digest=function t(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=utils$g,e.common=common$6,e.sha=sha,e.ripemd=ripemd,e.hmac=hmac,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(hash$3);var secp256k1,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1}(function(t){var e=t,n=hash$3,a=curve,o=utils$m,u=o.assert;function c(v){v.type==="short"?this.curve=new a.short(v):v.type==="edwards"?this.curve=new a.edwards(v):this.curve=new a.mont(v),this.g=this.curve.g,this.n=this.curve.n,this.hash=v.hash,u(this.g.validate(),"Invalid curve"),u(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=c;function d(v,y){Object.defineProperty(e,v,{configurable:!0,enumerable:!0,get:function(){var b=new c(y);return Object.defineProperty(e,v,{configurable:!0,enumerable:!0,value:b}),b}})}d("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:n.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),d("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:n.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),d("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:n.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),d("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:n.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),d("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:n.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),d("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["9"]}),d("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var p;try{p=requireSecp256k1()}catch{p=void 0}d("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:n.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",p]})})(curves$1);var hash$2=hash$3,utils$6=utils$l,assert$5=minimalisticAssert;function HmacDRBG(t){if(!(this instanceof HmacDRBG))return new HmacDRBG(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=utils$6.toArray(t.entropy,t.entropyEnc||"hex"),n=utils$6.toArray(t.nonce,t.nonceEnc||"hex"),a=utils$6.toArray(t.pers,t.persEnc||"hex");assert$5(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,n,a)}var hmacDrbg=HmacDRBG;HmacDRBG.prototype._init=function t(e,n,a){var o=e.concat(n).concat(a);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var u=0;u<this.V.length;u++)this.K[u]=0,this.V[u]=1;this._update(o),this._reseed=1,this.reseedInterval=281474976710656};HmacDRBG.prototype._hmac=function t(){return new hash$2.hmac(this.hash,this.K)};HmacDRBG.prototype._update=function t(e){var n=this._hmac().update(this.V).update([0]);e&&(n=n.update(e)),this.K=n.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};HmacDRBG.prototype.reseed=function t(e,n,a,o){typeof n!="string"&&(o=a,a=n,n=null),e=utils$6.toArray(e,n),a=utils$6.toArray(a,o),assert$5(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(a||[])),this._reseed=1};HmacDRBG.prototype.generate=function t(e,n,a,o){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof n!="string"&&(o=a,a=n,n=null),a&&(a=utils$6.toArray(a,o||"hex"),this._update(a));for(var u=[];u.length<e;)this.V=this._hmac().update(this.V).digest(),u=u.concat(this.V);var c=u.slice(0,e);return this._update(a),this._reseed++,utils$6.encode(c,n)};var BN$2=bnExports,utils$5=utils$m,assert$4=utils$5.assert;function KeyPair$2(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var key$1=KeyPair$2;KeyPair$2.fromPublic=function t(e,n,a){return n instanceof KeyPair$2?n:new KeyPair$2(e,{pub:n,pubEnc:a})};KeyPair$2.fromPrivate=function t(e,n,a){return n instanceof KeyPair$2?n:new KeyPair$2(e,{priv:n,privEnc:a})};KeyPair$2.prototype.validate=function t(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};KeyPair$2.prototype.getPublic=function t(e,n){return typeof e=="string"&&(n=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),n?this.pub.encode(n,e):this.pub};KeyPair$2.prototype.getPrivate=function t(e){return e==="hex"?this.priv.toString(16,2):this.priv};KeyPair$2.prototype._importPrivate=function t(e,n){this.priv=new BN$2(e,n||16),this.priv=this.priv.umod(this.ec.curve.n)};KeyPair$2.prototype._importPublic=function t(e,n){if(e.x||e.y){this.ec.curve.type==="mont"?assert$4(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&assert$4(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,n)};KeyPair$2.prototype.derive=function t(e){return e.validate()||assert$4(e.validate(),"public point not validated"),e.mul(this.priv).getX()};KeyPair$2.prototype.sign=function t(e,n,a){return this.ec.sign(e,this,n,a)};KeyPair$2.prototype.verify=function t(e,n){return this.ec.verify(e,n,this)};KeyPair$2.prototype.inspect=function t(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var BN$1=bnExports,utils$4=utils$m,assert$3=utils$4.assert;function Signature$2(t,e){if(t instanceof Signature$2)return t;this._importDER(t,e)||(assert$3(t.r&&t.s,"Signature without r or s"),this.r=new BN$1(t.r,16),this.s=new BN$1(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var signature$1=Signature$2;function Position(){this.place=0}function getLength(t,e){var n=t[e.place++];if(!(n&128))return n;var a=n&15;if(a===0||a>4)return!1;for(var o=0,u=0,c=e.place;u<a;u++,c++)o<<=8,o|=t[c],o>>>=0;return o<=127?!1:(e.place=c,o)}function rmPadding(t){for(var e=0,n=t.length-1;!t[e]&&!(t[e+1]&128)&&e<n;)e++;return e===0?t:t.slice(e)}Signature$2.prototype._importDER=function t(e,n){e=utils$4.toArray(e,n);var a=new Position;if(e[a.place++]!==48)return!1;var o=getLength(e,a);if(o===!1||o+a.place!==e.length||e[a.place++]!==2)return!1;var u=getLength(e,a);if(u===!1)return!1;var c=e.slice(a.place,u+a.place);if(a.place+=u,e[a.place++]!==2)return!1;var d=getLength(e,a);if(d===!1||e.length!==d+a.place)return!1;var p=e.slice(a.place,d+a.place);if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;if(p[0]===0)if(p[1]&128)p=p.slice(1);else return!1;return this.r=new BN$1(c),this.s=new BN$1(p),this.recoveryParam=null,!0};function constructLength(t,e){if(e<128){t.push(e);return}var n=1+(Math.log(e)/Math.LN2>>>3);for(t.push(n|128);--n;)t.push(e>>>(n<<3)&255);t.push(e)}Signature$2.prototype.toDER=function t(e){var n=this.r.toArray(),a=this.s.toArray();for(n[0]&128&&(n=[0].concat(n)),a[0]&128&&(a=[0].concat(a)),n=rmPadding(n),a=rmPadding(a);!a[0]&&!(a[1]&128);)a=a.slice(1);var o=[2];constructLength(o,n.length),o=o.concat(n),o.push(2),constructLength(o,a.length);var u=o.concat(a),c=[48];return constructLength(c,u.length),c=c.concat(u),utils$4.encode(c,e)};var ec,hasRequiredEc;function requireEc(){if(hasRequiredEc)return ec;hasRequiredEc=1;var t=bnExports,e=hmacDrbg,n=utils$m,a=curves$1,o=requireBrorand(),u=n.assert,c=key$1,d=signature$1;function p(v){if(!(this instanceof p))return new p(v);typeof v=="string"&&(u(Object.prototype.hasOwnProperty.call(a,v),"Unknown curve "+v),v=a[v]),v instanceof a.PresetCurve&&(v={curve:v}),this.curve=v.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=v.curve.g,this.g.precompute(v.curve.n.bitLength()+1),this.hash=v.hash||v.curve.hash}return ec=p,p.prototype.keyPair=function(y){return new c(this,y)},p.prototype.keyFromPrivate=function(y,b){return c.fromPrivate(this,y,b)},p.prototype.keyFromPublic=function(y,b){return c.fromPublic(this,y,b)},p.prototype.genKeyPair=function(y){y||(y={});for(var b=new e({hash:this.hash,pers:y.pers,persEnc:y.persEnc||"utf8",entropy:y.entropy||o(this.hash.hmacStrength),entropyEnc:y.entropy&&y.entropyEnc||"utf8",nonce:this.n.toArray()}),_=this.n.byteLength(),w=this.n.sub(new t(2));;){var E=new t(b.generate(_));if(!(E.cmp(w)>0))return E.iaddn(1),this.keyFromPrivate(E)}},p.prototype._truncateToN=function(y,b){var _=y.byteLength()*8-this.n.bitLength();return _>0&&(y=y.ushrn(_)),!b&&y.cmp(this.n)>=0?y.sub(this.n):y},p.prototype.sign=function(y,b,_,w){typeof _=="object"&&(w=_,_=null),w||(w={}),b=this.keyFromPrivate(b,_),y=this._truncateToN(new t(y,16));for(var E=this.n.byteLength(),$=b.getPrivate().toArray("be",E),C=y.toArray("be",E),P=new e({hash:this.hash,entropy:$,nonce:C,pers:w.pers,persEnc:w.persEnc||"utf8"}),z=this.n.sub(new t(1)),J=0;;J++){var X=w.k?w.k(J):new t(P.generate(this.n.byteLength()));if(X=this._truncateToN(X,!0),!(X.cmpn(1)<=0||X.cmp(z)>=0)){var re=this.g.mul(X);if(!re.isInfinity()){var de=re.getX(),xe=de.umod(this.n);if(xe.cmpn(0)!==0){var $e=X.invm(this.n).mul(xe.mul(b.getPrivate()).iadd(y));if($e=$e.umod(this.n),$e.cmpn(0)!==0){var Pe=(re.getY().isOdd()?1:0)|(de.cmp(xe)!==0?2:0);return w.canonical&&$e.cmp(this.nh)>0&&($e=this.n.sub($e),Pe^=1),new d({r:xe,s:$e,recoveryParam:Pe})}}}}}},p.prototype.verify=function(y,b,_,w){y=this._truncateToN(new t(y,16)),_=this.keyFromPublic(_,w),b=new d(b,"hex");var E=b.r,$=b.s;if(E.cmpn(1)<0||E.cmp(this.n)>=0||$.cmpn(1)<0||$.cmp(this.n)>=0)return!1;var C=$.invm(this.n),P=C.mul(y).umod(this.n),z=C.mul(E).umod(this.n),J;return this.curve._maxwellTrick?(J=this.g.jmulAdd(P,_.getPublic(),z),J.isInfinity()?!1:J.eqXToP(E)):(J=this.g.mulAdd(P,_.getPublic(),z),J.isInfinity()?!1:J.getX().umod(this.n).cmp(E)===0)},p.prototype.recoverPubKey=function(v,y,b,_){u((3&b)===b,"The recovery param is more than two bits"),y=new d(y,_);var w=this.n,E=new t(v),$=y.r,C=y.s,P=b&1,z=b>>1;if($.cmp(this.curve.p.umod(this.curve.n))>=0&&z)throw new Error("Unable to find sencond key candinate");z?$=this.curve.pointFromX($.add(this.curve.n),P):$=this.curve.pointFromX($,P);var J=y.r.invm(w),X=w.sub(E).mul(J).umod(w),re=C.mul(J).umod(w);return this.g.mulAdd(X,$,re)},p.prototype.getKeyRecoveryParam=function(v,y,b,_){if(y=new d(y,_),y.recoveryParam!==null)return y.recoveryParam;for(var w=0;w<4;w++){var E;try{E=this.recoverPubKey(v,y,w)}catch{continue}if(E.eq(b))return w}throw new Error("Unable to find valid recovery factor")},ec}var utils$3=utils$m,assert$2=utils$3.assert,parseBytes$2=utils$3.parseBytes,cachedProperty$1=utils$3.cachedProperty;function KeyPair$1(t,e){this.eddsa=t,this._secret=parseBytes$2(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=parseBytes$2(e.pub)}KeyPair$1.fromPublic=function t(e,n){return n instanceof KeyPair$1?n:new KeyPair$1(e,{pub:n})};KeyPair$1.fromSecret=function t(e,n){return n instanceof KeyPair$1?n:new KeyPair$1(e,{secret:n})};KeyPair$1.prototype.secret=function t(){return this._secret};cachedProperty$1(KeyPair$1,"pubBytes",function t(){return this.eddsa.encodePoint(this.pub())});cachedProperty$1(KeyPair$1,"pub",function t(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});cachedProperty$1(KeyPair$1,"privBytes",function t(){var e=this.eddsa,n=this.hash(),a=e.encodingLength-1,o=n.slice(0,e.encodingLength);return o[0]&=248,o[a]&=127,o[a]|=64,o});cachedProperty$1(KeyPair$1,"priv",function t(){return this.eddsa.decodeInt(this.privBytes())});cachedProperty$1(KeyPair$1,"hash",function t(){return this.eddsa.hash().update(this.secret()).digest()});cachedProperty$1(KeyPair$1,"messagePrefix",function t(){return this.hash().slice(this.eddsa.encodingLength)});KeyPair$1.prototype.sign=function t(e){return assert$2(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};KeyPair$1.prototype.verify=function t(e,n){return this.eddsa.verify(e,n,this)};KeyPair$1.prototype.getSecret=function t(e){return assert$2(this._secret,"KeyPair is public only"),utils$3.encode(this.secret(),e)};KeyPair$1.prototype.getPublic=function t(e){return utils$3.encode(this.pubBytes(),e)};var key=KeyPair$1,BN=bnExports,utils$2=utils$m,assert$1=utils$2.assert,cachedProperty=utils$2.cachedProperty,parseBytes$1=utils$2.parseBytes;function Signature$1(t,e){this.eddsa=t,typeof e!="object"&&(e=parseBytes$1(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),assert$1(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof BN&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}cachedProperty(Signature$1,"S",function t(){return this.eddsa.decodeInt(this.Sencoded())});cachedProperty(Signature$1,"R",function t(){return this.eddsa.decodePoint(this.Rencoded())});cachedProperty(Signature$1,"Rencoded",function t(){return this.eddsa.encodePoint(this.R())});cachedProperty(Signature$1,"Sencoded",function t(){return this.eddsa.encodeInt(this.S())});Signature$1.prototype.toBytes=function t(){return this.Rencoded().concat(this.Sencoded())};Signature$1.prototype.toHex=function t(){return utils$2.encode(this.toBytes(),"hex").toUpperCase()};var signature=Signature$1,hash$1=hash$3,curves=curves$1,utils$1=utils$m,assert=utils$1.assert,parseBytes=utils$1.parseBytes,KeyPair=key,Signature=signature;function EDDSA(t){if(assert(t==="ed25519","only tested with ed25519 so far"),!(this instanceof EDDSA))return new EDDSA(t);t=curves[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=hash$1.sha512}var eddsa=EDDSA;EDDSA.prototype.sign=function t(e,n){e=parseBytes(e);var a=this.keyFromSecret(n),o=this.hashInt(a.messagePrefix(),e),u=this.g.mul(o),c=this.encodePoint(u),d=this.hashInt(c,a.pubBytes(),e).mul(a.priv()),p=o.add(d).umod(this.curve.n);return this.makeSignature({R:u,S:p,Rencoded:c})};EDDSA.prototype.verify=function t(e,n,a){e=parseBytes(e),n=this.makeSignature(n);var o=this.keyFromPublic(a),u=this.hashInt(n.Rencoded(),o.pubBytes(),e),c=this.g.mul(n.S()),d=n.R().add(o.pub().mul(u));return d.eq(c)};EDDSA.prototype.hashInt=function t(){for(var e=this.hash(),n=0;n<arguments.length;n++)e.update(arguments[n]);return utils$1.intFromLE(e.digest()).umod(this.curve.n)};EDDSA.prototype.keyFromPublic=function t(e){return KeyPair.fromPublic(this,e)};EDDSA.prototype.keyFromSecret=function t(e){return KeyPair.fromSecret(this,e)};EDDSA.prototype.makeSignature=function t(e){return e instanceof Signature?e:new Signature(this,e)};EDDSA.prototype.encodePoint=function t(e){var n=e.getY().toArray("le",this.encodingLength);return n[this.encodingLength-1]|=e.getX().isOdd()?128:0,n};EDDSA.prototype.decodePoint=function t(e){e=utils$1.parseBytes(e);var n=e.length-1,a=e.slice(0,n).concat(e[n]&-129),o=(e[n]&128)!==0,u=utils$1.intFromLE(a);return this.curve.pointFromY(u,o)};EDDSA.prototype.encodeInt=function t(e){return e.toArray("le",this.encodingLength)};EDDSA.prototype.decodeInt=function t(e){return utils$1.intFromLE(e)};EDDSA.prototype.isPoint=function t(e){return e instanceof this.pointClass};var hasRequiredElliptic;function requireElliptic(){return hasRequiredElliptic||(hasRequiredElliptic=1,function(t){var e=t;e.version=require$$0.version,e.utils=utils$m,e.rand=requireBrorand(),e.curve=curve,e.curves=curves$1,e.ec=requireEc(),e.eddsa=eddsa}(elliptic)),elliptic}var asn1$1={},asn1={},api={},encoders={},safer_1,hasRequiredSafer;function requireSafer(){if(hasRequiredSafer)return safer_1;hasRequiredSafer=1;var t=buffer$2,e=t.Buffer,n={},a;for(a in t)t.hasOwnProperty(a)&&(a==="SlowBuffer"||a==="Buffer"||(n[a]=t[a]));var o=n.Buffer={};for(a in e)e.hasOwnProperty(a)&&(a==="allocUnsafe"||a==="allocUnsafeSlow"||(o[a]=e[a]));if(n.Buffer.prototype=e.prototype,(!o.from||o.from===Uint8Array.from)&&(o.from=function(u,c,d){if(typeof u=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof u);if(u&&typeof u.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof u);return e(u,c,d)}),o.alloc||(o.alloc=function(u,c,d){if(typeof u!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof u);if(u<0||u>=2*(1<<30))throw new RangeError('The value "'+u+'" is invalid for option "size"');var p=e(u);return!c||c.length===0?p.fill(0):typeof d=="string"?p.fill(c,d):p.fill(c),p}),!n.kStringMaxLength)try{n.kStringMaxLength=process$1.binding("buffer").kStringMaxLength}catch{}return n.constants||(n.constants={MAX_LENGTH:n.kMaxLength},n.kStringMaxLength&&(n.constants.MAX_STRING_LENGTH=n.kStringMaxLength)),safer_1=n,safer_1}var reporter={},hasRequiredReporter;function requireReporter(){if(hasRequiredReporter)return reporter;hasRequiredReporter=1;const t=inherits_browserExports;function e(a){this._reporterState={obj:null,path:[],options:a||{},errors:[]}}reporter.Reporter=e,e.prototype.isError=function(o){return o instanceof n},e.prototype.save=function(){const o=this._reporterState;return{obj:o.obj,pathLen:o.path.length}},e.prototype.restore=function(o){const u=this._reporterState;u.obj=o.obj,u.path=u.path.slice(0,o.pathLen)},e.prototype.enterKey=function(o){return this._reporterState.path.push(o)},e.prototype.exitKey=function(o){const u=this._reporterState;u.path=u.path.slice(0,o-1)},e.prototype.leaveKey=function(o,u,c){const d=this._reporterState;this.exitKey(o),d.obj!==null&&(d.obj[u]=c)},e.prototype.path=function(){return this._reporterState.path.join("/")},e.prototype.enterObject=function(){const o=this._reporterState,u=o.obj;return o.obj={},u},e.prototype.leaveObject=function(o){const u=this._reporterState,c=u.obj;return u.obj=o,c},e.prototype.error=function(o){let u;const c=this._reporterState,d=o instanceof n;if(d?u=o:u=new n(c.path.map(function(p){return"["+JSON.stringify(p)+"]"}).join(""),o.message||o,o.stack),!c.options.partial)throw u;return d||c.errors.push(u),u},e.prototype.wrapResult=function(o){const u=this._reporterState;return u.options.partial?{result:this.isError(o)?null:o,errors:u.errors}:o};function n(a,o){this.path=a,this.rethrow(o)}return t(n,Error),n.prototype.rethrow=function(o){if(this.message=o+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,n),!this.stack)try{throw new Error(this.message)}catch(u){this.stack=u.stack}return this},reporter}var buffer={},hasRequiredBuffer;function requireBuffer(){if(hasRequiredBuffer)return buffer;hasRequiredBuffer=1;const t=inherits_browserExports,e=requireReporter().Reporter,n=requireSafer().Buffer;function a(u,c){if(e.call(this,c),!n.isBuffer(u)){this.error("Input not Buffer");return}this.base=u,this.offset=0,this.length=u.length}t(a,e),buffer.DecoderBuffer=a,a.isDecoderBuffer=function(c){return c instanceof a?!0:typeof c=="object"&&n.isBuffer(c.base)&&c.constructor.name==="DecoderBuffer"&&typeof c.offset=="number"&&typeof c.length=="number"&&typeof c.save=="function"&&typeof c.restore=="function"&&typeof c.isEmpty=="function"&&typeof c.readUInt8=="function"&&typeof c.skip=="function"&&typeof c.raw=="function"},a.prototype.save=function(){return{offset:this.offset,reporter:e.prototype.save.call(this)}},a.prototype.restore=function(c){const d=new a(this.base);return d.offset=c.offset,d.length=this.offset,this.offset=c.offset,e.prototype.restore.call(this,c.reporter),d},a.prototype.isEmpty=function(){return this.offset===this.length},a.prototype.readUInt8=function(c){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(c||"DecoderBuffer overrun")},a.prototype.skip=function(c,d){if(!(this.offset+c<=this.length))return this.error(d||"DecoderBuffer overrun");const p=new a(this.base);return p._reporterState=this._reporterState,p.offset=this.offset,p.length=this.offset+c,this.offset+=c,p},a.prototype.raw=function(c){return this.base.slice(c?c.offset:this.offset,this.length)};function o(u,c){if(Array.isArray(u))this.length=0,this.value=u.map(function(d){return o.isEncoderBuffer(d)||(d=new o(d,c)),this.length+=d.length,d},this);else if(typeof u=="number"){if(!(0<=u&&u<=255))return c.error("non-byte EncoderBuffer value");this.value=u,this.length=1}else if(typeof u=="string")this.value=u,this.length=n.byteLength(u);else if(n.isBuffer(u))this.value=u,this.length=u.length;else return c.error("Unsupported type: "+typeof u)}return buffer.EncoderBuffer=o,o.isEncoderBuffer=function(c){return c instanceof o?!0:typeof c=="object"&&c.constructor.name==="EncoderBuffer"&&typeof c.length=="number"&&typeof c.join=="function"},o.prototype.join=function(c,d){return c||(c=n.alloc(this.length)),d||(d=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(p){p.join(c,d),d+=p.length}):(typeof this.value=="number"?c[d]=this.value:typeof this.value=="string"?c.write(this.value,d):n.isBuffer(this.value)&&this.value.copy(c,d),d+=this.length)),c},buffer}var node,hasRequiredNode;function requireNode(){if(hasRequiredNode)return node;hasRequiredNode=1;const t=requireReporter().Reporter,e=requireBuffer().EncoderBuffer,n=requireBuffer().DecoderBuffer,a=minimalisticAssert,o=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(o),c=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function d(v,y,b){const _={};this._baseState=_,_.name=b,_.enc=v,_.parent=y||null,_.children=null,_.tag=null,_.args=null,_.reverseArgs=null,_.choice=null,_.optional=!1,_.any=!1,_.obj=!1,_.use=null,_.useDecoder=null,_.key=null,_.default=null,_.explicit=null,_.implicit=null,_.contains=null,_.parent||(_.children=[],this._wrap())}node=d;const p=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return d.prototype.clone=function(){const y=this._baseState,b={};p.forEach(function(w){b[w]=y[w]});const _=new this.constructor(b.parent);return _._baseState=b,_},d.prototype._wrap=function(){const y=this._baseState;u.forEach(function(b){this[b]=function(){const w=new this.constructor(this);return y.children.push(w),w[b].apply(w,arguments)}},this)},d.prototype._init=function(y){const b=this._baseState;a(b.parent===null),y.call(this),b.children=b.children.filter(function(_){return _._baseState.parent===this},this),a.equal(b.children.length,1,"Root node can have only one child")},d.prototype._useArgs=function(y){const b=this._baseState,_=y.filter(function(w){return w instanceof this.constructor},this);y=y.filter(function(w){return!(w instanceof this.constructor)},this),_.length!==0&&(a(b.children===null),b.children=_,_.forEach(function(w){w._baseState.parent=this},this)),y.length!==0&&(a(b.args===null),b.args=y,b.reverseArgs=y.map(function(w){if(typeof w!="object"||w.constructor!==Object)return w;const E={};return Object.keys(w).forEach(function($){$==($|0)&&($|=0);const C=w[$];E[C]=$}),E}))},c.forEach(function(v){d.prototype[v]=function(){const b=this._baseState;throw new Error(v+" not implemented for encoding: "+b.enc)}}),o.forEach(function(v){d.prototype[v]=function(){const b=this._baseState,_=Array.prototype.slice.call(arguments);return a(b.tag===null),b.tag=v,this._useArgs(_),this}}),d.prototype.use=function(y){a(y);const b=this._baseState;return a(b.use===null),b.use=y,this},d.prototype.optional=function(){const y=this._baseState;return y.optional=!0,this},d.prototype.def=function(y){const b=this._baseState;return a(b.default===null),b.default=y,b.optional=!0,this},d.prototype.explicit=function(y){const b=this._baseState;return a(b.explicit===null&&b.implicit===null),b.explicit=y,this},d.prototype.implicit=function(y){const b=this._baseState;return a(b.explicit===null&&b.implicit===null),b.implicit=y,this},d.prototype.obj=function(){const y=this._baseState,b=Array.prototype.slice.call(arguments);return y.obj=!0,b.length!==0&&this._useArgs(b),this},d.prototype.key=function(y){const b=this._baseState;return a(b.key===null),b.key=y,this},d.prototype.any=function(){const y=this._baseState;return y.any=!0,this},d.prototype.choice=function(y){const b=this._baseState;return a(b.choice===null),b.choice=y,this._useArgs(Object.keys(y).map(function(_){return y[_]})),this},d.prototype.contains=function(y){const b=this._baseState;return a(b.use===null),b.contains=y,this},d.prototype._decode=function(y,b){const _=this._baseState;if(_.parent===null)return y.wrapResult(_.children[0]._decode(y,b));let w=_.default,E=!0,$=null;if(_.key!==null&&($=y.enterKey(_.key)),_.optional){let P=null;if(_.explicit!==null?P=_.explicit:_.implicit!==null?P=_.implicit:_.tag!==null&&(P=_.tag),P===null&&!_.any){const z=y.save();try{_.choice===null?this._decodeGeneric(_.tag,y,b):this._decodeChoice(y,b),E=!0}catch{E=!1}y.restore(z)}else if(E=this._peekTag(y,P,_.any),y.isError(E))return E}let C;if(_.obj&&E&&(C=y.enterObject()),E){if(_.explicit!==null){const z=this._decodeTag(y,_.explicit);if(y.isError(z))return z;y=z}const P=y.offset;if(_.use===null&&_.choice===null){let z;_.any&&(z=y.save());const J=this._decodeTag(y,_.implicit!==null?_.implicit:_.tag,_.any);if(y.isError(J))return J;_.any?w=y.raw(z):y=J}if(b&&b.track&&_.tag!==null&&b.track(y.path(),P,y.length,"tagged"),b&&b.track&&_.tag!==null&&b.track(y.path(),y.offset,y.length,"content"),_.any||(_.choice===null?w=this._decodeGeneric(_.tag,y,b):w=this._decodeChoice(y,b)),y.isError(w))return w;if(!_.any&&_.choice===null&&_.children!==null&&_.children.forEach(function(J){J._decode(y,b)}),_.contains&&(_.tag==="octstr"||_.tag==="bitstr")){const z=new n(w);w=this._getUse(_.contains,y._reporterState.obj)._decode(z,b)}}return _.obj&&E&&(w=y.leaveObject(C)),_.key!==null&&(w!==null||E===!0)?y.leaveKey($,_.key,w):$!==null&&y.exitKey($),w},d.prototype._decodeGeneric=function(y,b,_){const w=this._baseState;return y==="seq"||y==="set"?null:y==="seqof"||y==="setof"?this._decodeList(b,y,w.args[0],_):/str$/.test(y)?this._decodeStr(b,y,_):y==="objid"&&w.args?this._decodeObjid(b,w.args[0],w.args[1],_):y==="objid"?this._decodeObjid(b,null,null,_):y==="gentime"||y==="utctime"?this._decodeTime(b,y,_):y==="null_"?this._decodeNull(b,_):y==="bool"?this._decodeBool(b,_):y==="objDesc"?this._decodeStr(b,y,_):y==="int"||y==="enum"?this._decodeInt(b,w.args&&w.args[0],_):w.use!==null?this._getUse(w.use,b._reporterState.obj)._decode(b,_):b.error("unknown tag: "+y)},d.prototype._getUse=function(y,b){const _=this._baseState;return _.useDecoder=this._use(y,b),a(_.useDecoder._baseState.parent===null),_.useDecoder=_.useDecoder._baseState.children[0],_.implicit!==_.useDecoder._baseState.implicit&&(_.useDecoder=_.useDecoder.clone(),_.useDecoder._baseState.implicit=_.implicit),_.useDecoder},d.prototype._decodeChoice=function(y,b){const _=this._baseState;let w=null,E=!1;return Object.keys(_.choice).some(function($){const C=y.save(),P=_.choice[$];try{const z=P._decode(y,b);if(y.isError(z))return!1;w={type:$,value:z},E=!0}catch{return y.restore(C),!1}return!0},this),E?w:y.error("Choice not matched")},d.prototype._createEncoderBuffer=function(y){return new e(y,this.reporter)},d.prototype._encode=function(y,b,_){const w=this._baseState;if(w.default!==null&&w.default===y)return;const E=this._encodeValue(y,b,_);if(E!==void 0&&!this._skipDefault(E,b,_))return E},d.prototype._encodeValue=function(y,b,_){const w=this._baseState;if(w.parent===null)return w.children[0]._encode(y,b||new t);let E=null;if(this.reporter=b,w.optional&&y===void 0)if(w.default!==null)y=w.default;else return;let $=null,C=!1;if(w.any)E=this._createEncoderBuffer(y);else if(w.choice)E=this._encodeChoice(y,b);else if(w.contains)$=this._getUse(w.contains,_)._encode(y,b),C=!0;else if(w.children)$=w.children.map(function(P){if(P._baseState.tag==="null_")return P._encode(null,b,y);if(P._baseState.key===null)return b.error("Child should have a key");const z=b.enterKey(P._baseState.key);if(typeof y!="object")return b.error("Child expected, but input is not object");const J=P._encode(y[P._baseState.key],b,y);return b.leaveKey(z),J},this).filter(function(P){return P}),$=this._createEncoderBuffer($);else if(w.tag==="seqof"||w.tag==="setof"){if(!(w.args&&w.args.length===1))return b.error("Too many args for : "+w.tag);if(!Array.isArray(y))return b.error("seqof/setof, but data is not Array");const P=this.clone();P._baseState.implicit=null,$=this._createEncoderBuffer(y.map(function(z){const J=this._baseState;return this._getUse(J.args[0],y)._encode(z,b)},P))}else w.use!==null?E=this._getUse(w.use,_)._encode(y,b):($=this._encodePrimitive(w.tag,y),C=!0);if(!w.any&&w.choice===null){const P=w.implicit!==null?w.implicit:w.tag,z=w.implicit===null?"universal":"context";P===null?w.use===null&&b.error("Tag could be omitted only for .use()"):w.use===null&&(E=this._encodeComposite(P,C,z,$))}return w.explicit!==null&&(E=this._encodeComposite(w.explicit,!1,"context",E)),E},d.prototype._encodeChoice=function(y,b){const _=this._baseState,w=_.choice[y.type];return w||a(!1,y.type+" not found in "+JSON.stringify(Object.keys(_.choice))),w._encode(y.value,b)},d.prototype._encodePrimitive=function(y,b){const _=this._baseState;if(/str$/.test(y))return this._encodeStr(b,y);if(y==="objid"&&_.args)return this._encodeObjid(b,_.reverseArgs[0],_.args[1]);if(y==="objid")return this._encodeObjid(b,null,null);if(y==="gentime"||y==="utctime")return this._encodeTime(b,y);if(y==="null_")return this._encodeNull();if(y==="int"||y==="enum")return this._encodeInt(b,_.args&&_.reverseArgs[0]);if(y==="bool")return this._encodeBool(b);if(y==="objDesc")return this._encodeStr(b,y);throw new Error("Unsupported tag: "+y)},d.prototype._isNumstr=function(y){return/^[0-9 ]*$/.test(y)},d.prototype._isPrintstr=function(y){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(y)},node}var der={},hasRequiredDer$2;function requireDer$2(){return hasRequiredDer$2||(hasRequiredDer$2=1,function(t){function e(n){const a={};return Object.keys(n).forEach(function(o){(o|0)==o&&(o=o|0);const u=n[o];a[u]=o}),a}t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=e(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=e(t.tag)}(der)),der}var der_1$1,hasRequiredDer$1;function requireDer$1(){if(hasRequiredDer$1)return der_1$1;hasRequiredDer$1=1;const t=inherits_browserExports,e=requireSafer().Buffer,n=requireNode(),a=requireDer$2();function o(p){this.enc="der",this.name=p.name,this.entity=p,this.tree=new u,this.tree._init(p.body)}der_1$1=o,o.prototype.encode=function(v,y){return this.tree._encode(v,y).join()};function u(p){n.call(this,"der",p)}t(u,n),u.prototype._encodeComposite=function(v,y,b,_){const w=d(v,y,b,this.reporter);if(_.length<128){const C=e.alloc(2);return C[0]=w,C[1]=_.length,this._createEncoderBuffer([C,_])}let E=1;for(let C=_.length;C>=256;C>>=8)E++;const $=e.alloc(1+1+E);$[0]=w,$[1]=128|E;for(let C=1+E,P=_.length;P>0;C--,P>>=8)$[C]=P&255;return this._createEncoderBuffer([$,_])},u.prototype._encodeStr=function(v,y){if(y==="bitstr")return this._createEncoderBuffer([v.unused|0,v.data]);if(y==="bmpstr"){const b=e.alloc(v.length*2);for(let _=0;_<v.length;_++)b.writeUInt16BE(v.charCodeAt(_),_*2);return this._createEncoderBuffer(b)}else return y==="numstr"?this._isNumstr(v)?this._createEncoderBuffer(v):this.reporter.error("Encoding of string type: numstr supports only digits and space"):y==="printstr"?this._isPrintstr(v)?this._createEncoderBuffer(v):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(y)?this._createEncoderBuffer(v):y==="objDesc"?this._createEncoderBuffer(v):this.reporter.error("Encoding of string type: "+y+" unsupported")},u.prototype._encodeObjid=function(v,y,b){if(typeof v=="string"){if(!y)return this.reporter.error("string objid given, but no values map found");if(!y.hasOwnProperty(v))return this.reporter.error("objid not found in values map");v=y[v].split(/[\s.]+/g);for(let $=0;$<v.length;$++)v[$]|=0}else if(Array.isArray(v)){v=v.slice();for(let $=0;$<v.length;$++)v[$]|=0}if(!Array.isArray(v))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(v));if(!b){if(v[1]>=40)return this.reporter.error("Second objid identifier OOB");v.splice(0,2,v[0]*40+v[1])}let _=0;for(let $=0;$<v.length;$++){let C=v[$];for(_++;C>=128;C>>=7)_++}const w=e.alloc(_);let E=w.length-1;for(let $=v.length-1;$>=0;$--){let C=v[$];for(w[E--]=C&127;(C>>=7)>0;)w[E--]=128|C&127}return this._createEncoderBuffer(w)};function c(p){return p<10?"0"+p:p}u.prototype._encodeTime=function(v,y){let b;const _=new Date(v);return y==="gentime"?b=[c(_.getUTCFullYear()),c(_.getUTCMonth()+1),c(_.getUTCDate()),c(_.getUTCHours()),c(_.getUTCMinutes()),c(_.getUTCSeconds()),"Z"].join(""):y==="utctime"?b=[c(_.getUTCFullYear()%100),c(_.getUTCMonth()+1),c(_.getUTCDate()),c(_.getUTCHours()),c(_.getUTCMinutes()),c(_.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+y+" time is not supported yet"),this._encodeStr(b,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(v,y){if(typeof v=="string"){if(!y)return this.reporter.error("String int or enum given, but no values map");if(!y.hasOwnProperty(v))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(v));v=y[v]}if(typeof v!="number"&&!e.isBuffer(v)){const w=v.toArray();!v.sign&&w[0]&128&&w.unshift(0),v=e.from(w)}if(e.isBuffer(v)){let w=v.length;v.length===0&&w++;const E=e.alloc(w);return v.copy(E),v.length===0&&(E[0]=0),this._createEncoderBuffer(E)}if(v<128)return this._createEncoderBuffer(v);if(v<256)return this._createEncoderBuffer([0,v]);let b=1;for(let w=v;w>=256;w>>=8)b++;const _=new Array(b);for(let w=_.length-1;w>=0;w--)_[w]=v&255,v>>=8;return _[0]&128&&_.unshift(0),this._createEncoderBuffer(e.from(_))},u.prototype._encodeBool=function(v){return this._createEncoderBuffer(v?255:0)},u.prototype._use=function(v,y){return typeof v=="function"&&(v=v(y)),v._getEncoder("der").tree},u.prototype._skipDefault=function(v,y,b){const _=this._baseState;let w;if(_.default===null)return!1;const E=v.join();if(_.defaultBuffer===void 0&&(_.defaultBuffer=this._encodeValue(_.default,y,b).join()),E.length!==_.defaultBuffer.length)return!1;for(w=0;w<E.length;w++)if(E[w]!==_.defaultBuffer[w])return!1;return!0};function d(p,v,y,b){let _;if(p==="seqof"?p="seq":p==="setof"&&(p="set"),a.tagByName.hasOwnProperty(p))_=a.tagByName[p];else if(typeof p=="number"&&(p|0)===p)_=p;else return b.error("Unknown tag: "+p);return _>=31?b.error("Multi-octet tag encoding unsupported"):(v||(_|=32),_|=a.tagClassByName[y||"universal"]<<6,_)}return der_1$1}var pem$1,hasRequiredPem$1;function requirePem$1(){if(hasRequiredPem$1)return pem$1;hasRequiredPem$1=1;const t=inherits_browserExports,e=requireDer$1();function n(a){e.call(this,a),this.enc="pem"}return t(n,e),pem$1=n,n.prototype.encode=function(o,u){const d=e.prototype.encode.call(this,o).toString("base64"),p=["-----BEGIN "+u.label+"-----"];for(let v=0;v<d.length;v+=64)p.push(d.slice(v,v+64));return p.push("-----END "+u.label+"-----"),p.join(`
`)},pem$1}var hasRequiredEncoders;function requireEncoders(){return hasRequiredEncoders||(hasRequiredEncoders=1,function(t){const e=t;e.der=requireDer$1(),e.pem=requirePem$1()}(encoders)),encoders}var decoders={},der_1,hasRequiredDer;function requireDer(){if(hasRequiredDer)return der_1;hasRequiredDer=1;const t=inherits_browserExports,e=bnExports,n=requireBuffer().DecoderBuffer,a=requireNode(),o=requireDer$2();function u(v){this.enc="der",this.name=v.name,this.entity=v,this.tree=new c,this.tree._init(v.body)}der_1=u,u.prototype.decode=function(y,b){return n.isDecoderBuffer(y)||(y=new n(y,b)),this.tree._decode(y,b)};function c(v){a.call(this,"der",v)}t(c,a),c.prototype._peekTag=function(y,b,_){if(y.isEmpty())return!1;const w=y.save(),E=d(y,'Failed to peek tag: "'+b+'"');return y.isError(E)?E:(y.restore(w),E.tag===b||E.tagStr===b||E.tagStr+"of"===b||_)},c.prototype._decodeTag=function(y,b,_){const w=d(y,'Failed to decode tag of "'+b+'"');if(y.isError(w))return w;let E=p(y,w.primitive,'Failed to get length of "'+b+'"');if(y.isError(E))return E;if(!_&&w.tag!==b&&w.tagStr!==b&&w.tagStr+"of"!==b)return y.error('Failed to match tag: "'+b+'"');if(w.primitive||E!==null)return y.skip(E,'Failed to match body of: "'+b+'"');const $=y.save(),C=this._skipUntilEnd(y,'Failed to skip indefinite length body: "'+this.tag+'"');return y.isError(C)?C:(E=y.offset-$.offset,y.restore($),y.skip(E,'Failed to match body of: "'+b+'"'))},c.prototype._skipUntilEnd=function(y,b){for(;;){const _=d(y,b);if(y.isError(_))return _;const w=p(y,_.primitive,b);if(y.isError(w))return w;let E;if(_.primitive||w!==null?E=y.skip(w):E=this._skipUntilEnd(y,b),y.isError(E))return E;if(_.tagStr==="end")break}},c.prototype._decodeList=function(y,b,_,w){const E=[];for(;!y.isEmpty();){const $=this._peekTag(y,"end");if(y.isError($))return $;const C=_.decode(y,"der",w);if(y.isError(C)&&$)break;E.push(C)}return E},c.prototype._decodeStr=function(y,b){if(b==="bitstr"){const _=y.readUInt8();return y.isError(_)?_:{unused:_,data:y.raw()}}else if(b==="bmpstr"){const _=y.raw();if(_.length%2===1)return y.error("Decoding of string type: bmpstr length mismatch");let w="";for(let E=0;E<_.length/2;E++)w+=String.fromCharCode(_.readUInt16BE(E*2));return w}else if(b==="numstr"){const _=y.raw().toString("ascii");return this._isNumstr(_)?_:y.error("Decoding of string type: numstr unsupported characters")}else{if(b==="octstr")return y.raw();if(b==="objDesc")return y.raw();if(b==="printstr"){const _=y.raw().toString("ascii");return this._isPrintstr(_)?_:y.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(b)?y.raw().toString():y.error("Decoding of string type: "+b+" unsupported")}},c.prototype._decodeObjid=function(y,b,_){let w;const E=[];let $=0,C=0;for(;!y.isEmpty();)C=y.readUInt8(),$<<=7,$|=C&127,C&128||(E.push($),$=0);C&128&&E.push($);const P=E[0]/40|0,z=E[0]%40;if(_?w=E:w=[P,z].concat(E.slice(1)),b){let J=b[w.join(" ")];J===void 0&&(J=b[w.join(".")]),J!==void 0&&(w=J)}return w},c.prototype._decodeTime=function(y,b){const _=y.raw().toString();let w,E,$,C,P,z;if(b==="gentime")w=_.slice(0,4)|0,E=_.slice(4,6)|0,$=_.slice(6,8)|0,C=_.slice(8,10)|0,P=_.slice(10,12)|0,z=_.slice(12,14)|0;else if(b==="utctime")w=_.slice(0,2)|0,E=_.slice(2,4)|0,$=_.slice(4,6)|0,C=_.slice(6,8)|0,P=_.slice(8,10)|0,z=_.slice(10,12)|0,w<70?w=2e3+w:w=1900+w;else return y.error("Decoding "+b+" time is not supported yet");return Date.UTC(w,E-1,$,C,P,z,0)},c.prototype._decodeNull=function(){return null},c.prototype._decodeBool=function(y){const b=y.readUInt8();return y.isError(b)?b:b!==0},c.prototype._decodeInt=function(y,b){const _=y.raw();let w=new e(_);return b&&(w=b[w.toString(10)]||w),w},c.prototype._use=function(y,b){return typeof y=="function"&&(y=y(b)),y._getDecoder("der").tree};function d(v,y){let b=v.readUInt8(y);if(v.isError(b))return b;const _=o.tagClass[b>>6],w=(b&32)===0;if((b&31)===31){let $=b;for(b=0;($&128)===128;){if($=v.readUInt8(y),v.isError($))return $;b<<=7,b|=$&127}}else b&=31;const E=o.tag[b];return{cls:_,primitive:w,tag:b,tagStr:E}}function p(v,y,b){let _=v.readUInt8(b);if(v.isError(_))return _;if(!y&&_===128)return null;if(!(_&128))return _;const w=_&127;if(w>4)return v.error("length octect is too long");_=0;for(let E=0;E<w;E++){_<<=8;const $=v.readUInt8(b);if(v.isError($))return $;_|=$}return _}return der_1}var pem,hasRequiredPem;function requirePem(){if(hasRequiredPem)return pem;hasRequiredPem=1;const t=inherits_browserExports,e=requireSafer().Buffer,n=requireDer();function a(o){n.call(this,o),this.enc="pem"}return t(a,n),pem=a,a.prototype.decode=function(u,c){const d=u.toString().split(/[\r\n]+/g),p=c.label.toUpperCase(),v=/^-----(BEGIN|END) ([^-]+)-----$/;let y=-1,b=-1;for(let E=0;E<d.length;E++){const $=d[E].match(v);if($!==null&&$[2]===p)if(y===-1){if($[1]!=="BEGIN")break;y=E}else{if($[1]!=="END")break;b=E;break}}if(y===-1||b===-1)throw new Error("PEM section not found for: "+p);const _=d.slice(y+1,b).join("");_.replace(/[^a-z0-9+/=]+/gi,"");const w=e.from(_,"base64");return n.prototype.decode.call(this,w,c)},pem}var hasRequiredDecoders;function requireDecoders(){return hasRequiredDecoders||(hasRequiredDecoders=1,function(t){const e=t;e.der=requireDer(),e.pem=requirePem()}(decoders)),decoders}var hasRequiredApi;function requireApi(){return hasRequiredApi||(hasRequiredApi=1,function(t){const e=requireEncoders(),n=requireDecoders(),a=inherits_browserExports,o=t;o.define=function(d,p){return new u(d,p)};function u(c,d){this.name=c,this.body=d,this.decoders={},this.encoders={}}u.prototype._createNamed=function(d){const p=this.name;function v(y){this._initNamed(y,p)}return a(v,d),v.prototype._initNamed=function(b,_){d.call(this,b,_)},new v(this)},u.prototype._getDecoder=function(d){return d=d||"der",this.decoders.hasOwnProperty(d)||(this.decoders[d]=this._createNamed(n[d])),this.decoders[d]},u.prototype.decode=function(d,p,v){return this._getDecoder(p).decode(d,v)},u.prototype._getEncoder=function(d){return d=d||"der",this.encoders.hasOwnProperty(d)||(this.encoders[d]=this._createNamed(e[d])),this.encoders[d]},u.prototype.encode=function(d,p,v){return this._getEncoder(p).encode(d,v)}}(api)),api}var base={},hasRequiredBase;function requireBase(){return hasRequiredBase||(hasRequiredBase=1,function(t){const e=t;e.Reporter=requireReporter().Reporter,e.DecoderBuffer=requireBuffer().DecoderBuffer,e.EncoderBuffer=requireBuffer().EncoderBuffer,e.Node=requireNode()}(base)),base}var constants={},hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,function(t){const e=t;e._reverse=function(a){const o={};return Object.keys(a).forEach(function(u){(u|0)==u&&(u=u|0);const c=a[u];o[c]=u}),o},e.der=requireDer$2()}(constants)),constants}var hasRequiredAsn1$1;function requireAsn1$1(){return hasRequiredAsn1$1||(hasRequiredAsn1$1=1,function(t){const e=t;e.bignum=bnExports,e.define=requireApi().define,e.base=requireBase(),e.constants=requireConstants(),e.decoders=requireDecoders(),e.encoders=requireEncoders()}(asn1)),asn1}var certificate,hasRequiredCertificate;function requireCertificate(){if(hasRequiredCertificate)return certificate;hasRequiredCertificate=1;var t=requireAsn1$1(),e=t.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),n=t.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),a=t.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),o=t.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())}),u=t.define("RelativeDistinguishedName",function(){this.setof(n)}),c=t.define("RDNSequence",function(){this.seqof(u)}),d=t.define("Name",function(){this.choice({rdnSequence:this.use(c)})}),p=t.define("Validity",function(){this.seq().obj(this.key("notBefore").use(e),this.key("notAfter").use(e))}),v=t.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),y=t.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(d),this.key("validity").use(p),this.key("subject").use(d),this.key("subjectPublicKeyInfo").use(o),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(v).optional())}),b=t.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(y),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())});return certificate=b,certificate}var hasRequiredAsn1;function requireAsn1(){if(hasRequiredAsn1)return asn1$1;hasRequiredAsn1=1;var t=requireAsn1$1();asn1$1.certificate=requireCertificate();var e=t.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});asn1$1.RSAPrivateKey=e;var n=t.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});asn1$1.RSAPublicKey=n;var a=t.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())});asn1$1.PublicKey=a;var o=t.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),u=t.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(o),this.key("subjectPrivateKey").octstr())});asn1$1.PrivateKey=u;var c=t.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});asn1$1.EncryptedPrivateKey=c;var d=t.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});asn1$1.DSAPrivateKey=d,asn1$1.DSAparam=t.define("DSAparam",function(){this.int()});var p=t.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(v),this.key("publicKey").optional().explicit(1).bitstr())});asn1$1.ECPrivateKey=p;var v=t.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});return asn1$1.signature=t.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),asn1$1}const require$$1={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var fixProc,hasRequiredFixProc;function requireFixProc(){if(hasRequiredFixProc)return fixProc;hasRequiredFixProc=1;var t=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,e=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,n=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,a=requireEvp_bytestokey(),o=requireBrowser$6(),u=safeBufferExports.Buffer;return fixProc=function(c,d){var p=c.toString(),v=p.match(t),y;if(v){var _="aes"+v[1],w=u.from(v[2],"hex"),E=u.from(v[3].replace(/[\r\n]/g,""),"base64"),$=a(d,w.slice(0,8),parseInt(v[1],10)).key,C=[],P=o.createDecipheriv(_,$,w);C.push(P.update(E)),C.push(P.final()),y=u.concat(C)}else{var b=p.match(n);y=u.from(b[2].replace(/[\r\n]/g,""),"base64")}var z=p.match(e)[1];return{tag:z,data:y}},fixProc}var parseAsn1,hasRequiredParseAsn1;function requireParseAsn1(){if(hasRequiredParseAsn1)return parseAsn1;hasRequiredParseAsn1=1;var t=requireAsn1(),e=require$$1,n=requireFixProc(),a=requireBrowser$6(),o=requireBrowser$7(),u=safeBufferExports.Buffer;parseAsn1=c;function c(p){var v;typeof p=="object"&&!u.isBuffer(p)&&(v=p.passphrase,p=p.key),typeof p=="string"&&(p=u.from(p));var y=n(p,v),b=y.tag,_=y.data,w,E;switch(b){case"CERTIFICATE":E=t.certificate.decode(_,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(E||(E=t.PublicKey.decode(_,"der")),w=E.algorithm.algorithm.join("."),w){case"1.2.840.113549.1.1.1":return t.RSAPublicKey.decode(E.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return E.subjectPrivateKey=E.subjectPublicKey,{type:"ec",data:E};case"1.2.840.10040.4.1":return E.algorithm.params.pub_key=t.DSAparam.decode(E.subjectPublicKey.data,"der"),{type:"dsa",data:E.algorithm.params};default:throw new Error("unknown key id "+w)}case"ENCRYPTED PRIVATE KEY":_=t.EncryptedPrivateKey.decode(_,"der"),_=d(_,v);case"PRIVATE KEY":switch(E=t.PrivateKey.decode(_,"der"),w=E.algorithm.algorithm.join("."),w){case"1.2.840.113549.1.1.1":return t.RSAPrivateKey.decode(E.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:E.algorithm.curve,privateKey:t.ECPrivateKey.decode(E.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return E.algorithm.params.priv_key=t.DSAparam.decode(E.subjectPrivateKey,"der"),{type:"dsa",params:E.algorithm.params};default:throw new Error("unknown key id "+w)}case"RSA PUBLIC KEY":return t.RSAPublicKey.decode(_,"der");case"RSA PRIVATE KEY":return t.RSAPrivateKey.decode(_,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:t.DSAPrivateKey.decode(_,"der")};case"EC PRIVATE KEY":return _=t.ECPrivateKey.decode(_,"der"),{curve:_.parameters.value,privateKey:_.privateKey};default:throw new Error("unknown key type "+b)}}c.signature=t.signature;function d(p,v){var y=p.algorithm.decrypt.kde.kdeparams.salt,b=parseInt(p.algorithm.decrypt.kde.kdeparams.iters.toString(),10),_=e[p.algorithm.decrypt.cipher.algo.join(".")],w=p.algorithm.decrypt.cipher.iv,E=p.subjectPrivateKey,$=parseInt(_.split("-")[1],10)/8,C=o.pbkdf2Sync(v,y,b,$,"sha1"),P=a.createDecipheriv(_,C,w),z=[];return z.push(P.update(E)),z.push(P.final()),u.concat(z)}return parseAsn1}const require$$4={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign$2.exports;hasRequiredSign=1;var t=safeBufferExports.Buffer,e=requireBrowser$8(),n=requireBrowserifyRsa(),a=requireElliptic().ec,o=requireBn(),u=requireParseAsn1(),c=require$$4;function d(C,P,z,J,X){var re=u(P);if(re.curve){if(J!=="ecdsa"&&J!=="ecdsa/rsa")throw new Error("wrong private key type");return p(C,re)}else if(re.type==="dsa"){if(J!=="dsa")throw new Error("wrong private key type");return v(C,re,z)}else if(J!=="rsa"&&J!=="ecdsa/rsa")throw new Error("wrong private key type");C=t.concat([X,C]);for(var de=re.modulus.byteLength(),xe=[0,1];C.length+xe.length+1<de;)xe.push(255);xe.push(0);for(var $e=-1;++$e<C.length;)xe.push(C[$e]);var Pe=n(xe,re);return Pe}function p(C,P){var z=c[P.curve.join(".")];if(!z)throw new Error("unknown curve "+P.curve.join("."));var J=new a(z),X=J.keyFromPrivate(P.privateKey),re=X.sign(C);return t.from(re.toDER())}function v(C,P,z){for(var J=P.params.priv_key,X=P.params.p,re=P.params.q,de=P.params.g,xe=new o(0),$e,Pe=_(C,re).mod(re),it=!1,fe=b(J,re,C,z);it===!1;)$e=E(re,fe,z),xe=$(de,$e,X,re),it=$e.invm(re).imul(Pe.add(J.mul(xe))).mod(re),it.cmpn(0)===0&&(it=!1,xe=new o(0));return y(xe,it)}function y(C,P){C=C.toArray(),P=P.toArray(),C[0]&128&&(C=[0].concat(C)),P[0]&128&&(P=[0].concat(P));var z=C.length+P.length+4,J=[48,z,2,C.length];return J=J.concat(C,[2,P.length],P),t.from(J)}function b(C,P,z,J){if(C=t.from(C.toArray()),C.length<P.byteLength()){var X=t.alloc(P.byteLength()-C.length);C=t.concat([X,C])}var re=z.length,de=w(z,P),xe=t.alloc(re);xe.fill(1);var $e=t.alloc(re);return $e=e(J,$e).update(xe).update(t.from([0])).update(C).update(de).digest(),xe=e(J,$e).update(xe).digest(),$e=e(J,$e).update(xe).update(t.from([1])).update(C).update(de).digest(),xe=e(J,$e).update(xe).digest(),{k:$e,v:xe}}function _(C,P){var z=new o(C),J=(C.length<<3)-P.bitLength();return J>0&&z.ishrn(J),z}function w(C,P){C=_(C,P),C=C.mod(P);var z=t.from(C.toArray());if(z.length<P.byteLength()){var J=t.alloc(P.byteLength()-z.length);z=t.concat([J,z])}return z}function E(C,P,z){var J,X;do{for(J=t.alloc(0);J.length*8<C.bitLength();)P.v=e(z,P.k).update(P.v).digest(),J=t.concat([J,P.v]);X=_(J,C),P.k=e(z,P.k).update(P.v).update(t.from([0])).digest(),P.v=e(z,P.k).update(P.v).digest()}while(X.cmp(C)!==-1);return X}function $(C,P,z,J){return C.toRed(o.mont(z)).redPow(P).fromRed().mod(J)}return sign$2.exports=d,sign$2.exports.getKey=b,sign$2.exports.makeKey=E,sign$2.exports}var verify_1,hasRequiredVerify;function requireVerify(){if(hasRequiredVerify)return verify_1;hasRequiredVerify=1;var t=safeBufferExports.Buffer,e=requireBn(),n=requireElliptic().ec,a=requireParseAsn1(),o=require$$4;function u(v,y,b,_,w){var E=a(b);if(E.type==="ec"){if(_!=="ecdsa"&&_!=="ecdsa/rsa")throw new Error("wrong public key type");return c(v,y,E)}else if(E.type==="dsa"){if(_!=="dsa")throw new Error("wrong public key type");return d(v,y,E)}else if(_!=="rsa"&&_!=="ecdsa/rsa")throw new Error("wrong public key type");y=t.concat([w,y]);for(var $=E.modulus.byteLength(),C=[1],P=0;y.length+C.length+2<$;)C.push(255),P++;C.push(0);for(var z=-1;++z<y.length;)C.push(y[z]);C=t.from(C);var J=e.mont(E.modulus);v=new e(v).toRed(J),v=v.redPow(new e(E.publicExponent)),v=t.from(v.fromRed().toArray());var X=P<8?1:0;for($=Math.min(v.length,C.length),v.length!==C.length&&(X=1),z=-1;++z<$;)X|=v[z]^C[z];return X===0}function c(v,y,b){var _=o[b.data.algorithm.curve.join(".")];if(!_)throw new Error("unknown curve "+b.data.algorithm.curve.join("."));var w=new n(_),E=b.data.subjectPrivateKey.data;return w.verify(y,v,E)}function d(v,y,b){var _=b.data.p,w=b.data.q,E=b.data.g,$=b.data.pub_key,C=a.signature.decode(v,"der"),P=C.s,z=C.r;p(P,w),p(z,w);var J=e.mont(_),X=P.invm(w),re=E.toRed(J).redPow(new e(y).mul(X).mod(w)).fromRed().mul($.toRed(J).redPow(z.mul(X).mod(w)).fromRed()).mod(_).mod(w);return re.cmp(z)===0}function p(v,y){if(v.cmpn(0)<=0)throw new Error("invalid sig");if(v.cmp(y)>=y)throw new Error("invalid sig")}return verify_1=u,verify_1}var browser$3,hasRequiredBrowser$3;function requireBrowser$3(){if(hasRequiredBrowser$3)return browser$3;hasRequiredBrowser$3=1;var t=safeBufferExports.Buffer,e=requireBrowser$9(),n=requireReadableBrowser(),a=inherits_browserExports,o=requireSign(),u=requireVerify(),c=require$$6;Object.keys(c).forEach(function(b){c[b].id=t.from(c[b].id,"hex"),c[b.toLowerCase()]=c[b]});function d(b){n.Writable.call(this);var _=c[b];if(!_)throw new Error("Unknown message digest");this._hashType=_.hash,this._hash=e(_.hash),this._tag=_.id,this._signType=_.sign}a(d,n.Writable),d.prototype._write=function(_,w,E){this._hash.update(_),E()},d.prototype.update=function(_,w){return typeof _=="string"&&(_=t.from(_,w)),this._hash.update(_),this},d.prototype.sign=function(_,w){this.end();var E=this._hash.digest(),$=o(E,_,this._hashType,this._signType,this._tag);return w?$.toString(w):$};function p(b){n.Writable.call(this);var _=c[b];if(!_)throw new Error("Unknown message digest");this._hash=e(_.hash),this._tag=_.id,this._signType=_.sign}a(p,n.Writable),p.prototype._write=function(_,w,E){this._hash.update(_),E()},p.prototype.update=function(_,w){return typeof _=="string"&&(_=t.from(_,w)),this._hash.update(_),this},p.prototype.verify=function(_,w,E){typeof w=="string"&&(w=t.from(w,E)),this.end();var $=this._hash.digest();return u(w,$,_,this._signType,this._tag)};function v(b){return new d(b)}function y(b){return new p(b)}return browser$3={Sign:v,Verify:y,createSign:v,createVerify:y},browser$3}var browser$2,hasRequiredBrowser$2;function requireBrowser$2(){if(hasRequiredBrowser$2)return browser$2;hasRequiredBrowser$2=1;var t=requireElliptic(),e=bnExports;browser$2=function(c){return new a(c)};var n={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};n.p224=n.secp224r1,n.p256=n.secp256r1=n.prime256v1,n.p192=n.secp192r1=n.prime192v1,n.p384=n.secp384r1,n.p521=n.secp521r1;function a(u){this.curveType=n[u],this.curveType||(this.curveType={name:u}),this.curve=new t.ec(this.curveType.name),this.keys=void 0}a.prototype.generateKeys=function(u,c){return this.keys=this.curve.genKeyPair(),this.getPublicKey(u,c)},a.prototype.computeSecret=function(u,c,d){c=c||"utf8",buffer$2.Buffer.isBuffer(u)||(u=new buffer$2.Buffer(u,c));var p=this.curve.keyFromPublic(u).getPublic(),v=p.mul(this.keys.getPrivate()).getX();return o(v,d,this.curveType.byteLength)},a.prototype.getPublicKey=function(u,c){var d=this.keys.getPublic(c==="compressed",!0);return c==="hybrid"&&(d[d.length-1]%2?d[0]=7:d[0]=6),o(d,u)},a.prototype.getPrivateKey=function(u){return o(this.keys.getPrivate(),u)},a.prototype.setPublicKey=function(u,c){return c=c||"utf8",buffer$2.Buffer.isBuffer(u)||(u=new buffer$2.Buffer(u,c)),this.keys._importPublic(u),this},a.prototype.setPrivateKey=function(u,c){c=c||"utf8",buffer$2.Buffer.isBuffer(u)||(u=new buffer$2.Buffer(u,c));var d=new e(u);return d=d.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(d),this};function o(u,c,d){Array.isArray(u)||(u=u.toArray());var p=new buffer$2.Buffer(u);if(d&&p.length<d){var v=new buffer$2.Buffer(d-p.length);v.fill(0),p=buffer$2.Buffer.concat([v,p])}return c?p.toString(c):p}return browser$2}var browser$1={},mgf,hasRequiredMgf;function requireMgf(){if(hasRequiredMgf)return mgf;hasRequiredMgf=1;var t=requireBrowser$9(),e=safeBufferExports.Buffer;mgf=function(a,o){for(var u=e.alloc(0),c=0,d;u.length<o;)d=n(c++),u=e.concat([u,t("sha1").update(a).update(d).digest()]);return u.slice(0,o)};function n(a){var o=e.allocUnsafe(4);return o.writeUInt32BE(a,0),o}return mgf}var xor,hasRequiredXor;function requireXor(){return hasRequiredXor||(hasRequiredXor=1,xor=function(e,n){for(var a=e.length,o=-1;++o<a;)e[o]^=n[o];return e}),xor}var withPublic_1,hasRequiredWithPublic;function requireWithPublic(){if(hasRequiredWithPublic)return withPublic_1;hasRequiredWithPublic=1;var t=bnExports,e=safeBufferExports.Buffer;function n(a,o){return e.from(a.toRed(t.mont(o.modulus)).redPow(new t(o.publicExponent)).fromRed().toArray())}return withPublic_1=n,withPublic_1}var publicEncrypt,hasRequiredPublicEncrypt;function requirePublicEncrypt(){if(hasRequiredPublicEncrypt)return publicEncrypt;hasRequiredPublicEncrypt=1;var t=requireParseAsn1(),e=requireBrowser$b(),n=requireBrowser$9(),a=requireMgf(),o=requireXor(),u=bnExports,c=requireWithPublic(),d=requireBrowserifyRsa(),p=safeBufferExports.Buffer;publicEncrypt=function(w,E,$){var C;w.padding?C=w.padding:$?C=1:C=4;var P=t(w),z;if(C===4)z=v(P,E);else if(C===1)z=y(P,E,$);else if(C===3){if(z=new u(E),z.cmp(P.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return $?d(z,P):c(z,P)};function v(_,w){var E=_.modulus.byteLength(),$=w.length,C=n("sha1").update(p.alloc(0)).digest(),P=C.length,z=2*P;if($>E-z-2)throw new Error("message too long");var J=p.alloc(E-$-z-2),X=E-P-1,re=e(P),de=o(p.concat([C,J,p.alloc(1,1),w],X),a(re,X)),xe=o(re,a(de,P));return new u(p.concat([p.alloc(1),xe,de],E))}function y(_,w,E){var $=w.length,C=_.modulus.byteLength();if($>C-11)throw new Error("message too long");var P;return E?P=p.alloc(C-$-3,255):P=b(C-$-3),new u(p.concat([p.from([0,E?1:2]),P,p.alloc(1),w],C))}function b(_){for(var w=p.allocUnsafe(_),E=0,$=e(_*2),C=0,P;E<_;)C===$.length&&($=e(_*2),C=0),P=$[C++],P&&(w[E++]=P);return w}return publicEncrypt}var privateDecrypt,hasRequiredPrivateDecrypt;function requirePrivateDecrypt(){if(hasRequiredPrivateDecrypt)return privateDecrypt;hasRequiredPrivateDecrypt=1;var t=requireParseAsn1(),e=requireMgf(),n=requireXor(),a=bnExports,o=requireBrowserifyRsa(),u=requireBrowser$9(),c=requireWithPublic(),d=safeBufferExports.Buffer;privateDecrypt=function(_,w,E){var $;_.padding?$=_.padding:E?$=1:$=4;var C=t(_),P=C.modulus.byteLength();if(w.length>P||new a(w).cmp(C.modulus)>=0)throw new Error("decryption error");var z;E?z=c(new a(w),C):z=o(w,C);var J=d.alloc(P-z.length);if(z=d.concat([J,z],P),$===4)return p(C,z);if($===1)return v(C,z,E);if($===3)return z;throw new Error("unknown padding")};function p(b,_){var w=b.modulus.byteLength(),E=u("sha1").update(d.alloc(0)).digest(),$=E.length;if(_[0]!==0)throw new Error("decryption error");var C=_.slice(1,$+1),P=_.slice($+1),z=n(C,e(P,$)),J=n(P,e(z,w-$-1));if(y(E,J.slice(0,$)))throw new Error("decryption error");for(var X=$;J[X]===0;)X++;if(J[X++]!==1)throw new Error("decryption error");return J.slice(X)}function v(b,_,w){for(var E=_.slice(0,2),$=2,C=0;_[$++]!==0;)if($>=_.length){C++;break}var P=_.slice(2,$-1);if((E.toString("hex")!=="0002"&&!w||E.toString("hex")!=="0001"&&w)&&C++,P.length<8&&C++,C)throw new Error("decryption error");return _.slice($)}function y(b,_){b=d.from(b),_=d.from(_);var w=0,E=b.length;b.length!==_.length&&(w++,E=Math.min(b.length,_.length));for(var $=-1;++$<E;)w+=b[$]^_[$];return w}return privateDecrypt}var hasRequiredBrowser$1;function requireBrowser$1(){return hasRequiredBrowser$1||(hasRequiredBrowser$1=1,function(t){t.publicEncrypt=requirePublicEncrypt(),t.privateDecrypt=requirePrivateDecrypt(),t.privateEncrypt=function(n,a){return t.publicEncrypt(n,a,!0)},t.publicDecrypt=function(n,a){return t.privateDecrypt(n,a,!0)}}(browser$1)),browser$1}var browser={},hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser;hasRequiredBrowser=1;function t(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var e=safeBufferExports,n=requireBrowser$b(),a=e.Buffer,o=e.kMaxLength,u=commonjsGlobal.crypto||commonjsGlobal.msCrypto,c=Math.pow(2,32)-1;function d(_,w){if(typeof _!="number"||_!==_)throw new TypeError("offset must be a number");if(_>c||_<0)throw new TypeError("offset must be a uint32");if(_>o||_>w)throw new RangeError("offset out of range")}function p(_,w,E){if(typeof _!="number"||_!==_)throw new TypeError("size must be a number");if(_>c||_<0)throw new TypeError("size must be a uint32");if(_+w>E||_>o)throw new RangeError("buffer too small")}u&&u.getRandomValues||!process$1.browser?(browser.randomFill=v,browser.randomFillSync=b):(browser.randomFill=t,browser.randomFillSync=t);function v(_,w,E,$){if(!a.isBuffer(_)&&!(_ instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof w=="function")$=w,w=0,E=_.length;else if(typeof E=="function")$=E,E=_.length-w;else if(typeof $!="function")throw new TypeError('"cb" argument must be a function');return d(w,_.length),p(E,w,_.length),y(_,w,E,$)}function y(_,w,E,$){if(process$1.browser){var C=_.buffer,P=new Uint8Array(C,w,E);if(u.getRandomValues(P),$){process$1.nextTick(function(){$(null,_)});return}return _}if($){n(E,function(J,X){if(J)return $(J);X.copy(_,w),$(null,_)});return}var z=n(E);return z.copy(_,w),_}function b(_,w,E){if(typeof w>"u"&&(w=0),!a.isBuffer(_)&&!(_ instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return d(w,_.length),E===void 0&&(E=_.length-w),p(E,w,_.length),y(_,w,E)}return browser}var hasRequiredCryptoBrowserify;function requireCryptoBrowserify(){if(hasRequiredCryptoBrowserify)return cryptoBrowserify;hasRequiredCryptoBrowserify=1,cryptoBrowserify.randomBytes=cryptoBrowserify.rng=cryptoBrowserify.pseudoRandomBytes=cryptoBrowserify.prng=requireBrowser$b(),cryptoBrowserify.createHash=cryptoBrowserify.Hash=requireBrowser$9(),cryptoBrowserify.createHmac=cryptoBrowserify.Hmac=requireBrowser$8();var t=requireAlgos(),e=Object.keys(t),n=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(e);cryptoBrowserify.getHashes=function(){return n};var a=requireBrowser$7();cryptoBrowserify.pbkdf2=a.pbkdf2,cryptoBrowserify.pbkdf2Sync=a.pbkdf2Sync;var o=requireBrowser$5();cryptoBrowserify.Cipher=o.Cipher,cryptoBrowserify.createCipher=o.createCipher,cryptoBrowserify.Cipheriv=o.Cipheriv,cryptoBrowserify.createCipheriv=o.createCipheriv,cryptoBrowserify.Decipher=o.Decipher,cryptoBrowserify.createDecipher=o.createDecipher,cryptoBrowserify.Decipheriv=o.Decipheriv,cryptoBrowserify.createDecipheriv=o.createDecipheriv,cryptoBrowserify.getCiphers=o.getCiphers,cryptoBrowserify.listCiphers=o.listCiphers;var u=requireBrowser$4();cryptoBrowserify.DiffieHellmanGroup=u.DiffieHellmanGroup,cryptoBrowserify.createDiffieHellmanGroup=u.createDiffieHellmanGroup,cryptoBrowserify.getDiffieHellman=u.getDiffieHellman,cryptoBrowserify.createDiffieHellman=u.createDiffieHellman,cryptoBrowserify.DiffieHellman=u.DiffieHellman;var c=requireBrowser$3();cryptoBrowserify.createSign=c.createSign,cryptoBrowserify.Sign=c.Sign,cryptoBrowserify.createVerify=c.createVerify,cryptoBrowserify.Verify=c.Verify,cryptoBrowserify.createECDH=requireBrowser$2();var d=requireBrowser$1();cryptoBrowserify.publicEncrypt=d.publicEncrypt,cryptoBrowserify.privateEncrypt=d.privateEncrypt,cryptoBrowserify.publicDecrypt=d.publicDecrypt,cryptoBrowserify.privateDecrypt=d.privateDecrypt;var p=requireBrowser();return cryptoBrowserify.randomFill=p.randomFill,cryptoBrowserify.randomFillSync=p.randomFillSync,cryptoBrowserify.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},cryptoBrowserify.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},cryptoBrowserify}function concat$1(t,e){e==null&&(e=t.reduce((o,u)=>o+u.length,0));const n=allocUnsafe$2(e);let a=0;for(const o of t)n.set(o,a),a+=o.length;return asUint8Array$2(n)}async function all(t){const e=[];for await(const n of t)e.push(n);return e}const sortAll$1=(t,e)=>async function*(){yield*(await all(t)).sort(e)}();async function drain$2(t){for await(const e of t);}async function*filter$2(t,e){for await(const n of t)await e(n)&&(yield n)}async function*take$2(t,e){let n=0;if(!(e<1)){for await(const a of t)if(yield a,n++,n===e)return}}class BaseDatastore{open(){return Promise.reject(new Error(".open is not implemented"))}close(){return Promise.reject(new Error(".close is not implemented"))}put(e,n,a){return Promise.reject(new Error(".put is not implemented"))}get(e,n){return Promise.reject(new Error(".get is not implemented"))}has(e,n){return Promise.reject(new Error(".has is not implemented"))}delete(e,n){return Promise.reject(new Error(".delete is not implemented"))}async*putMany(e,n={}){for await(const{key:a,value:o}of e)await this.put(a,o,n),yield{key:a,value:o}}async*getMany(e,n={}){for await(const a of e)yield this.get(a,n)}async*deleteMany(e,n={}){for await(const a of e)await this.delete(a,n),yield a}batch(){let e=[],n=[];return{put(a,o){e.push({key:a,value:o})},delete(a){n.push(a)},commit:async a=>{await drain$2(this.putMany(e,a)),e=[],await drain$2(this.deleteMany(n,a)),n=[]}}}async*_all(e,n){throw new Error("._all is not implemented")}async*_allKeys(e,n){throw new Error("._allKeys is not implemented")}query(e,n){let a=this._all(e,n);if(e.prefix!=null&&(a=filter$2(a,o=>o.key.toString().startsWith(e.prefix))),Array.isArray(e.filters)&&(a=e.filters.reduce((o,u)=>filter$2(o,u),a)),Array.isArray(e.orders)&&(a=e.orders.reduce((o,u)=>sortAll$1(o,u),a)),e.offset!=null){let o=0;a=filter$2(a,()=>o++>=e.offset)}return e.limit!=null&&(a=take$2(a,e.limit)),a}queryKeys(e,n){let a=this._allKeys(e,n);if(e.prefix!=null&&(a=filter$2(a,o=>o.toString().startsWith(e.prefix))),Array.isArray(e.filters)&&(a=e.filters.reduce((o,u)=>filter$2(o,u),a)),Array.isArray(e.orders)&&(a=e.orders.reduce((o,u)=>sortAll$1(o,u),a)),e.offset!=null){let o=0;a=filter$2(a,()=>o++>=e.offset)}return e.limit!=null&&(a=take$2(a,e.limit)),a}}class FixedFIFO{constructor(e){if(!(e>0)||e-1&e)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}push(e){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){const e=this.buffer[this.btm];if(e!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}isEmpty(){return this.buffer[this.btm]===void 0}}class FIFO{constructor(e={}){this.hwm=e.splitLimit??16,this.head=new FixedFIFO(this.hwm),this.tail=this.head,this.size=0}calculateSize(e){return e?.byteLength!=null?e.byteLength:1}push(e){if(e?.value!=null&&(this.size+=this.calculateSize(e.value)),!this.head.push(e)){const n=this.head;this.head=n.next=new FixedFIFO(2*this.head.buffer.length),this.head.push(e)}}shift(){let e=this.tail.shift();if(e===void 0&&this.tail.next!=null){const n=this.tail.next;this.tail.next=null,this.tail=n,e=this.tail.shift()}return e?.value!=null&&(this.size-=this.calculateSize(e.value)),e}isEmpty(){return this.head.isEmpty()}}function pushable(t={}){return _pushable(n=>{const a=n.shift();if(a==null)return{done:!0};if(a.error!=null)throw a.error;return{done:a.done===!0,value:a.value}},t)}function _pushable(t,e){e=e??{};let n=e.onEnd,a=new FIFO,o,u,c;const d=async()=>a.isEmpty()?c?{done:!0}:await new Promise(($,C)=>{u=P=>{u=null,a.push(P);try{$(t(a))}catch(z){C(z)}return o}}):t(a),p=$=>u!=null?u($):(a.push($),o),v=$=>(a=new FIFO,u!=null?u({error:$}):(a.push({error:$}),o)),y=$=>{if(c)return o;if(e?.objectMode!==!0&&$?.byteLength==null)throw new Error("objectMode was not true but tried to push non-Uint8Array value");return p({done:!1,value:$})},b=$=>c?o:(c=!0,$!=null?v($):p({done:!0})),_=()=>(a=new FIFO,b(),{done:!0}),w=$=>(b($),{done:!0});if(o={[Symbol.asyncIterator](){return this},next:d,return:_,throw:w,push:y,end:b,get readableLength(){return a.size}},n==null)return o;const E=o;return o={[Symbol.asyncIterator](){return this},next(){return E.next()},throw($){return E.throw($),n!=null&&(n($),n=void 0),{done:!0}},return(){return E.return(),n!=null&&(n(),n=void 0),{done:!0}},push:y,end($){return E.end($),n!=null&&(n($),n=void 0),o},get readableLength(){return E.readableLength}},o}logger("datastore:core:tiered");const SHARDING_FN="SHARDING",README_FN="_README";class MemoryDatastore extends BaseDatastore{constructor(){super(),this.data={}}open(){return Promise.resolve()}close(){return Promise.resolve()}async put(e,n){this.data[e.toString()]=n}async get(e){if(!await this.has(e))throw notFoundError();return this.data[e.toString()]}async has(e){return this.data[e.toString()]!==void 0}async delete(e){delete this.data[e.toString()]}async*_all(){yield*Object.entries(this.data).map(([e,n])=>({key:new Key(e),value:n}))}async*_allKeys(){yield*Object.entries(this.data).map(([e])=>new Key(e))}}async function*map$2(t,e){for await(const n of t)yield e(n)}async function*merge$2(...t){const e=pushable({objectMode:!0});Promise.resolve().then(async()=>{try{await Promise.all(t.map(async n=>{for await(const a of n)e.push(a)})),e.end()}catch(n){e.end(n)}}),yield*e}const rawPipe=(...t)=>{let e;for(;t.length>0;)e=t.shift()(e);return e},isIterable=t=>t!=null&&(typeof t[Symbol.asyncIterator]=="function"||typeof t[Symbol.iterator]=="function"||typeof t.next=="function"),isDuplex=t=>t!=null&&typeof t.sink=="function"&&isIterable(t.source),duplexPipelineFn=t=>e=>{const n=t.sink(e);if(n.then!=null){const a=pushable({objectMode:!0});return n.then(()=>{a.end()},u=>{a.end(u)}),merge$2(a,async function*(){yield*t.source,a.end()}())}return t.source};function pipe(t,...e){if(isDuplex(t)){const a=t;t=()=>a.source}else if(isIterable(t)){const a=t;t=()=>a}const n=[t,...e];if(n.length>1&&isDuplex(n[n.length-1])&&(n[n.length-1]=n[n.length-1].sink),n.length>2)for(let a=1;a<n.length-1;a++)isDuplex(n[a])&&(n[a]=duplexPipelineFn(n[a]));return rawPipe(...n)}new Key(SHARDING_FN);new Key(README_FN);async function*batch(t,e=1){let n=[];e<1&&(e=1);for await(const a of t)for(n.push(a);n.length>=e;)yield n.slice(0,e),n=n.slice(e);for(;n.length>0;)yield n.slice(0,e),n=n.slice(e)}async function*parallelBatch(t,e=1){for await(const n of batch(t,e)){const a=n.map(async o=>await o().then(u=>({ok:!0,value:u}),u=>({ok:!1,err:u})));for(let o=0;o<a.length;o++){const u=await a[o];if(u.ok)yield u.value;else throw u.err}}}function compare(t,e){for(let n=0;n<t.byteLength;n++){if(t[n]<e[n])return-1;if(t[n]>e[n])return 1}return t.byteLength>e.byteLength?1:t.byteLength<e.byteLength?-1:0}var objectSafeSet=set;function set(t,e,n){var a,o;if(Array.isArray(e)&&(a=e.slice(0)),typeof e=="string"&&(a=e.split(".")),typeof e=="symbol"&&(a=[e]),!Array.isArray(a))throw new Error("props arg must be an array, a string or a symbol");if(o=a.pop(),!o)return!1;prototypeCheck(o);for(var u;u=a.shift();)if(prototypeCheck(u),typeof t[u]>"u"&&(t[u]={}),t=t[u],!t||typeof t!="object")return!1;return t[o]=n,!0}function prototypeCheck(t){if(t=="__proto__"||t=="constructor"||t=="prototype")throw new Error("setting of prototype values not supported")}async function first(t){for await(const e of t)return e}class TimeoutError extends Error{constructor(e){super(e),this.name="TimeoutError"}}class AbortError extends Error{constructor(e){super(),this.name="AbortError",this.message=e}}const getDOMException=t=>globalThis.DOMException===void 0?new AbortError(t):new DOMException(t),getAbortedReason=t=>{const e=t.reason===void 0?getDOMException("This operation was aborted."):t.reason;return e instanceof Error?e:getDOMException(e)};function pTimeout(t,e){const{milliseconds:n,fallback:a,message:o,customTimers:u={setTimeout,clearTimeout}}=e;let c;const d=new Promise((p,v)=>{if(typeof n!="number"||Math.sign(n)!==1)throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${n}\``);if(n===Number.POSITIVE_INFINITY){p(t);return}if(e.signal){const{signal:b}=e;b.aborted&&v(getAbortedReason(b)),b.addEventListener("abort",()=>{v(getAbortedReason(b))})}const y=new TimeoutError;c=u.setTimeout.call(void 0,()=>{if(a){try{p(a())}catch(b){v(b)}return}typeof t.cancel=="function"&&t.cancel(),o===!1?p():o instanceof Error?v(o):(y.message=o??`Promise timed out after ${n} milliseconds`,v(y))},n),(async()=>{try{p(await t)}catch(b){v(b)}finally{u.clearTimeout.call(void 0,c)}})()});return d.clear=()=>{u.clearTimeout.call(void 0,c),c=void 0},d}const WORKER_REQUEST_READ_LOCK="lock:worker:request-read",WORKER_RELEASE_READ_LOCK="lock:worker:release-read",MASTER_GRANT_READ_LOCK="lock:master:grant-read",WORKER_REQUEST_WRITE_LOCK="lock:worker:request-write",WORKER_RELEASE_WRITE_LOCK="lock:worker:release-write",MASTER_GRANT_WRITE_LOCK="lock:master:grant-write",events={},observable=t=>{t.addEventListener("message",e=>{observable.dispatchEvent("message",t,e)}),t.port!=null&&t.port.addEventListener("message",e=>{observable.dispatchEvent("message",t,e)})};observable.addEventListener=(t,e)=>{events[t]==null&&(events[t]=[]),events[t].push(e)};observable.removeEventListener=(t,e)=>{events[t]!=null&&(events[t]=events[t].filter(n=>n===e))};observable.dispatchEvent=function(t,e,n){events[t]!=null&&events[t].forEach(a=>a(e,n))};const handleWorkerLockRequest=(t,e,n,a,o)=>(u,c)=>{if(c.data.type!==n)return;const d={type:c.data.type,name:c.data.name,identifier:c.data.identifier};t.dispatchEvent(new MessageEvent(e,{data:{name:d.name,handler:async()=>(u.postMessage({type:o,name:d.name,identifier:d.identifier}),await new Promise(p=>{const v=y=>{if(y==null||y.data==null)return;const b={type:y.data.type,name:y.data.name,identifier:y.data.identifier};b.type===a&&b.identifier===d.identifier&&(u.removeEventListener("message",v),p())};u.addEventListener("message",v)}))}}))},makeWorkerLockRequest=(t,e,n,a)=>async()=>{const o=nanoid();return globalThis.postMessage({type:e,identifier:o,name:t}),await new Promise(u=>{const c=d=>{if(d==null||d.data==null)return;const p={type:d.data.type,identifier:d.data.identifier};p.type===n&&p.identifier===o&&(globalThis.removeEventListener("message",c),u(()=>{globalThis.postMessage({type:a,identifier:o,name:t})}))};globalThis.addEventListener("message",c)})},defaultOptions$1={singleProcess:!1},impl=t=>{if(t=Object.assign({},defaultOptions$1,t),!!globalThis.document||t.singleProcess){const n=new EventTarget;return observable.addEventListener("message",handleWorkerLockRequest(n,"requestReadLock",WORKER_REQUEST_READ_LOCK,WORKER_RELEASE_READ_LOCK,MASTER_GRANT_READ_LOCK)),observable.addEventListener("message",handleWorkerLockRequest(n,"requestWriteLock",WORKER_REQUEST_WRITE_LOCK,WORKER_RELEASE_WRITE_LOCK,MASTER_GRANT_WRITE_LOCK)),n}return{isWorker:!0,readLock:n=>makeWorkerLockRequest(n,WORKER_REQUEST_READ_LOCK,MASTER_GRANT_READ_LOCK,WORKER_RELEASE_READ_LOCK),writeLock:n=>makeWorkerLockRequest(n,WORKER_REQUEST_WRITE_LOCK,MASTER_GRANT_WRITE_LOCK,WORKER_RELEASE_WRITE_LOCK)}},mutexes={};let implementation$6;async function createReleaseable(t,e){let n;const a=new Promise(o=>{n=o});return t.add(async()=>await pTimeout((async()=>await new Promise(o=>{n(()=>{o()})}))(),{milliseconds:e.timeout})),await a}const createMutex=(t,e)=>{if(implementation$6.isWorker===!0)return{readLock:implementation$6.readLock(t,e),writeLock:implementation$6.writeLock(t,e)};const n=new PQueue({concurrency:1});let a;return{async readLock(){if(a!=null)return await createReleaseable(a,e);a=new PQueue({concurrency:e.concurrency,autoStart:!1});const o=a,u=createReleaseable(a,e);return n.add(async()=>(o.start(),await o.onIdle().then(()=>{a===o&&(a=null)}))),await u},async writeLock(){return a=null,await createReleaseable(n,e)}}},defaultOptions={name:"lock",concurrency:1/0,timeout:846e5,singleProcess:!1};function createMortice(t){const e=Object.assign({},defaultOptions,t);return implementation$6==null&&(implementation$6=impl(e),implementation$6.isWorker!==!0&&(implementation$6.addEventListener("requestReadLock",n=>{mutexes[n.data.name]!=null&&mutexes[n.data.name].readLock().then(async a=>await n.data.handler().finally(()=>a()))}),implementation$6.addEventListener("requestWriteLock",async n=>{mutexes[n.data.name]!=null&&mutexes[n.data.name].writeLock().then(async a=>await n.data.handler().finally(()=>a()))}))),mutexes[e.name]==null&&(mutexes[e.name]=createMutex(e.name,e)),mutexes[e.name]}var objectSafeGet=get$2;function get$2(t,e,n){if(!t)return n;var a,o;if(Array.isArray(e)&&(a=e.slice(0)),typeof e=="string"&&(a=e.split(".")),typeof e=="symbol"&&(a=[e]),!Array.isArray(a))throw new Error("props arg must be an array, a string or a symbol");for(;a.length;)if(o=a.shift(),!t||(t=t[o],t===void 0))return n;return t}async function length(t){let e=0;for await(const n of t)e++;return e}var fnv1a$1={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),n.BASE=2166136261;function n(a,o=n.BASE){const u=a.length;for(let c=0;c<u;c++)o^=a.charCodeAt(c),o+=(o<<1)+(o<<4)+(o<<7)+(o<<8)+(o<<24);return o>>>0}e.default=n,t.exports=n})(fnv1a$1,fnv1a$1.exports);var fnv1aExports=fnv1a$1.exports;const fnv1a=getDefaultExportFromCjs(fnv1aExports);var bytes$2={exports:{}};/*!
 * bytes
 * Copyright(c) 2012-2014 TJ Holowaychuk
 * Copyright(c) 2015 Jed Watson
 * MIT Licensed
 */bytes$2.exports=bytes;bytes$2.exports.format=format;bytes$2.exports.parse=parse;var formatThousandsRegExp=/\B(?=(\d{3})+(?!\d))/g,formatDecimalsRegExp=/(?:\.0*|(\.[^0]+)0+)$/,map$1={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:Math.pow(1024,4),pb:Math.pow(1024,5)},parseRegExp=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i;function bytes(t,e){return typeof t=="string"?parse(t):typeof t=="number"?format(t,e):null}function format(t,e){if(!Number.isFinite(t))return null;var n=Math.abs(t),a=e&&e.thousandsSeparator||"",o=e&&e.unitSeparator||"",u=e&&e.decimalPlaces!==void 0?e.decimalPlaces:2,c=!!(e&&e.fixedDecimals),d=e&&e.unit||"";(!d||!map$1[d.toLowerCase()])&&(n>=map$1.pb?d="PB":n>=map$1.tb?d="TB":n>=map$1.gb?d="GB":n>=map$1.mb?d="MB":n>=map$1.kb?d="KB":d="B");var p=t/map$1[d.toLowerCase()],v=p.toFixed(u);return c||(v=v.replace(formatDecimalsRegExp,"$1")),a&&(v=v.split(".").map(function(y,b){return b===0?y.replace(formatThousandsRegExp,a):y}).join(".")),v+o+d}function parse(t){if(typeof t=="number"&&!isNaN(t))return t;if(typeof t!="string")return null;var e=parseRegExp.exec(t),n,a="b";return e?(n=parseFloat(e[1]),a=e[4].toLowerCase()):(n=parseInt(t,10),a="b"),isNaN(n)?null:Math.floor(map$1[a]*n)}var bytesExports=bytes$2.exports;const bytes$1=getDefaultExportFromCjs(bytesExports);function isPlainObject(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function sortKeys(t,e={}){if(!isPlainObject(t)&&!Array.isArray(t))throw new TypeError("Expected a plain object or array");const{deep:n,compare:a}=e,o=[],u=[],c=p=>{const v=o.indexOf(p);if(v!==-1)return u[v];const y=[];return o.push(p),u.push(y),y.push(...p.map(b=>Array.isArray(b)?c(b):isPlainObject(b)?d(b):b)),y},d=p=>{const v=o.indexOf(p);if(v!==-1)return u[v];const y={},b=Object.keys(p).sort(a);o.push(p),u.push(y);for(const _ of b){const w=p[_];let E;n&&Array.isArray(w)?E=c(w):E=n&&isPlainObject(w)?d(w):w,Object.defineProperty(y,_,{...Object.getOwnPropertyDescriptor(p,_),value:E})}return y};return Array.isArray(t)?n?c(t):t.slice():d(t)}class QuickLRU extends Map{constructor(e={}){if(super(),!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if(typeof e.maxAge=="number"&&e.maxAge===0)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=e.maxSize,this.maxAge=e.maxAge||Number.POSITIVE_INFINITY,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(e){if(typeof this.onEviction=="function")for(const[n,a]of e)this.onEviction(n,a.value)}_deleteIfExpired(e,n){return typeof n.expiry=="number"&&n.expiry<=Date.now()?(typeof this.onEviction=="function"&&this.onEviction(e,n.value),this.delete(e)):!1}_getOrDeleteIfExpired(e,n){if(this._deleteIfExpired(e,n)===!1)return n.value}_getItemValue(e,n){return n.expiry?this._getOrDeleteIfExpired(e,n):n.value}_peek(e,n){const a=n.get(e);return this._getItemValue(e,a)}_set(e,n){this.cache.set(e,n),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(e,n){this.oldCache.delete(e),this._set(e,n)}*_entriesAscending(){for(const e of this.oldCache){const[n,a]=e;this.cache.has(n)||this._deleteIfExpired(n,a)===!1&&(yield e)}for(const e of this.cache){const[n,a]=e;this._deleteIfExpired(n,a)===!1&&(yield e)}}get(e){if(this.cache.has(e)){const n=this.cache.get(e);return this._getItemValue(e,n)}if(this.oldCache.has(e)){const n=this.oldCache.get(e);if(this._deleteIfExpired(e,n)===!1)return this._moveToRecent(e,n),n.value}}set(e,n,{maxAge:a=this.maxAge}={}){const o=typeof a=="number"&&a!==Number.POSITIVE_INFINITY?Date.now()+a:void 0;this.cache.has(e)?this.cache.set(e,{value:n,expiry:o}):this._set(e,{value:n,expiry:o})}has(e){return this.cache.has(e)?!this._deleteIfExpired(e,this.cache.get(e)):this.oldCache.has(e)?!this._deleteIfExpired(e,this.oldCache.get(e)):!1}peek(e){if(this.cache.has(e))return this._peek(e,this.cache);if(this.oldCache.has(e))return this._peek(e,this.oldCache)}delete(e){const n=this.cache.delete(e);return n&&this._size--,this.oldCache.delete(e)||n}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(e){if(!(e&&e>0))throw new TypeError("`maxSize` must be a number greater than 0");const n=[...this._entriesAscending()],a=n.length-e;a<0?(this.cache=new Map(n),this.oldCache=new Map,this._size=n.length):(a>0&&this._emitEvictions(n.slice(0,a)),this.oldCache=new Map(n.slice(a)),this.cache=new Map,this._size=0),this.maxSize=e}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache){const[n,a]=e;this._deleteIfExpired(n,a)===!1&&(yield[n,a.value])}for(const e of this.oldCache){const[n,a]=e;this.cache.has(n)||this._deleteIfExpired(n,a)===!1&&(yield[n,a.value])}}*entriesDescending(){let e=[...this.cache];for(let n=e.length-1;n>=0;--n){const a=e[n],[o,u]=a;this._deleteIfExpired(o,u)===!1&&(yield[o,u.value])}e=[...this.oldCache];for(let n=e.length-1;n>=0;--n){const a=e[n],[o,u]=a;this.cache.has(o)||this._deleteIfExpired(o,u)===!1&&(yield[o,u.value])}}*entriesAscending(){for(const[e,n]of this._entriesAscending())yield[e,n.value]}get size(){if(!this._size)return this.oldCache.size;let e=0;for(const n of this.oldCache.keys())this.cache.has(n)||e++;return Math.min(this._size+e,this.maxSize)}entries(){return this.entriesAscending()}forEach(e,n=this){for(const[a,o]of this.entriesAscending())e.call(n,o,a,this)}get[Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}}async function*sort(t,e){yield*(await all(t)).sort(e)}var browserLevel={},abstractLevel$1={},abstractLevel={},levelSupports={};levelSupports.supports=function t(...e){const n=e.reduce((a,o)=>Object.assign(a,o),{});return Object.assign(n,{snapshots:n.snapshots||!1,permanence:n.permanence||!1,seek:n.seek||!1,clear:n.clear||!1,getMany:n.getMany||!1,keyIterator:n.keyIterator||!1,valueIterator:n.valueIterator||!1,iteratorNextv:n.iteratorNextv||!1,iteratorAll:n.iteratorAll||!1,status:n.status||!1,createIfMissing:n.createIfMissing||!1,errorIfExists:n.errorIfExists||!1,deferredOpen:n.deferredOpen||!1,promises:n.promises||!1,streams:n.streams||!1,encodings:Object.assign({},n.encodings),events:Object.assign({},n.events),additionalMethods:Object.assign({},n.additionalMethods)})};var levelTranscoder={},moduleError=class extends Error{constructor(e,n){super(e||""),typeof n=="object"&&n!==null&&(n.code&&(this.code=String(n.code)),n.expected&&(this.expected=!0),n.transient&&(this.transient=!0),n.cause&&(this.cause=n.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},encodings$1={};let lazy=null;var textEndec$1=function(){return lazy===null&&(lazy={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),lazy},formats$2={},encoding={};const ModuleError$8=moduleError,formats$1=new Set(["buffer","view","utf8"]);let Encoding$2=class{constructor(e){if(this.encode=e.encode||this.encode,this.decode=e.decode||this.decode,this.name=e.name||this.name,this.format=e.format||this.format,typeof this.encode!="function")throw new TypeError("The 'encode' property must be a function");if(typeof this.decode!="function")throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),typeof this.name!="string"||this.name==="")throw new TypeError("The 'name' property must be a string");if(typeof this.format!="string"||!formats$1.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");e.createViewTranscoder&&(this.createViewTranscoder=e.createViewTranscoder),e.createBufferTranscoder&&(this.createBufferTranscoder=e.createBufferTranscoder),e.createUTF8Transcoder&&(this.createUTF8Transcoder=e.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new ModuleError$8(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new ModuleError$8(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new ModuleError$8(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}};encoding.Encoding=Encoding$2;const{Buffer:Buffer$1}=buffer$2||{},{Encoding:Encoding$1}=encoding,textEndec=textEndec$1;let BufferFormat$2=class extends Encoding$1{constructor(e){super({...e,format:"buffer"})}createViewTranscoder(){return new ViewFormat$2({encode:this.encode,decode:e=>this.decode(Buffer$1.from(e.buffer,e.byteOffset,e.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}},ViewFormat$2=class extends Encoding$1{constructor(e){super({...e,format:"view"})}createBufferTranscoder(){return new BufferFormat$2({encode:e=>{const n=this.encode(e);return Buffer$1.from(n.buffer,n.byteOffset,n.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}},UTF8Format$2=class extends Encoding$1{constructor(e){super({...e,format:"utf8"})}createBufferTranscoder(){return new BufferFormat$2({encode:e=>Buffer$1.from(this.encode(e),"utf8"),decode:e=>this.decode(e.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){const{textEncoder:e,textDecoder:n}=textEndec();return new ViewFormat$2({encode:a=>e.encode(this.encode(a)),decode:a=>this.decode(n.decode(a)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}};formats$2.BufferFormat=BufferFormat$2;formats$2.ViewFormat=ViewFormat$2;formats$2.UTF8Format=UTF8Format$2;const{Buffer}=buffer$2||{Buffer:{isBuffer:()=>!1}},{textEncoder:textEncoder$3,textDecoder:textDecoder$1}=textEndec$1(),{BufferFormat:BufferFormat$1,ViewFormat:ViewFormat$1,UTF8Format:UTF8Format$1}=formats$2,identity=t=>t;encodings$1.utf8=new UTF8Format$1({encode:function(t){return Buffer.isBuffer(t)?t.toString("utf8"):ArrayBuffer.isView(t)?textDecoder$1.decode(t):String(t)},decode:identity,name:"utf8",createViewTranscoder(){return new ViewFormat$1({encode:function(t){return ArrayBuffer.isView(t)?t:textEncoder$3.encode(t)},decode:function(t){return textDecoder$1.decode(t)},name:`${this.name}+view`})},createBufferTranscoder(){return new BufferFormat$1({encode:function(t){return Buffer.isBuffer(t)?t:ArrayBuffer.isView(t)?Buffer.from(t.buffer,t.byteOffset,t.byteLength):Buffer.from(String(t),"utf8")},decode:function(t){return t.toString("utf8")},name:`${this.name}+buffer`})}});encodings$1.json=new UTF8Format$1({encode:JSON.stringify,decode:JSON.parse,name:"json"});encodings$1.buffer=new BufferFormat$1({encode:function(t){return Buffer.isBuffer(t)?t:ArrayBuffer.isView(t)?Buffer.from(t.buffer,t.byteOffset,t.byteLength):Buffer.from(String(t),"utf8")},decode:identity,name:"buffer",createViewTranscoder(){return new ViewFormat$1({encode:function(t){return ArrayBuffer.isView(t)?t:Buffer.from(String(t),"utf8")},decode:function(t){return Buffer.from(t.buffer,t.byteOffset,t.byteLength)},name:`${this.name}+view`})}});encodings$1.view=new ViewFormat$1({encode:function(t){return ArrayBuffer.isView(t)?t:textEncoder$3.encode(t)},decode:identity,name:"view",createBufferTranscoder(){return new BufferFormat$1({encode:function(t){return Buffer.isBuffer(t)?t:ArrayBuffer.isView(t)?Buffer.from(t.buffer,t.byteOffset,t.byteLength):Buffer.from(String(t),"utf8")},decode:identity,name:`${this.name}+buffer`})}});encodings$1.hex=new BufferFormat$1({encode:function(t){return Buffer.isBuffer(t)?t:Buffer.from(String(t),"hex")},decode:function(t){return t.toString("hex")},name:"hex"});encodings$1.base64=new BufferFormat$1({encode:function(t){return Buffer.isBuffer(t)?t:Buffer.from(String(t),"base64")},decode:function(t){return t.toString("base64")},name:"base64"});const ModuleError$7=moduleError,encodings=encodings$1,{Encoding}=encoding,{BufferFormat,ViewFormat,UTF8Format}=formats$2,kFormats=Symbol("formats"),kEncodings=Symbol("encodings"),validFormats=new Set(["buffer","view","utf8"]);let Transcoder$1=class{constructor(e){if(Array.isArray(e)){if(!e.every(n=>validFormats.has(n)))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}else throw new TypeError("The first argument 'formats' must be an array");this[kEncodings]=new Map,this[kFormats]=new Set(e);for(const n in encodings)try{this.encoding(n)}catch(a){if(a.code!=="LEVEL_ENCODING_NOT_SUPPORTED")throw a}}encodings(){return Array.from(new Set(this[kEncodings].values()))}encoding(e){let n=this[kEncodings].get(e);if(n===void 0){if(typeof e=="string"&&e!==""){if(n=lookup$1[e],!n)throw new ModuleError$7(`Encoding '${e}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if(typeof e!="object"||e===null)throw new TypeError("First argument 'encoding' must be a string or object");n=from(e)}const{name:a,format:o}=n;if(!this[kFormats].has(o))if(this[kFormats].has("view"))n=n.createViewTranscoder();else if(this[kFormats].has("buffer"))n=n.createBufferTranscoder();else if(this[kFormats].has("utf8"))n=n.createUTF8Transcoder();else throw new ModuleError$7(`Encoding '${a}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});for(const u of[e,a,n.name,n.commonName])this[kEncodings].set(u,n)}return n}};levelTranscoder.Transcoder=Transcoder$1;function from(t){if(t instanceof Encoding)return t;const e="type"in t&&typeof t.type=="string"?t.type:void 0,n=t.name||e||`anonymous-${anonymousCount++}`;switch(detectFormat(t)){case"view":return new ViewFormat({...t,name:n});case"utf8":return new UTF8Format({...t,name:n});case"buffer":return new BufferFormat({...t,name:n});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}function detectFormat(t){return"format"in t&&t.format!==void 0?t.format:"buffer"in t&&typeof t.buffer=="boolean"?t.buffer?"buffer":"utf8":"code"in t&&Number.isInteger(t.code)?"view":"buffer"}const aliases={binary:encodings.buffer,"utf-8":encodings.utf8},lookup$1={...encodings,...aliases};let anonymousCount=0;var catering={},nextTickBrowser$1=typeof queueMicrotask=="function"?queueMicrotask:t=>Promise.resolve().then(t),nextTick=nextTickBrowser$1;catering.fromCallback=function(t,e){if(t===void 0){var n=new Promise(function(a,o){t=function(u,c){u?o(u):a(c)}});t[e!==void 0?e:"promise"]=n}else if(typeof t!="function")throw new TypeError("Callback must be a function");return t};catering.fromPromise=function(t,e){if(e===void 0)return t;t.then(function(n){nextTick(()=>e(null,n))}).catch(function(n){nextTick(()=>e(n))})};var abstractIterator={},common={};common.getCallback=function(t,e){return typeof t=="function"?t:e};common.getOptions=function(t,e){return typeof t=="object"&&t!==null?t:e!==void 0?e:{}};const{fromCallback:fromCallback$3}=catering,ModuleError$6=moduleError,{getOptions:getOptions$2,getCallback:getCallback$2}=common,kPromise$3=Symbol("promise"),kCallback$1=Symbol("callback"),kWorking=Symbol("working"),kHandleOne$1=Symbol("handleOne"),kHandleMany$1=Symbol("handleMany"),kAutoClose=Symbol("autoClose"),kFinishWork=Symbol("finishWork"),kReturnMany=Symbol("returnMany"),kClosing=Symbol("closing"),kHandleClose=Symbol("handleClose"),kClosed=Symbol("closed"),kCloseCallbacks$1=Symbol("closeCallbacks"),kKeyEncoding$1=Symbol("keyEncoding"),kValueEncoding$1=Symbol("valueEncoding"),kAbortOnClose=Symbol("abortOnClose"),kLegacy=Symbol("legacy"),kKeys=Symbol("keys"),kValues=Symbol("values"),kLimit=Symbol("limit"),kCount=Symbol("count"),emptyOptions$1=Object.freeze({}),noop$1=()=>{};let warnedEnd=!1;class CommonIterator{constructor(e,n,a){if(typeof e!="object"||e===null){const o=e===null?"null":typeof e;throw new TypeError(`The first argument must be an abstract-level database, received ${o}`)}if(typeof n!="object"||n===null)throw new TypeError("The second argument must be an options object");this[kClosed]=!1,this[kCloseCallbacks$1]=[],this[kWorking]=!1,this[kClosing]=!1,this[kAutoClose]=!1,this[kCallback$1]=null,this[kHandleOne$1]=this[kHandleOne$1].bind(this),this[kHandleMany$1]=this[kHandleMany$1].bind(this),this[kHandleClose]=this[kHandleClose].bind(this),this[kKeyEncoding$1]=n[kKeyEncoding$1],this[kValueEncoding$1]=n[kValueEncoding$1],this[kLegacy]=a,this[kLimit]=Number.isInteger(n.limit)&&n.limit>=0?n.limit:1/0,this[kCount]=0,this[kAbortOnClose]=!!n.abortOnClose,this.db=e,this.db.attachResource(this),this.nextTick=e.nextTick}get count(){return this[kCount]}get limit(){return this[kLimit]}next(e){let n;if(e===void 0)n=new Promise((a,o)=>{e=(u,c,d)=>{u?o(u):this[kLegacy]?c===void 0&&d===void 0?a():a([c,d]):a(c)}});else if(typeof e!="function")throw new TypeError("Callback must be a function");return this[kClosing]?this.nextTick(e,new ModuleError$6("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[kWorking]?this.nextTick(e,new ModuleError$6("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[kWorking]=!0,this[kCallback$1]=e,this[kCount]>=this[kLimit]?this.nextTick(this[kHandleOne$1],null):this._next(this[kHandleOne$1])),n}_next(e){this.nextTick(e)}nextv(e,n,a){return a=getCallback$2(n,a),a=fromCallback$3(a,kPromise$3),n=getOptions$2(n,emptyOptions$1),Number.isInteger(e)?(this[kClosing]?this.nextTick(a,new ModuleError$6("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[kWorking]?this.nextTick(a,new ModuleError$6("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(e<1&&(e=1),this[kLimit]<1/0&&(e=Math.min(e,this[kLimit]-this[kCount])),this[kWorking]=!0,this[kCallback$1]=a,e<=0?this.nextTick(this[kHandleMany$1],null,[]):this._nextv(e,n,this[kHandleMany$1])),a[kPromise$3]):(this.nextTick(a,new TypeError("The first argument 'size' must be an integer")),a[kPromise$3])}_nextv(e,n,a){const o=[],u=(c,d,p)=>{if(c)return a(c);if(this[kLegacy]?d===void 0&&p===void 0:d===void 0)return a(null,o);o.push(this[kLegacy]?[d,p]:d),o.length===e?a(null,o):this._next(u)};this._next(u)}all(e,n){return n=getCallback$2(e,n),n=fromCallback$3(n,kPromise$3),e=getOptions$2(e,emptyOptions$1),this[kClosing]?this.nextTick(n,new ModuleError$6("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[kWorking]?this.nextTick(n,new ModuleError$6("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[kWorking]=!0,this[kCallback$1]=n,this[kAutoClose]=!0,this[kCount]>=this[kLimit]?this.nextTick(this[kHandleMany$1],null,[]):this._all(e,this[kHandleMany$1])),n[kPromise$3]}_all(e,n){let a=this[kCount];const o=[],u=()=>{const d=this[kLimit]<1/0?Math.min(1e3,this[kLimit]-a):1e3;d<=0?this.nextTick(n,null,o):this._nextv(d,emptyOptions$1,c)},c=(d,p)=>{d?n(d):p.length===0?n(null,o):(o.push.apply(o,p),a+=p.length,u())};u()}[kFinishWork](){const e=this[kCallback$1];return this[kAbortOnClose]&&e===null?noop$1:(this[kWorking]=!1,this[kCallback$1]=null,this[kClosing]&&this._close(this[kHandleClose]),e)}[kReturnMany](e,n,a){this[kAutoClose]?this.close(e.bind(null,n,a)):e(n,a)}seek(e,n){if(n=getOptions$2(n,emptyOptions$1),!this[kClosing]){if(this[kWorking])throw new ModuleError$6("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{const a=this.db.keyEncoding(n.keyEncoding||this[kKeyEncoding$1]),o=a.format;n.keyEncoding!==o&&(n={...n,keyEncoding:o});const u=this.db.prefixKey(a.encode(e),o);this._seek(u,n)}}}_seek(e,n){throw new ModuleError$6("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close(e){return e=fromCallback$3(e,kPromise$3),this[kClosed]?this.nextTick(e):this[kClosing]?this[kCloseCallbacks$1].push(e):(this[kClosing]=!0,this[kCloseCallbacks$1].push(e),this[kWorking]?this[kAbortOnClose]&&this[kFinishWork]()(new ModuleError$6("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this._close(this[kHandleClose])),e[kPromise$3]}_close(e){this.nextTick(e)}[kHandleClose](){this[kClosed]=!0,this.db.detachResource(this);const e=this[kCloseCallbacks$1];this[kCloseCallbacks$1]=[];for(const n of e)n()}async*[Symbol.asyncIterator](){try{let e;for(;(e=await this.next())!==void 0;)yield e}finally{this[kClosed]||await this.close()}}}let AbstractIterator$3=class extends CommonIterator{constructor(e,n){super(e,n,!0),this[kKeys]=n.keys!==!1,this[kValues]=n.values!==!1}[kHandleOne$1](e,n,a){const o=this[kFinishWork]();if(e)return o(e);try{n=this[kKeys]&&n!==void 0?this[kKeyEncoding$1].decode(n):void 0,a=this[kValues]&&a!==void 0?this[kValueEncoding$1].decode(a):void 0}catch(u){return o(new IteratorDecodeError("entry",u))}n===void 0&&a===void 0||this[kCount]++,o(null,n,a)}[kHandleMany$1](e,n){const a=this[kFinishWork]();if(e)return this[kReturnMany](a,e);try{for(const o of n){const u=o[0],c=o[1];o[0]=this[kKeys]&&u!==void 0?this[kKeyEncoding$1].decode(u):void 0,o[1]=this[kValues]&&c!==void 0?this[kValueEncoding$1].decode(c):void 0}}catch(o){return this[kReturnMany](a,new IteratorDecodeError("entries",o))}this[kCount]+=n.length,this[kReturnMany](a,null,n)}end(e){return!warnedEnd&&typeof console<"u"&&(warnedEnd=!0,console.warn(new ModuleError$6("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}))),this.close(e)}},AbstractKeyIterator$2=class extends CommonIterator{constructor(e,n){super(e,n,!1)}[kHandleOne$1](e,n){const a=this[kFinishWork]();if(e)return a(e);try{n=n!==void 0?this[kKeyEncoding$1].decode(n):void 0}catch(o){return a(new IteratorDecodeError("key",o))}n!==void 0&&this[kCount]++,a(null,n)}[kHandleMany$1](e,n){const a=this[kFinishWork]();if(e)return this[kReturnMany](a,e);try{for(let o=0;o<n.length;o++){const u=n[o];n[o]=u!==void 0?this[kKeyEncoding$1].decode(u):void 0}}catch(o){return this[kReturnMany](a,new IteratorDecodeError("keys",o))}this[kCount]+=n.length,this[kReturnMany](a,null,n)}},AbstractValueIterator$2=class extends CommonIterator{constructor(e,n){super(e,n,!1)}[kHandleOne$1](e,n){const a=this[kFinishWork]();if(e)return a(e);try{n=n!==void 0?this[kValueEncoding$1].decode(n):void 0}catch(o){return a(new IteratorDecodeError("value",o))}n!==void 0&&this[kCount]++,a(null,n)}[kHandleMany$1](e,n){const a=this[kFinishWork]();if(e)return this[kReturnMany](a,e);try{for(let o=0;o<n.length;o++){const u=n[o];n[o]=u!==void 0?this[kValueEncoding$1].decode(u):void 0}}catch(o){return this[kReturnMany](a,new IteratorDecodeError("values",o))}this[kCount]+=n.length,this[kReturnMany](a,null,n)}};class IteratorDecodeError extends ModuleError$6{constructor(e,n){super(`Iterator could not decode ${e}`,{code:"LEVEL_DECODE_ERROR",cause:n})}}for(const t of["_ended property","_nexting property","_end method"])Object.defineProperty(AbstractIterator$3.prototype,t.split(" ")[0],{get(){throw new ModuleError$6(`The ${t} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new ModuleError$6(`The ${t} has been removed`,{code:"LEVEL_LEGACY"})}});AbstractIterator$3.keyEncoding=kKeyEncoding$1;AbstractIterator$3.valueEncoding=kValueEncoding$1;abstractIterator.AbstractIterator=AbstractIterator$3;abstractIterator.AbstractKeyIterator=AbstractKeyIterator$2;abstractIterator.AbstractValueIterator=AbstractValueIterator$2;var defaultKvIterator={};const{AbstractKeyIterator:AbstractKeyIterator$1,AbstractValueIterator:AbstractValueIterator$1}=abstractIterator,kIterator=Symbol("iterator"),kCallback=Symbol("callback"),kHandleOne=Symbol("handleOne"),kHandleMany=Symbol("handleMany");let DefaultKeyIterator$1=class extends AbstractKeyIterator$1{constructor(e,n){super(e,n),this[kIterator]=e.iterator({...n,keys:!0,values:!1}),this[kHandleOne]=this[kHandleOne].bind(this),this[kHandleMany]=this[kHandleMany].bind(this)}},DefaultValueIterator$1=class extends AbstractValueIterator$1{constructor(e,n){super(e,n),this[kIterator]=e.iterator({...n,keys:!1,values:!0}),this[kHandleOne]=this[kHandleOne].bind(this),this[kHandleMany]=this[kHandleMany].bind(this)}};for(const t of[DefaultKeyIterator$1,DefaultValueIterator$1]){const e=t===DefaultKeyIterator$1,n=e?a=>a[0]:a=>a[1];t.prototype._next=function(a){this[kCallback]=a,this[kIterator].next(this[kHandleOne])},t.prototype[kHandleOne]=function(a,o,u){const c=this[kCallback];a?c(a):c(null,e?o:u)},t.prototype._nextv=function(a,o,u){this[kCallback]=u,this[kIterator].nextv(a,o,this[kHandleMany])},t.prototype._all=function(a,o){this[kCallback]=o,this[kIterator].all(a,this[kHandleMany])},t.prototype[kHandleMany]=function(a,o){const u=this[kCallback];a?u(a):u(null,o.map(n))},t.prototype._seek=function(a,o){this[kIterator].seek(a,o)},t.prototype._close=function(a){this[kIterator].close(a)}}defaultKvIterator.DefaultKeyIterator=DefaultKeyIterator$1;defaultKvIterator.DefaultValueIterator=DefaultValueIterator$1;var deferredIterator={};const{AbstractIterator:AbstractIterator$2,AbstractKeyIterator,AbstractValueIterator}=abstractIterator,ModuleError$5=moduleError,kNut=Symbol("nut"),kUndefer$1=Symbol("undefer"),kFactory=Symbol("factory");let DeferredIterator$1=class extends AbstractIterator$2{constructor(e,n){super(e,n),this[kNut]=null,this[kFactory]=()=>e.iterator(n),this.db.defer(()=>this[kUndefer$1]())}},DeferredKeyIterator$1=class extends AbstractKeyIterator{constructor(e,n){super(e,n),this[kNut]=null,this[kFactory]=()=>e.keys(n),this.db.defer(()=>this[kUndefer$1]())}},DeferredValueIterator$1=class extends AbstractValueIterator{constructor(e,n){super(e,n),this[kNut]=null,this[kFactory]=()=>e.values(n),this.db.defer(()=>this[kUndefer$1]())}};for(const t of[DeferredIterator$1,DeferredKeyIterator$1,DeferredValueIterator$1])t.prototype[kUndefer$1]=function(){this.db.status==="open"&&(this[kNut]=this[kFactory]())},t.prototype._next=function(e){this[kNut]!==null?this[kNut].next(e):this.db.status==="opening"?this.db.defer(()=>this._next(e)):this.nextTick(e,new ModuleError$5("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},t.prototype._nextv=function(e,n,a){this[kNut]!==null?this[kNut].nextv(e,n,a):this.db.status==="opening"?this.db.defer(()=>this._nextv(e,n,a)):this.nextTick(a,new ModuleError$5("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},t.prototype._all=function(e,n){this[kNut]!==null?this[kNut].all(n):this.db.status==="opening"?this.db.defer(()=>this._all(e,n)):this.nextTick(n,new ModuleError$5("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},t.prototype._seek=function(e,n){this[kNut]!==null?this[kNut]._seek(e,n):this.db.status==="opening"&&this.db.defer(()=>this._seek(e,n))},t.prototype._close=function(e){this[kNut]!==null?this[kNut].close(e):this.db.status==="opening"?this.db.defer(()=>this._close(e)):this.nextTick(e)};deferredIterator.DeferredIterator=DeferredIterator$1;deferredIterator.DeferredKeyIterator=DeferredKeyIterator$1;deferredIterator.DeferredValueIterator=DeferredValueIterator$1;var defaultChainedBatch={},abstractChainedBatch={};const{fromCallback:fromCallback$2}=catering,ModuleError$4=moduleError,{getCallback:getCallback$1,getOptions:getOptions$1}=common,kPromise$2=Symbol("promise"),kStatus$1=Symbol("status"),kOperations$1=Symbol("operations"),kFinishClose=Symbol("finishClose"),kCloseCallbacks=Symbol("closeCallbacks");let AbstractChainedBatch$1=class{constructor(e){if(typeof e!="object"||e===null){const n=e===null?"null":typeof e;throw new TypeError(`The first argument must be an abstract-level database, received ${n}`)}this[kOperations$1]=[],this[kCloseCallbacks]=[],this[kStatus$1]="open",this[kFinishClose]=this[kFinishClose].bind(this),this.db=e,this.db.attachResource(this),this.nextTick=e.nextTick}get length(){return this[kOperations$1].length}put(e,n,a){if(this[kStatus$1]!=="open")throw new ModuleError$4("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const o=this.db._checkKey(e)||this.db._checkValue(n);if(o)throw o;const u=a&&a.sublevel!=null?a.sublevel:this.db,c=a,d=u.keyEncoding(a&&a.keyEncoding),p=u.valueEncoding(a&&a.valueEncoding),v=d.format;a={...a,keyEncoding:v,valueEncoding:p.format},u!==this.db&&(a.sublevel=null);const y=u.prefixKey(d.encode(e),v),b=p.encode(n);return this._put(y,b,a),this[kOperations$1].push({...c,type:"put",key:e,value:n}),this}_put(e,n,a){}del(e,n){if(this[kStatus$1]!=="open")throw new ModuleError$4("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const a=this.db._checkKey(e);if(a)throw a;const o=n&&n.sublevel!=null?n.sublevel:this.db,u=n,c=o.keyEncoding(n&&n.keyEncoding),d=c.format;return n={...n,keyEncoding:d},o!==this.db&&(n.sublevel=null),this._del(o.prefixKey(c.encode(e),d),n),this[kOperations$1].push({...u,type:"del",key:e}),this}_del(e,n){}clear(){if(this[kStatus$1]!=="open")throw new ModuleError$4("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[kOperations$1]=[],this}_clear(){}write(e,n){return n=getCallback$1(e,n),n=fromCallback$2(n,kPromise$2),e=getOptions$1(e),this[kStatus$1]!=="open"?this.nextTick(n,new ModuleError$4("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"})):this.length===0?this.close(n):(this[kStatus$1]="writing",this._write(e,a=>{this[kStatus$1]="closing",this[kCloseCallbacks].push(()=>n(a)),a||this.db.emit("batch",this[kOperations$1]),this._close(this[kFinishClose])})),n[kPromise$2]}_write(e,n){}close(e){return e=fromCallback$2(e,kPromise$2),this[kStatus$1]==="closing"?this[kCloseCallbacks].push(e):this[kStatus$1]==="closed"?this.nextTick(e):(this[kCloseCallbacks].push(e),this[kStatus$1]!=="writing"&&(this[kStatus$1]="closing",this._close(this[kFinishClose]))),e[kPromise$2]}_close(e){this.nextTick(e)}[kFinishClose](){this[kStatus$1]="closed",this.db.detachResource(this);const e=this[kCloseCallbacks];this[kCloseCallbacks]=[];for(const n of e)n()}};abstractChainedBatch.AbstractChainedBatch=AbstractChainedBatch$1;const{AbstractChainedBatch}=abstractChainedBatch,ModuleError$3=moduleError,kEncoded=Symbol("encoded");let DefaultChainedBatch$1=class extends AbstractChainedBatch{constructor(e){super(e),this[kEncoded]=[]}_put(e,n,a){this[kEncoded].push({...a,type:"put",key:e,value:n})}_del(e,n){this[kEncoded].push({...n,type:"del",key:e})}_clear(){this[kEncoded]=[]}_write(e,n){this.db.status==="opening"?this.db.defer(()=>this._write(e,n)):this.db.status==="open"?this[kEncoded].length===0?this.nextTick(n):this.db._batch(this[kEncoded],e,n):this.nextTick(n,new ModuleError$3("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}};defaultChainedBatch.DefaultChainedBatch=DefaultChainedBatch$1;const ModuleError$2=moduleError,hasOwnProperty=Object.prototype.hasOwnProperty,rangeOptions$1=new Set(["lt","lte","gt","gte"]);var rangeOptions_1=function(t,e){const n={};for(const a in t)if(hasOwnProperty.call(t,a)&&!(a==="keyEncoding"||a==="valueEncoding")){if(a==="start"||a==="end")throw new ModuleError$2(`The legacy range option '${a}' has been removed`,{code:"LEVEL_LEGACY"});if(a==="encoding")throw new ModuleError$2("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});rangeOptions$1.has(a)?n[a]=e.encode(t[a]):n[a]=t[a]}return n.reverse=!!n.reverse,n.limit=Number.isInteger(n.limit)&&n.limit>=0?n.limit:-1,n};/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let promise;var queueMicrotask_1=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:commonjsGlobal):t=>(promise||(promise=Promise.resolve())).then(t).catch(e=>setTimeout(()=>{throw e},0)),nextTickBrowser,hasRequiredNextTickBrowser;function requireNextTickBrowser(){if(hasRequiredNextTickBrowser)return nextTickBrowser;hasRequiredNextTickBrowser=1;const t=queueMicrotask_1;return nextTickBrowser=function(e,...n){n.length===0?t(e):t(()=>e(...n))},nextTickBrowser}var abstractSublevelIterator={},hasRequiredAbstractSublevelIterator;function requireAbstractSublevelIterator(){if(hasRequiredAbstractSublevelIterator)return abstractSublevelIterator;hasRequiredAbstractSublevelIterator=1;const{AbstractIterator:t,AbstractKeyIterator:e,AbstractValueIterator:n}=abstractIterator,a=Symbol("unfix"),o=Symbol("iterator"),u=Symbol("handleOne"),c=Symbol("handleMany"),d=Symbol("callback");class p extends t{constructor(_,w,E,$){super(_,w),this[o]=E,this[a]=$,this[u]=this[u].bind(this),this[c]=this[c].bind(this),this[d]=null}[u](_,w,E){const $=this[d];if(_)return $(_);w!==void 0&&(w=this[a](w)),$(_,w,E)}[c](_,w){const E=this[d];if(_)return E(_);for(const $ of w){const C=$[0];C!==void 0&&($[0]=this[a](C))}E(_,w)}}class v extends e{constructor(_,w,E,$){super(_,w),this[o]=E,this[a]=$,this[u]=this[u].bind(this),this[c]=this[c].bind(this),this[d]=null}[u](_,w){const E=this[d];if(_)return E(_);w!==void 0&&(w=this[a](w)),E(_,w)}[c](_,w){const E=this[d];if(_)return E(_);for(let $=0;$<w.length;$++){const C=w[$];C!==void 0&&(w[$]=this[a](C))}E(_,w)}}class y extends n{constructor(_,w,E){super(_,w),this[o]=E}}for(const b of[p,v])b.prototype._next=function(_){this[d]=_,this[o].next(this[u])},b.prototype._nextv=function(_,w,E){this[d]=E,this[o].nextv(_,w,this[c])},b.prototype._all=function(_,w){this[d]=w,this[o].all(_,this[c])};for(const b of[y])b.prototype._next=function(_){this[o].next(_)},b.prototype._nextv=function(_,w,E){this[o].nextv(_,w,E)},b.prototype._all=function(_,w){this[o].all(_,w)};for(const b of[p,v,y])b.prototype._seek=function(_,w){this[o].seek(_,w)},b.prototype._close=function(_){this[o].close(_)};return abstractSublevelIterator.AbstractSublevelIterator=p,abstractSublevelIterator.AbstractSublevelKeyIterator=v,abstractSublevelIterator.AbstractSublevelValueIterator=y,abstractSublevelIterator}var abstractSublevel,hasRequiredAbstractSublevel;function requireAbstractSublevel(){if(hasRequiredAbstractSublevel)return abstractSublevel;hasRequiredAbstractSublevel=1;const t=moduleError,{Buffer:e}=buffer$2||{},{AbstractSublevelIterator:n,AbstractSublevelKeyIterator:a,AbstractSublevelValueIterator:o}=requireAbstractSublevelIterator(),u=Symbol("prefix"),c=Symbol("upperBound"),d=Symbol("prefixRange"),p=Symbol("parent"),v=Symbol("unfix"),y=new TextEncoder,b={separator:"!"};abstractSublevel=function({AbstractLevel:P}){class z extends P{static defaults(X){if(typeof X=="string")throw new t("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});if(X&&X.open)throw new t("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});return X==null?b:X.separator?X:{...X,separator:"!"}}constructor(X,re,de){const{separator:xe,manifest:$e,...Pe}=z.defaults(de);re=C(re,xe);const it=xe.charCodeAt(0)+1,fe=X[p]||X;if(!y.encode(re).every(x=>x>it&&x<127))throw new t(`Prefix must use bytes > ${it} < 127`,{code:"LEVEL_INVALID_PREFIX"});super(_(fe,$e),Pe);const B=(X.prefix||"")+xe+re+xe,k=B.slice(0,-1)+String.fromCharCode(it);this[p]=fe,this[u]=new E(B),this[c]=new E(k),this[v]=new $,this.nextTick=fe.nextTick}prefixKey(X,re){if(re==="utf8")return this[u].utf8+X;if(X.byteLength===0)return this[u][re];if(re==="view"){const de=this[u].view,xe=new Uint8Array(de.byteLength+X.byteLength);return xe.set(de,0),xe.set(X,de.byteLength),xe}else{const de=this[u].buffer;return e.concat([de,X],de.byteLength+X.byteLength)}}[d](X,re){X.gte!==void 0?X.gte=this.prefixKey(X.gte,re):X.gt!==void 0?X.gt=this.prefixKey(X.gt,re):X.gte=this[u][re],X.lte!==void 0?X.lte=this.prefixKey(X.lte,re):X.lt!==void 0?X.lt=this.prefixKey(X.lt,re):X.lte=this[c][re]}get prefix(){return this[u].utf8}get db(){return this[p]}_open(X,re){this[p].open({passive:!0},re)}_put(X,re,de,xe){this[p].put(X,re,de,xe)}_get(X,re,de){this[p].get(X,re,de)}_getMany(X,re,de){this[p].getMany(X,re,de)}_del(X,re,de){this[p].del(X,re,de)}_batch(X,re,de){this[p].batch(X,re,de)}_clear(X,re){this[d](X,X.keyEncoding),this[p].clear(X,re)}_iterator(X){this[d](X,X.keyEncoding);const re=this[p].iterator(X),de=this[v].get(this[u].utf8.length,X.keyEncoding);return new n(this,X,re,de)}_keys(X){this[d](X,X.keyEncoding);const re=this[p].keys(X),de=this[v].get(this[u].utf8.length,X.keyEncoding);return new a(this,X,re,de)}_values(X){this[d](X,X.keyEncoding);const re=this[p].values(X);return new o(this,X,re)}}return{AbstractSublevel:z}};const _=function(P,z){return{...P.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...z,encodings:{utf8:w(P,"utf8"),buffer:w(P,"buffer"),view:w(P,"view")}}},w=function(P,z){return P.supports.encodings[z]?P.keyEncoding(z).name===z:!1};class E{constructor(z){this.utf8=z,this.view=y.encode(z),this.buffer=e?e.from(this.view.buffer,0,this.view.byteLength):{}}}class ${constructor(){this.cache=new Map}get(z,J){let X=this.cache.get(J);return X===void 0&&(J==="view"?X=function(re,de){return de.subarray(re)}.bind(null,z):X=function(re,de){return de.slice(re)}.bind(null,z),this.cache.set(J,X)),X}}const C=function(P,z){let J=0,X=P.length;for(;J<X&&P[J]===z;)J++;for(;X>J&&P[X-1]===z;)X--;return P.slice(J,X)};return abstractSublevel}const{supports}=levelSupports,{Transcoder}=levelTranscoder,{EventEmitter:EventEmitter$1}=eventsExports,{fromCallback:fromCallback$1}=catering,ModuleError$1=moduleError,{AbstractIterator:AbstractIterator$1}=abstractIterator,{DefaultKeyIterator,DefaultValueIterator}=defaultKvIterator,{DeferredIterator,DeferredKeyIterator,DeferredValueIterator}=deferredIterator,{DefaultChainedBatch}=defaultChainedBatch,{getCallback,getOptions}=common,rangeOptions=rangeOptions_1,kPromise$1=Symbol("promise"),kLanded=Symbol("landed"),kResources=Symbol("resources"),kCloseResources=Symbol("closeResources"),kOperations=Symbol("operations"),kUndefer=Symbol("undefer"),kDeferOpen=Symbol("deferOpen"),kOptions$1=Symbol("options"),kStatus=Symbol("status"),kDefaultOptions=Symbol("defaultOptions"),kTranscoder=Symbol("transcoder"),kKeyEncoding=Symbol("keyEncoding"),kValueEncoding=Symbol("valueEncoding"),noop=()=>{};let AbstractLevel$1=class extends EventEmitter$1{constructor(e,n){if(super(),typeof e!="object"||e===null)throw new TypeError("The first argument 'manifest' must be an object");n=getOptions(n);const{keyEncoding:a,valueEncoding:o,passive:u,...c}=n;this[kResources]=new Set,this[kOperations]=[],this[kDeferOpen]=!0,this[kOptions$1]=c,this[kStatus]="opening",this.supports=supports(e,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:e.snapshots!==!1,permanence:e.permanence!==!1,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:e.encodings||{},events:Object.assign({},e.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[kTranscoder]=new Transcoder(formats(this)),this[kKeyEncoding]=this[kTranscoder].encoding(a||"utf8"),this[kValueEncoding]=this[kTranscoder].encoding(o||"utf8");for(const d of this[kTranscoder].encodings())this.supports.encodings[d.commonName]||(this.supports.encodings[d.commonName]=!0);this[kDefaultOptions]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[kKeyEncoding].commonName,valueEncoding:this[kValueEncoding].commonName}),key:Object.freeze({keyEncoding:this[kKeyEncoding].commonName})},this.nextTick(()=>{this[kDeferOpen]&&this.open({passive:!1},noop)})}get status(){return this[kStatus]}keyEncoding(e){return this[kTranscoder].encoding(e??this[kKeyEncoding])}valueEncoding(e){return this[kTranscoder].encoding(e??this[kValueEncoding])}open(e,n){n=getCallback(e,n),n=fromCallback$1(n,kPromise$1),e={...this[kOptions$1],...getOptions(e)},e.createIfMissing=e.createIfMissing!==!1,e.errorIfExists=!!e.errorIfExists;const a=o=>{this[kStatus]==="closing"||this[kStatus]==="opening"?this.once(kLanded,o?()=>a(o):a):this[kStatus]!=="open"?n(new ModuleError$1("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:o})):n()};return e.passive?this[kStatus]==="opening"?this.once(kLanded,a):this.nextTick(a):this[kStatus]==="closed"||this[kDeferOpen]?(this[kDeferOpen]=!1,this[kStatus]="opening",this.emit("opening"),this._open(e,o=>{if(o){this[kStatus]="closed",this[kCloseResources](()=>{this.emit(kLanded),a(o)}),this[kUndefer]();return}this[kStatus]="open",this[kUndefer](),this.emit(kLanded),this[kStatus]==="open"&&this.emit("open"),this[kStatus]==="open"&&this.emit("ready"),a()})):this[kStatus]==="open"?this.nextTick(a):this.once(kLanded,()=>this.open(e,n)),n[kPromise$1]}_open(e,n){this.nextTick(n)}close(e){e=fromCallback$1(e,kPromise$1);const n=a=>{this[kStatus]==="opening"||this[kStatus]==="closing"?this.once(kLanded,a?n(a):n):this[kStatus]!=="closed"?e(new ModuleError$1("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:a})):e()};if(this[kStatus]==="open"){this[kStatus]="closing",this.emit("closing");const a=o=>{this[kStatus]="open",this[kUndefer](),this.emit(kLanded),n(o)};this[kCloseResources](()=>{this._close(o=>{if(o)return a(o);this[kStatus]="closed",this[kUndefer](),this.emit(kLanded),this[kStatus]==="closed"&&this.emit("closed"),n()})})}else this[kStatus]==="closed"?this.nextTick(n):this.once(kLanded,()=>this.close(e));return e[kPromise$1]}[kCloseResources](e){if(this[kResources].size===0)return this.nextTick(e);let n=this[kResources].size,a=!0;const o=()=>{--n===0&&(a?this.nextTick(e):e())};for(const u of this[kResources])u.close(o);a=!1,this[kResources].clear()}_close(e){this.nextTick(e)}get(e,n,a){if(a=getCallback(n,a),a=fromCallback$1(a,kPromise$1),n=getOptions(n,this[kDefaultOptions].entry),this[kStatus]==="opening")return this.defer(()=>this.get(e,n,a)),a[kPromise$1];if(maybeError(this,a))return a[kPromise$1];const o=this._checkKey(e);if(o)return this.nextTick(a,o),a[kPromise$1];const u=this.keyEncoding(n.keyEncoding),c=this.valueEncoding(n.valueEncoding),d=u.format,p=c.format;return(n.keyEncoding!==d||n.valueEncoding!==p)&&(n=Object.assign({},n,{keyEncoding:d,valueEncoding:p})),this._get(this.prefixKey(u.encode(e),d),n,(v,y)=>{if(v)return(v.code==="LEVEL_NOT_FOUND"||v.notFound||/NotFound/i.test(v))&&(v.code||(v.code="LEVEL_NOT_FOUND"),v.notFound||(v.notFound=!0),v.status||(v.status=404)),a(v);try{y=c.decode(y)}catch(b){return a(new ModuleError$1("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:b}))}a(null,y)}),a[kPromise$1]}_get(e,n,a){this.nextTick(a,new Error("NotFound"))}getMany(e,n,a){if(a=getCallback(n,a),a=fromCallback$1(a,kPromise$1),n=getOptions(n,this[kDefaultOptions].entry),this[kStatus]==="opening")return this.defer(()=>this.getMany(e,n,a)),a[kPromise$1];if(maybeError(this,a))return a[kPromise$1];if(!Array.isArray(e))return this.nextTick(a,new TypeError("The first argument 'keys' must be an array")),a[kPromise$1];if(e.length===0)return this.nextTick(a,null,[]),a[kPromise$1];const o=this.keyEncoding(n.keyEncoding),u=this.valueEncoding(n.valueEncoding),c=o.format,d=u.format;(n.keyEncoding!==c||n.valueEncoding!==d)&&(n=Object.assign({},n,{keyEncoding:c,valueEncoding:d}));const p=new Array(e.length);for(let v=0;v<e.length;v++){const y=e[v],b=this._checkKey(y);if(b)return this.nextTick(a,b),a[kPromise$1];p[v]=this.prefixKey(o.encode(y),c)}return this._getMany(p,n,(v,y)=>{if(v)return a(v);try{for(let b=0;b<y.length;b++)y[b]!==void 0&&(y[b]=u.decode(y[b]))}catch(b){return a(new ModuleError$1(`Could not decode one or more of ${y.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:b}))}a(null,y)}),a[kPromise$1]}_getMany(e,n,a){this.nextTick(a,null,new Array(e.length).fill(void 0))}put(e,n,a,o){if(o=getCallback(a,o),o=fromCallback$1(o,kPromise$1),a=getOptions(a,this[kDefaultOptions].entry),this[kStatus]==="opening")return this.defer(()=>this.put(e,n,a,o)),o[kPromise$1];if(maybeError(this,o))return o[kPromise$1];const u=this._checkKey(e)||this._checkValue(n);if(u)return this.nextTick(o,u),o[kPromise$1];const c=this.keyEncoding(a.keyEncoding),d=this.valueEncoding(a.valueEncoding),p=c.format,v=d.format;(a.keyEncoding!==p||a.valueEncoding!==v)&&(a=Object.assign({},a,{keyEncoding:p,valueEncoding:v}));const y=this.prefixKey(c.encode(e),p),b=d.encode(n);return this._put(y,b,a,_=>{if(_)return o(_);this.emit("put",e,n),o()}),o[kPromise$1]}_put(e,n,a,o){this.nextTick(o)}del(e,n,a){if(a=getCallback(n,a),a=fromCallback$1(a,kPromise$1),n=getOptions(n,this[kDefaultOptions].key),this[kStatus]==="opening")return this.defer(()=>this.del(e,n,a)),a[kPromise$1];if(maybeError(this,a))return a[kPromise$1];const o=this._checkKey(e);if(o)return this.nextTick(a,o),a[kPromise$1];const u=this.keyEncoding(n.keyEncoding),c=u.format;return n.keyEncoding!==c&&(n=Object.assign({},n,{keyEncoding:c})),this._del(this.prefixKey(u.encode(e),c),n,d=>{if(d)return a(d);this.emit("del",e),a()}),a[kPromise$1]}_del(e,n,a){this.nextTick(a)}batch(e,n,a){if(!arguments.length){if(this[kStatus]==="opening")return new DefaultChainedBatch(this);if(this[kStatus]!=="open")throw new ModuleError$1("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(typeof e=="function"?a=e:a=getCallback(n,a),a=fromCallback$1(a,kPromise$1),n=getOptions(n,this[kDefaultOptions].empty),this[kStatus]==="opening")return this.defer(()=>this.batch(e,n,a)),a[kPromise$1];if(maybeError(this,a))return a[kPromise$1];if(!Array.isArray(e))return this.nextTick(a,new TypeError("The first argument 'operations' must be an array")),a[kPromise$1];if(e.length===0)return this.nextTick(a),a[kPromise$1];const o=new Array(e.length),{keyEncoding:u,valueEncoding:c,...d}=n;for(let p=0;p<e.length;p++){if(typeof e[p]!="object"||e[p]===null)return this.nextTick(a,new TypeError("A batch operation must be an object")),a[kPromise$1];const v=Object.assign({},e[p]);if(v.type!=="put"&&v.type!=="del")return this.nextTick(a,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),a[kPromise$1];const y=this._checkKey(v.key);if(y)return this.nextTick(a,y),a[kPromise$1];const b=v.sublevel!=null?v.sublevel:this,_=b.keyEncoding(v.keyEncoding||u),w=_.format;if(v.key=b.prefixKey(_.encode(v.key),w),v.keyEncoding=w,v.type==="put"){const E=this._checkValue(v.value);if(E)return this.nextTick(a,E),a[kPromise$1];const $=b.valueEncoding(v.valueEncoding||c);v.value=$.encode(v.value),v.valueEncoding=$.format}b!==this&&(v.sublevel=null),o[p]=v}return this._batch(o,d,p=>{if(p)return a(p);this.emit("batch",e),a()}),a[kPromise$1]}_batch(e,n,a){this.nextTick(a)}sublevel(e,n){return this._sublevel(e,AbstractSublevel.defaults(n))}_sublevel(e,n){return new AbstractSublevel(this,e,n)}prefixKey(e,n){return e}clear(e,n){if(n=getCallback(e,n),n=fromCallback$1(n,kPromise$1),e=getOptions(e,this[kDefaultOptions].empty),this[kStatus]==="opening")return this.defer(()=>this.clear(e,n)),n[kPromise$1];if(maybeError(this,n))return n[kPromise$1];const a=e,o=this.keyEncoding(e.keyEncoding);return e=rangeOptions(e,o),e.keyEncoding=o.format,e.limit===0?this.nextTick(n):this._clear(e,u=>{if(u)return n(u);this.emit("clear",a),n()}),n[kPromise$1]}_clear(e,n){this.nextTick(n)}iterator(e){const n=this.keyEncoding(e&&e.keyEncoding),a=this.valueEncoding(e&&e.valueEncoding);if(e=rangeOptions(e,n),e.keys=e.keys!==!1,e.values=e.values!==!1,e[AbstractIterator$1.keyEncoding]=n,e[AbstractIterator$1.valueEncoding]=a,e.keyEncoding=n.format,e.valueEncoding=a.format,this[kStatus]==="opening")return new DeferredIterator(this,e);if(this[kStatus]!=="open")throw new ModuleError$1("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator(e)}_iterator(e){return new AbstractIterator$1(this,e)}keys(e){const n=this.keyEncoding(e&&e.keyEncoding),a=this.valueEncoding(e&&e.valueEncoding);if(e=rangeOptions(e,n),e[AbstractIterator$1.keyEncoding]=n,e[AbstractIterator$1.valueEncoding]=a,e.keyEncoding=n.format,e.valueEncoding=a.format,this[kStatus]==="opening")return new DeferredKeyIterator(this,e);if(this[kStatus]!=="open")throw new ModuleError$1("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys(e)}_keys(e){return new DefaultKeyIterator(this,e)}values(e){const n=this.keyEncoding(e&&e.keyEncoding),a=this.valueEncoding(e&&e.valueEncoding);if(e=rangeOptions(e,n),e[AbstractIterator$1.keyEncoding]=n,e[AbstractIterator$1.valueEncoding]=a,e.keyEncoding=n.format,e.valueEncoding=a.format,this[kStatus]==="opening")return new DeferredValueIterator(this,e);if(this[kStatus]!=="open")throw new ModuleError$1("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values(e)}_values(e){return new DefaultValueIterator(this,e)}defer(e){if(typeof e!="function")throw new TypeError("The first argument must be a function");this[kOperations].push(e)}[kUndefer](){if(this[kOperations].length===0)return;const e=this[kOperations];this[kOperations]=[];for(const n of e)n()}attachResource(e){if(typeof e!="object"||e===null||typeof e.close!="function")throw new TypeError("The first argument must be a resource object");this[kResources].add(e)}detachResource(e){this[kResources].delete(e)}_chainedBatch(){return new DefaultChainedBatch(this)}_checkKey(e){if(e==null)return new ModuleError$1("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(e){if(e==null)return new ModuleError$1("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}};AbstractLevel$1.prototype.nextTick=requireNextTickBrowser();const{AbstractSublevel}=requireAbstractSublevel()({AbstractLevel:AbstractLevel$1});abstractLevel.AbstractLevel=AbstractLevel$1;abstractLevel.AbstractSublevel=AbstractSublevel;const maybeError=function(t,e){return t[kStatus]!=="open"?(t.nextTick(e,new ModuleError$1("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0):!1},formats=function(t){return Object.keys(t.supports.encodings).filter(e=>!!t.supports.encodings[e])};abstractLevel$1.AbstractLevel=abstractLevel.AbstractLevel;abstractLevel$1.AbstractSublevel=abstractLevel.AbstractSublevel;abstractLevel$1.AbstractIterator=abstractIterator.AbstractIterator;abstractLevel$1.AbstractKeyIterator=abstractIterator.AbstractKeyIterator;abstractLevel$1.AbstractValueIterator=abstractIterator.AbstractValueIterator;abstractLevel$1.AbstractChainedBatch=abstractChainedBatch.AbstractChainedBatch;/*! run-parallel-limit. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var runParallelLimit_1=runParallelLimit;const queueMicrotask$1=queueMicrotask_1;function runParallelLimit(t,e,n){if(typeof e!="number")throw new Error("second argument must be a Number");let a,o,u,c,d,p=!0,v;Array.isArray(t)?(a=[],u=o=t.length):(c=Object.keys(t),a={},u=o=c.length);function y(_){function w(){n&&n(_,a),n=null}p?queueMicrotask$1(w):w()}function b(_,w,E){if(a[_]=E,w&&(d=!0),--u===0||w)y(w);else if(!d&&v<o){let $;c?($=c[v],v+=1,t[$](function(C,P){b($,C,P)})):($=v,v+=1,t[$](function(C,P){b($,C,P)}))}}v=e,u?c?c.some(function(_,w){return t[_](function(E,$){b(_,E,$)}),w===e-1}):t.some(function(_,w){return _(function(E,$){b(w,E,$)}),w===e-1}):y(null),p=!1}var iterator={},keyRange=function t(e){const n=e.gte!==void 0?e.gte:e.gt!==void 0?e.gt:void 0,a=e.lte!==void 0?e.lte:e.lt!==void 0?e.lt:void 0,o=e.gte===void 0,u=e.lte===void 0;return n!==void 0&&a!==void 0?IDBKeyRange.bound(n,a,o,u):n!==void 0?IDBKeyRange.lowerBound(n,o):a!==void 0?IDBKeyRange.upperBound(a,u):null};const textEncoder$2=new TextEncoder;var deserialize$2=function(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):textEncoder$2.encode(t)};const{AbstractIterator}=abstractLevel$1,createKeyRange$1=keyRange,deserialize$1=deserialize$2,kCache=Symbol("cache"),kFinished=Symbol("finished"),kOptions=Symbol("options"),kCurrentOptions=Symbol("currentOptions"),kPosition=Symbol("position"),kLocation$1=Symbol("location"),kFirst=Symbol("first"),emptyOptions={};let Iterator$1=class extends AbstractIterator{constructor(e,n,a){super(e,a),this[kCache]=[],this[kFinished]=this.limit===0,this[kOptions]=a,this[kCurrentOptions]={...a},this[kPosition]=void 0,this[kLocation$1]=n,this[kFirst]=!0}_nextv(e,n,a){if(this[kFirst]=!1,this[kFinished])return this.nextTick(a,null,[]);if(this[kCache].length>0)return e=Math.min(e,this[kCache].length),this.nextTick(a,null,this[kCache].splice(0,e));this[kPosition]!==void 0&&(this[kOptions].reverse?(this[kCurrentOptions].lt=this[kPosition],this[kCurrentOptions].lte=void 0):(this[kCurrentOptions].gt=this[kPosition],this[kCurrentOptions].gte=void 0));let o;try{o=createKeyRange$1(this[kCurrentOptions])}catch{return this[kFinished]=!0,this.nextTick(a,null,[])}const u=this.db.db.transaction([this[kLocation$1]],"readonly"),c=u.objectStore(this[kLocation$1]),d=[];if(this[kOptions].reverse){const p=!this[kOptions].values&&c.openKeyCursor?"openKeyCursor":"openCursor";c[p](o,"prev").onsuccess=v=>{const y=v.target.result;if(y){const{key:b,value:_}=y;this[kPosition]=b,d.push([this[kOptions].keys&&b!==void 0?deserialize$1(b):void 0,this[kOptions].values&&_!==void 0?deserialize$1(_):void 0]),d.length<e?y.continue():maybeCommit(u)}else this[kFinished]=!0}}else{let p,v;const y=()=>{if(p===void 0||v===void 0)return;const b=Math.max(p.length,v.length);b===0||e===1/0?this[kFinished]=!0:this[kPosition]=p[b-1],d.length=b;for(let _=0;_<b;_++){const w=p[_],E=v[_];d[_]=[this[kOptions].keys&&w!==void 0?deserialize$1(w):void 0,this[kOptions].values&&E!==void 0?deserialize$1(E):void 0]}maybeCommit(u)};this[kOptions].keys||e<1/0?c.getAllKeys(o,e<1/0?e:void 0).onsuccess=b=>{p=b.target.result,y()}:(p=[],this.nextTick(y)),this[kOptions].values?c.getAll(o,e<1/0?e:void 0).onsuccess=b=>{v=b.target.result,y()}:(v=[],this.nextTick(y))}u.onabort=()=>{a(u.error||new Error("aborted by user")),a=null},u.oncomplete=()=>{a(null,d),a=null}}_next(e){if(this[kCache].length>0){const[n,a]=this[kCache].shift();this.nextTick(e,null,n,a)}else if(this[kFinished])this.nextTick(e);else{let n=Math.min(100,this.limit-this.count);this[kFirst]&&(this[kFirst]=!1,n=1),this._nextv(n,emptyOptions,(a,o)=>{if(a)return e(a);this[kCache]=o,this._next(e)})}}_all(e,n){this[kFirst]=!1;const a=this[kCache].splice(0,this[kCache].length),o=this.limit-this.count-a.length;if(o<=0)return this.nextTick(n,null,a);this._nextv(o,emptyOptions,(u,c)=>{if(u)return n(u);a.length>0&&(c=a.concat(c)),n(null,c)})}_seek(e,n){this[kFirst]=!0,this[kCache]=[],this[kFinished]=!1,this[kPosition]=void 0,this[kCurrentOptions]={...this[kOptions]};let a;try{a=createKeyRange$1(this[kOptions])}catch{this[kFinished]=!0;return}a!==null&&!a.includes(e)?this[kFinished]=!0:this[kOptions].reverse?this[kCurrentOptions].lte=e:this[kCurrentOptions].gte=e}};iterator.Iterator=Iterator$1;function maybeCommit(t){typeof t.commit=="function"&&t.commit()}var clear$3=function t(e,n,a,o,u){if(o.limit===0)return e.nextTick(u);const c=e.db.transaction([n],"readwrite"),d=c.objectStore(n);let p=0;c.oncomplete=function(){u()},c.onabort=function(){u(c.error||new Error("aborted by user"))};const v=d.openKeyCursor?"openKeyCursor":"openCursor",y=o.reverse?"prev":"next";d[v](a,y).onsuccess=function(b){const _=b.target.result;_&&(d.delete(_.key).onsuccess=function(){(o.limit<=0||++p<o.limit)&&_.continue()})}};const{AbstractLevel}=abstractLevel$1,ModuleError=moduleError,parallel=runParallelLimit_1,{fromCallback}=catering,{Iterator}=iterator,deserialize=deserialize$2,clear$2=clear$3,createKeyRange=keyRange,DEFAULT_PREFIX="level-js-",kIDB=Symbol("idb"),kNamePrefix=Symbol("namePrefix"),kLocation=Symbol("location"),kVersion=Symbol("version"),kStore=Symbol("store"),kOnComplete=Symbol("onComplete"),kPromise=Symbol("promise");class BrowserLevel extends AbstractLevel{constructor(e,n,a){if(typeof n=="function"||typeof a=="function")throw new ModuleError("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});const{prefix:o,version:u,...c}=n||{};if(super({encodings:{view:!0},snapshots:!1,createIfMissing:!1,errorIfExists:!1,seek:!0},c),typeof e!="string")throw new Error("constructor requires a location string argument");this[kLocation]=e,this[kNamePrefix]=o??DEFAULT_PREFIX,this[kVersion]=parseInt(u||1,10),this[kIDB]=null}get location(){return this[kLocation]}get namePrefix(){return this[kNamePrefix]}get version(){return this[kVersion]}get db(){return this[kIDB]}get type(){return"browser-level"}_open(e,n){const a=indexedDB.open(this[kNamePrefix]+this[kLocation],this[kVersion]);a.onerror=function(){n(a.error||new Error("unknown error"))},a.onsuccess=()=>{this[kIDB]=a.result,n()},a.onupgradeneeded=o=>{const u=o.target.result;u.objectStoreNames.contains(this[kLocation])||u.createObjectStore(this[kLocation])}}[kStore](e){return this[kIDB].transaction([this[kLocation]],e).objectStore(this[kLocation])}[kOnComplete](e,n){const a=e.transaction;a.onabort=function(){n(a.error||new Error("aborted by user"))},a.oncomplete=function(){n(null,e.result)}}_get(e,n,a){const o=this[kStore]("readonly");let u;try{u=o.get(e)}catch(c){return this.nextTick(a,c)}this[kOnComplete](u,function(c,d){if(c)return a(c);if(d===void 0)return a(new ModuleError("Entry not found",{code:"LEVEL_NOT_FOUND"}));a(null,deserialize(d))})}_getMany(e,n,a){const o=this[kStore]("readonly"),u=e.map(c=>d=>{let p;try{p=o.get(c)}catch(v){return d(v)}p.onsuccess=()=>{const v=p.result;d(null,v===void 0?v:deserialize(v))},p.onerror=v=>{v.stopPropagation(),d(p.error)}});parallel(u,16,a)}_del(e,n,a){const o=this[kStore]("readwrite");let u;try{u=o.delete(e)}catch(c){return this.nextTick(a,c)}this[kOnComplete](u,a)}_put(e,n,a,o){const u=this[kStore]("readwrite");let c;try{c=u.put(n,e)}catch(d){return this.nextTick(o,d)}this[kOnComplete](c,o)}_iterator(e){return new Iterator(this,this[kLocation],e)}_batch(e,n,a){const o=this[kStore]("readwrite"),u=o.transaction;let c=0,d;u.onabort=function(){a(d||u.error||new Error("aborted by user"))},u.oncomplete=function(){a()};function p(){const v=e[c++],y=v.key;let b;try{b=v.type==="del"?o.delete(y):o.put(v.value,y)}catch(_){d=_,u.abort();return}c<e.length?b.onsuccess=p:typeof u.commit=="function"&&u.commit()}p()}_clear(e,n){let a,o;try{a=createKeyRange(e)}catch{return this.nextTick(n)}if(e.limit>=0)return clear$2(this,this[kLocation],a,e,n);try{const u=this[kStore]("readwrite");o=a?u.delete(a):u.clear()}catch(u){return this.nextTick(n,u)}this[kOnComplete](o,n)}_close(e){this[kIDB].close(),this.nextTick(e)}}BrowserLevel.destroy=function(t,e,n){typeof e=="function"&&(n=e,e=DEFAULT_PREFIX),n=fromCallback(n,kPromise);const a=indexedDB.deleteDatabase(e+t);return a.onsuccess=function(){n()},a.onerror=function(o){n(o)},n[kPromise]};browserLevel.BrowserLevel=BrowserLevel;var Level=browserLevel.BrowserLevel;class LevelDatastore extends BaseDatastore{constructor(e,n={}){super(),this.db=typeof e=="string"?new Level(e,{...n,keyEncoding:"utf8",valueEncoding:"view"}):e,this.opts={createIfMissing:!0,compression:!1,...n}}async open(){try{await this.db.open(this.opts)}catch(e){throw dbOpenFailedError(e)}}async put(e,n){try{await this.db.put(e.toString(),n)}catch(a){throw dbWriteFailedError(a)}}async get(e){let n;try{n=await this.db.get(e.toString())}catch(a){throw a.notFound?notFoundError(a):dbWriteFailedError(a)}return n}async has(e){try{await this.db.get(e.toString())}catch(n){if(n.notFound)return!1;throw n}return!0}async delete(e){try{await this.db.del(e.toString())}catch(n){throw dbDeleteFailedError(n)}}close(){return this.db&&this.db.close()}batch(){const e=[];return{put:(n,a)=>{e.push({type:"put",key:n.toString(),value:a})},delete:n=>{e.push({type:"del",key:n.toString()})},commit:()=>this.db.batch(e)}}query(e){let n=this._query({values:!0,prefix:e.prefix});Array.isArray(e.filters)&&(n=e.filters.reduce((u,c)=>filter$2(u,c),n)),Array.isArray(e.orders)&&(n=e.orders.reduce((u,c)=>sort(u,c),n));const{offset:a,limit:o}=e;if(a){let u=0;n=filter$2(n,()=>u++>=a)}return o&&(n=take$2(n,o)),n}queryKeys(e){let n=map$2(this._query({values:!1,prefix:e.prefix}),({key:u})=>u);Array.isArray(e.filters)&&(n=e.filters.reduce((u,c)=>filter$2(u,c),n)),Array.isArray(e.orders)&&(n=e.orders.reduce((u,c)=>sort(u,c),n));const{offset:a,limit:o}=e;if(a){let u=0;n=filter$2(n,()=>u++>=a)}return o&&(n=take$2(n,o)),n}_query(e){const n={keys:!0,keyEncoding:"buffer",values:e.values};if(e.prefix!=null){const o=e.prefix.toString();n.gte=o,n.lt=o+"ÿ"}const a=this.db.iterator(n);if(a[Symbol.asyncIterator])return levelIteratorToIterator(a);if(a.next!=null&&a.end!=null)return oldLevelIteratorToIterator(a);throw new Error("Level returned incompatible iterator")}}async function*levelIteratorToIterator(t){for await(const[e,n]of t)yield{key:new Key(e,!1),value:n};await t.close()}function oldLevelIteratorToIterator(t){return{[Symbol.asyncIterator](){return{next:()=>new Promise((e,n)=>{t.next((a,o,u)=>{if(a)return n(a);if(o==null)return t.end(c=>{if(c)return n(c);e({done:!0,value:void 0})});e({done:!1,value:{key:new Key(o,!1),value:u}})})}),return:()=>new Promise((e,n)=>{t.end(a=>{if(a)return n(a);e({done:!0,value:void 0})})})}}}}function asUint8Array(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function allocUnsafe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?asUint8Array(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function concat(t,e){e||(e=t.reduce((o,u)=>o+u.length,0));const n=allocUnsafe(e);let a=0;for(const o of t)n.set(o,a),a+=o.length;return asUint8Array(n)}function createCodec(t,e,n,a){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:a}}}const string=createCodec("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),ascii=createCodec("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=allocUnsafe(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),BASES={utf8:string,"utf-8":string,hex:bases$2.base16,latin1:ascii,ascii,binary:ascii,...bases$2};function fromString$2(t,e="utf8"){const n=BASES[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?asUint8Array(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function toString$2(t,e="utf8"){const n=BASES[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}var localforage$1={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(a,o,u){function c(v,y){if(!o[v]){if(!a[v]){var b=typeof commonjsRequire=="function"&&commonjsRequire;if(!y&&b)return b(v,!0);if(d)return d(v,!0);var _=new Error("Cannot find module '"+v+"'");throw _.code="MODULE_NOT_FOUND",_}var w=o[v]={exports:{}};a[v][0].call(w.exports,function(E){var $=a[v][1][E];return c($||E)},w,w.exports,n,a,o,u)}return o[v].exports}for(var d=typeof commonjsRequire=="function"&&commonjsRequire,p=0;p<u.length;p++)c(u[p]);return c}({1:[function(n,a,o){(function(u){var c=u.MutationObserver||u.WebKitMutationObserver,d;if(c){var p=0,v=new c(E),y=u.document.createTextNode("");v.observe(y,{characterData:!0}),d=function(){y.data=p=++p%2}}else if(!u.setImmediate&&typeof u.MessageChannel<"u"){var b=new u.MessageChannel;b.port1.onmessage=E,d=function(){b.port2.postMessage(0)}}else"document"in u&&"onreadystatechange"in u.document.createElement("script")?d=function(){var C=u.document.createElement("script");C.onreadystatechange=function(){E(),C.onreadystatechange=null,C.parentNode.removeChild(C),C=null},u.document.documentElement.appendChild(C)}:d=function(){setTimeout(E,0)};var _,w=[];function E(){_=!0;for(var C,P,z=w.length;z;){for(P=w,w=[],C=-1;++C<z;)P[C]();z=w.length}_=!1}a.exports=$;function $(C){w.push(C)===1&&!_&&d()}}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,a,o){var u=n(1);function c(){}var d={},p=["REJECTED"],v=["FULFILLED"],y=["PENDING"];a.exports=b;function b(re){if(typeof re!="function")throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,re!==c&&$(this,re)}b.prototype.catch=function(re){return this.then(null,re)},b.prototype.then=function(re,de){if(typeof re!="function"&&this.state===v||typeof de!="function"&&this.state===p)return this;var xe=new this.constructor(c);if(this.state!==y){var $e=this.state===v?re:de;w(xe,$e,this.outcome)}else this.queue.push(new _(xe,re,de));return xe};function _(re,de,xe){this.promise=re,typeof de=="function"&&(this.onFulfilled=de,this.callFulfilled=this.otherCallFulfilled),typeof xe=="function"&&(this.onRejected=xe,this.callRejected=this.otherCallRejected)}_.prototype.callFulfilled=function(re){d.resolve(this.promise,re)},_.prototype.otherCallFulfilled=function(re){w(this.promise,this.onFulfilled,re)},_.prototype.callRejected=function(re){d.reject(this.promise,re)},_.prototype.otherCallRejected=function(re){w(this.promise,this.onRejected,re)};function w(re,de,xe){u(function(){var $e;try{$e=de(xe)}catch(Pe){return d.reject(re,Pe)}$e===re?d.reject(re,new TypeError("Cannot resolve promise with itself")):d.resolve(re,$e)})}d.resolve=function(re,de){var xe=C(E,de);if(xe.status==="error")return d.reject(re,xe.value);var $e=xe.value;if($e)$(re,$e);else{re.state=v,re.outcome=de;for(var Pe=-1,it=re.queue.length;++Pe<it;)re.queue[Pe].callFulfilled(de)}return re},d.reject=function(re,de){re.state=p,re.outcome=de;for(var xe=-1,$e=re.queue.length;++xe<$e;)re.queue[xe].callRejected(de);return re};function E(re){var de=re&&re.then;if(re&&(typeof re=="object"||typeof re=="function")&&typeof de=="function")return function(){de.apply(re,arguments)}}function $(re,de){var xe=!1;function $e(B){xe||(xe=!0,d.reject(re,B))}function Pe(B){xe||(xe=!0,d.resolve(re,B))}function it(){de(Pe,$e)}var fe=C(it);fe.status==="error"&&$e(fe.value)}function C(re,de){var xe={};try{xe.value=re(de),xe.status="success"}catch($e){xe.status="error",xe.value=$e}return xe}b.resolve=P;function P(re){return re instanceof this?re:d.resolve(new this(c),re)}b.reject=z;function z(re){var de=new this(c);return d.reject(de,re)}b.all=J;function J(re){var de=this;if(Object.prototype.toString.call(re)!=="[object Array]")return this.reject(new TypeError("must be an array"));var xe=re.length,$e=!1;if(!xe)return this.resolve([]);for(var Pe=new Array(xe),it=0,fe=-1,B=new this(c);++fe<xe;)k(re[fe],fe);return B;function k(x,A){de.resolve(x).then(D,function(q){$e||($e=!0,d.reject(B,q))});function D(q){Pe[A]=q,++it===xe&&!$e&&($e=!0,d.resolve(B,Pe))}}}b.race=X;function X(re){var de=this;if(Object.prototype.toString.call(re)!=="[object Array]")return this.reject(new TypeError("must be an array"));var xe=re.length,$e=!1;if(!xe)return this.resolve([]);for(var Pe=-1,it=new this(c);++Pe<xe;)fe(re[Pe]);return it;function fe(B){de.resolve(B).then(function(k){$e||($e=!0,d.resolve(it,k))},function(k){$e||($e=!0,d.reject(it,k))})}}},{1:1}],3:[function(n,a,o){(function(u){typeof u.Promise!="function"&&(u.Promise=n(2))}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,a,o){var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W};function c(W,se){if(!(W instanceof se))throw new TypeError("Cannot call a class as a function")}function d(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var p=d();function v(){try{if(!p||!p.open)return!1;var W=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),se=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!W||se)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function y(W,se){W=W||[],se=se||{};try{return new Blob(W,se)}catch(ve){if(ve.name!=="TypeError")throw ve;for(var te=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,pe=new te,_e=0;_e<W.length;_e+=1)pe.append(W[_e]);return pe.getBlob(se.type)}}typeof Promise>"u"&&n(3);var b=Promise;function _(W,se){se&&W.then(function(te){se(null,te)},function(te){se(te)})}function w(W,se,te){typeof se=="function"&&W.then(se),typeof te=="function"&&W.catch(te)}function E(W){return typeof W!="string"&&(console.warn(W+" used as a key, but it is not a string."),W=String(W)),W}function $(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var C="local-forage-detect-blob-support",P=void 0,z={},J=Object.prototype.toString,X="readonly",re="readwrite";function de(W){for(var se=W.length,te=new ArrayBuffer(se),pe=new Uint8Array(te),_e=0;_e<se;_e++)pe[_e]=W.charCodeAt(_e);return te}function xe(W){return new b(function(se){var te=W.transaction(C,re),pe=y([""]);te.objectStore(C).put(pe,"key"),te.onabort=function(_e){_e.preventDefault(),_e.stopPropagation(),se(!1)},te.oncomplete=function(){var _e=navigator.userAgent.match(/Chrome\/(\d+)/),ve=navigator.userAgent.match(/Edge\//);se(ve||!_e||parseInt(_e[1],10)>=43)}}).catch(function(){return!1})}function $e(W){return typeof P=="boolean"?b.resolve(P):xe(W).then(function(se){return P=se,P})}function Pe(W){var se=z[W.name],te={};te.promise=new b(function(pe,_e){te.resolve=pe,te.reject=_e}),se.deferredOperations.push(te),se.dbReady?se.dbReady=se.dbReady.then(function(){return te.promise}):se.dbReady=te.promise}function it(W){var se=z[W.name],te=se.deferredOperations.pop();if(te)return te.resolve(),te.promise}function fe(W,se){var te=z[W.name],pe=te.deferredOperations.pop();if(pe)return pe.reject(se),pe.promise}function B(W,se){return new b(function(te,pe){if(z[W.name]=z[W.name]||M(),W.db)if(se)Pe(W),W.db.close();else return te(W.db);var _e=[W.name];se&&_e.push(W.version);var ve=p.open.apply(p,_e);se&&(ve.onupgradeneeded=function(Oe){var oe=ve.result;try{oe.createObjectStore(W.storeName),Oe.oldVersion<=1&&oe.createObjectStore(C)}catch(He){if(He.name==="ConstraintError")console.warn('The database "'+W.name+'" has been upgraded from version '+Oe.oldVersion+" to version "+Oe.newVersion+', but the storage "'+W.storeName+'" already exists.');else throw He}}),ve.onerror=function(Oe){Oe.preventDefault(),pe(ve.error)},ve.onsuccess=function(){var Oe=ve.result;Oe.onversionchange=function(oe){oe.target.close()},te(Oe),it(W)}})}function k(W){return B(W,!1)}function x(W){return B(W,!0)}function A(W,se){if(!W.db)return!0;var te=!W.db.objectStoreNames.contains(W.storeName),pe=W.version<W.db.version,_e=W.version>W.db.version;if(pe&&(W.version!==se&&console.warn('The database "'+W.name+`" can't be downgraded from version `+W.db.version+" to version "+W.version+"."),W.version=W.db.version),_e||te){if(te){var ve=W.db.version+1;ve>W.version&&(W.version=ve)}return!0}return!1}function D(W){return new b(function(se,te){var pe=new FileReader;pe.onerror=te,pe.onloadend=function(_e){var ve=btoa(_e.target.result||"");se({__local_forage_encoded_blob:!0,data:ve,type:W.type})},pe.readAsBinaryString(W)})}function q(W){var se=de(atob(W.data));return y([se],{type:W.type})}function G(W){return W&&W.__local_forage_encoded_blob}function j(W){var se=this,te=se._initReady().then(function(){var pe=z[se._dbInfo.name];if(pe&&pe.dbReady)return pe.dbReady});return w(te,W,W),te}function T(W){Pe(W);for(var se=z[W.name],te=se.forages,pe=0;pe<te.length;pe++){var _e=te[pe];_e._dbInfo.db&&(_e._dbInfo.db.close(),_e._dbInfo.db=null)}return W.db=null,k(W).then(function(ve){return W.db=ve,A(W)?x(W):ve}).then(function(ve){W.db=se.db=ve;for(var Oe=0;Oe<te.length;Oe++)te[Oe]._dbInfo.db=ve}).catch(function(ve){throw fe(W,ve),ve})}function F(W,se,te,pe){pe===void 0&&(pe=1);try{var _e=W.db.transaction(W.storeName,se);te(null,_e)}catch(ve){if(pe>0&&(!W.db||ve.name==="InvalidStateError"||ve.name==="NotFoundError"))return b.resolve().then(function(){if(!W.db||ve.name==="NotFoundError"&&!W.db.objectStoreNames.contains(W.storeName)&&W.version<=W.db.version)return W.db&&(W.version=W.db.version+1),x(W)}).then(function(){return T(W).then(function(){F(W,se,te,pe-1)})}).catch(te);te(ve)}}function M(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function V(W){var se=this,te={db:null};if(W)for(var pe in W)te[pe]=W[pe];var _e=z[te.name];_e||(_e=M(),z[te.name]=_e),_e.forages.push(se),se._initReady||(se._initReady=se.ready,se.ready=j);var ve=[];function Oe(){return b.resolve()}for(var oe=0;oe<_e.forages.length;oe++){var He=_e.forages[oe];He!==se&&ve.push(He._initReady().catch(Oe))}var ze=_e.forages.slice(0);return b.all(ve).then(function(){return te.db=_e.db,k(te)}).then(function(Ve){return te.db=Ve,A(te,se._defaultConfig.version)?x(te):Ve}).then(function(Ve){te.db=_e.db=Ve,se._dbInfo=te;for(var et=0;et<ze.length;et++){var vt=ze[et];vt!==se&&(vt._dbInfo.db=te.db,vt._dbInfo.version=te.version)}})}function ge(W,se){var te=this;W=E(W);var pe=new b(function(_e,ve){te.ready().then(function(){F(te._dbInfo,X,function(Oe,oe){if(Oe)return ve(Oe);try{var He=oe.objectStore(te._dbInfo.storeName),ze=He.get(W);ze.onsuccess=function(){var Ve=ze.result;Ve===void 0&&(Ve=null),G(Ve)&&(Ve=q(Ve)),_e(Ve)},ze.onerror=function(){ve(ze.error)}}catch(Ve){ve(Ve)}})}).catch(ve)});return _(pe,se),pe}function ke(W,se){var te=this,pe=new b(function(_e,ve){te.ready().then(function(){F(te._dbInfo,X,function(Oe,oe){if(Oe)return ve(Oe);try{var He=oe.objectStore(te._dbInfo.storeName),ze=He.openCursor(),Ve=1;ze.onsuccess=function(){var et=ze.result;if(et){var vt=et.value;G(vt)&&(vt=q(vt));var xt=W(vt,et.key,Ve++);xt!==void 0?_e(xt):et.continue()}else _e()},ze.onerror=function(){ve(ze.error)}}catch(et){ve(et)}})}).catch(ve)});return _(pe,se),pe}function he(W,se,te){var pe=this;W=E(W);var _e=new b(function(ve,Oe){var oe;pe.ready().then(function(){return oe=pe._dbInfo,J.call(se)==="[object Blob]"?$e(oe.db).then(function(He){return He?se:D(se)}):se}).then(function(He){F(pe._dbInfo,re,function(ze,Ve){if(ze)return Oe(ze);try{var et=Ve.objectStore(pe._dbInfo.storeName);He===null&&(He=void 0);var vt=et.put(He,W);Ve.oncomplete=function(){He===void 0&&(He=null),ve(He)},Ve.onabort=Ve.onerror=function(){var xt=vt.error?vt.error:vt.transaction.error;Oe(xt)}}catch(xt){Oe(xt)}})}).catch(Oe)});return _(_e,te),_e}function be(W,se){var te=this;W=E(W);var pe=new b(function(_e,ve){te.ready().then(function(){F(te._dbInfo,re,function(Oe,oe){if(Oe)return ve(Oe);try{var He=oe.objectStore(te._dbInfo.storeName),ze=He.delete(W);oe.oncomplete=function(){_e()},oe.onerror=function(){ve(ze.error)},oe.onabort=function(){var Ve=ze.error?ze.error:ze.transaction.error;ve(Ve)}}catch(Ve){ve(Ve)}})}).catch(ve)});return _(pe,se),pe}function Me(W){var se=this,te=new b(function(pe,_e){se.ready().then(function(){F(se._dbInfo,re,function(ve,Oe){if(ve)return _e(ve);try{var oe=Oe.objectStore(se._dbInfo.storeName),He=oe.clear();Oe.oncomplete=function(){pe()},Oe.onabort=Oe.onerror=function(){var ze=He.error?He.error:He.transaction.error;_e(ze)}}catch(ze){_e(ze)}})}).catch(_e)});return _(te,W),te}function Re(W){var se=this,te=new b(function(pe,_e){se.ready().then(function(){F(se._dbInfo,X,function(ve,Oe){if(ve)return _e(ve);try{var oe=Oe.objectStore(se._dbInfo.storeName),He=oe.count();He.onsuccess=function(){pe(He.result)},He.onerror=function(){_e(He.error)}}catch(ze){_e(ze)}})}).catch(_e)});return _(te,W),te}function Je(W,se){var te=this,pe=new b(function(_e,ve){if(W<0){_e(null);return}te.ready().then(function(){F(te._dbInfo,X,function(Oe,oe){if(Oe)return ve(Oe);try{var He=oe.objectStore(te._dbInfo.storeName),ze=!1,Ve=He.openKeyCursor();Ve.onsuccess=function(){var et=Ve.result;if(!et){_e(null);return}W===0||ze?_e(et.key):(ze=!0,et.advance(W))},Ve.onerror=function(){ve(Ve.error)}}catch(et){ve(et)}})}).catch(ve)});return _(pe,se),pe}function le(W){var se=this,te=new b(function(pe,_e){se.ready().then(function(){F(se._dbInfo,X,function(ve,Oe){if(ve)return _e(ve);try{var oe=Oe.objectStore(se._dbInfo.storeName),He=oe.openKeyCursor(),ze=[];He.onsuccess=function(){var Ve=He.result;if(!Ve){pe(ze);return}ze.push(Ve.key),Ve.continue()},He.onerror=function(){_e(He.error)}}catch(Ve){_e(Ve)}})}).catch(_e)});return _(te,W),te}function ue(W,se){se=$.apply(this,arguments);var te=this.config();W=typeof W!="function"&&W||{},W.name||(W.name=W.name||te.name,W.storeName=W.storeName||te.storeName);var pe=this,_e;if(!W.name)_e=b.reject("Invalid arguments");else{var ve=W.name===te.name&&pe._dbInfo.db,Oe=ve?b.resolve(pe._dbInfo.db):k(W).then(function(oe){var He=z[W.name],ze=He.forages;He.db=oe;for(var Ve=0;Ve<ze.length;Ve++)ze[Ve]._dbInfo.db=oe;return oe});W.storeName?_e=Oe.then(function(oe){if(oe.objectStoreNames.contains(W.storeName)){var He=oe.version+1;Pe(W);var ze=z[W.name],Ve=ze.forages;oe.close();for(var et=0;et<Ve.length;et++){var vt=Ve[et];vt._dbInfo.db=null,vt._dbInfo.version=He}var xt=new b(function(Pt,Dt){var Nt=p.open(W.name,He);Nt.onerror=function(Zt){var cr=Nt.result;cr.close(),Dt(Zt)},Nt.onupgradeneeded=function(){var Zt=Nt.result;Zt.deleteObjectStore(W.storeName)},Nt.onsuccess=function(){var Zt=Nt.result;Zt.close(),Pt(Zt)}});return xt.then(function(Pt){ze.db=Pt;for(var Dt=0;Dt<Ve.length;Dt++){var Nt=Ve[Dt];Nt._dbInfo.db=Pt,it(Nt._dbInfo)}}).catch(function(Pt){throw(fe(W,Pt)||b.resolve()).catch(function(){}),Pt})}}):_e=Oe.then(function(oe){Pe(W);var He=z[W.name],ze=He.forages;oe.close();for(var Ve=0;Ve<ze.length;Ve++){var et=ze[Ve];et._dbInfo.db=null}var vt=new b(function(xt,Pt){var Dt=p.deleteDatabase(W.name);Dt.onerror=function(){var Nt=Dt.result;Nt&&Nt.close(),Pt(Dt.error)},Dt.onblocked=function(){console.warn('dropInstance blocked for database "'+W.name+'" until all open connections are closed')},Dt.onsuccess=function(){var Nt=Dt.result;Nt&&Nt.close(),xt(Nt)}});return vt.then(function(xt){He.db=xt;for(var Pt=0;Pt<ze.length;Pt++){var Dt=ze[Pt];it(Dt._dbInfo)}}).catch(function(xt){throw(fe(W,xt)||b.resolve()).catch(function(){}),xt})})}return _(_e,se),_e}var qe={_driver:"asyncStorage",_initStorage:V,_support:v(),iterate:ke,getItem:ge,setItem:he,removeItem:be,clear:Me,length:Re,key:Je,keys:le,dropInstance:ue};function Ge(){return typeof openDatabase=="function"}var ot="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ie="~~local_forage_type~",L=/^~~local_forage_type~([^~]+)~/,N="__lfsc__:",Q=N.length,we="arbf",Ie="blob",Ke="si08",dt="ui08",me="uic8",Te="si16",Ue="si32",De="ur16",tt="ui32",Rt="fl32",at="fl64",bt=Q+we.length,ct=Object.prototype.toString;function ft(W){var se=W.length*.75,te=W.length,pe,_e=0,ve,Oe,oe,He;W[W.length-1]==="="&&(se--,W[W.length-2]==="="&&se--);var ze=new ArrayBuffer(se),Ve=new Uint8Array(ze);for(pe=0;pe<te;pe+=4)ve=ot.indexOf(W[pe]),Oe=ot.indexOf(W[pe+1]),oe=ot.indexOf(W[pe+2]),He=ot.indexOf(W[pe+3]),Ve[_e++]=ve<<2|Oe>>4,Ve[_e++]=(Oe&15)<<4|oe>>2,Ve[_e++]=(oe&3)<<6|He&63;return ze}function _t(W){var se=new Uint8Array(W),te="",pe;for(pe=0;pe<se.length;pe+=3)te+=ot[se[pe]>>2],te+=ot[(se[pe]&3)<<4|se[pe+1]>>4],te+=ot[(se[pe+1]&15)<<2|se[pe+2]>>6],te+=ot[se[pe+2]&63];return se.length%3===2?te=te.substring(0,te.length-1)+"=":se.length%3===1&&(te=te.substring(0,te.length-2)+"=="),te}function zt(W,se){var te="";if(W&&(te=ct.call(W)),W&&(te==="[object ArrayBuffer]"||W.buffer&&ct.call(W.buffer)==="[object ArrayBuffer]")){var pe,_e=N;W instanceof ArrayBuffer?(pe=W,_e+=we):(pe=W.buffer,te==="[object Int8Array]"?_e+=Ke:te==="[object Uint8Array]"?_e+=dt:te==="[object Uint8ClampedArray]"?_e+=me:te==="[object Int16Array]"?_e+=Te:te==="[object Uint16Array]"?_e+=De:te==="[object Int32Array]"?_e+=Ue:te==="[object Uint32Array]"?_e+=tt:te==="[object Float32Array]"?_e+=Rt:te==="[object Float64Array]"?_e+=at:se(new Error("Failed to get type for BinaryArray"))),se(_e+_t(pe))}else if(te==="[object Blob]"){var ve=new FileReader;ve.onload=function(){var Oe=ie+W.type+"~"+_t(this.result);se(N+Ie+Oe)},ve.readAsArrayBuffer(W)}else try{se(JSON.stringify(W))}catch(Oe){console.error("Couldn't convert value into a JSON string: ",W),se(null,Oe)}}function Ct(W){if(W.substring(0,Q)!==N)return JSON.parse(W);var se=W.substring(bt),te=W.substring(Q,bt),pe;if(te===Ie&&L.test(se)){var _e=se.match(L);pe=_e[1],se=se.substring(_e[0].length)}var ve=ft(se);switch(te){case we:return ve;case Ie:return y([ve],{type:pe});case Ke:return new Int8Array(ve);case dt:return new Uint8Array(ve);case me:return new Uint8ClampedArray(ve);case Te:return new Int16Array(ve);case De:return new Uint16Array(ve);case Ue:return new Int32Array(ve);case tt:return new Uint32Array(ve);case Rt:return new Float32Array(ve);case at:return new Float64Array(ve);default:throw new Error("Unkown type: "+te)}}var rr={serialize:zt,deserialize:Ct,stringToBuffer:ft,bufferToString:_t};function ar(W,se,te,pe){W.executeSql("CREATE TABLE IF NOT EXISTS "+se.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],te,pe)}function Lt(W){var se=this,te={db:null};if(W)for(var pe in W)te[pe]=typeof W[pe]!="string"?W[pe].toString():W[pe];var _e=new b(function(ve,Oe){try{te.db=openDatabase(te.name,String(te.version),te.description,te.size)}catch(oe){return Oe(oe)}te.db.transaction(function(oe){ar(oe,te,function(){se._dbInfo=te,ve()},function(He,ze){Oe(ze)})},Oe)});return te.serializer=rr,_e}function Jt(W,se,te,pe,_e,ve){W.executeSql(te,pe,_e,function(Oe,oe){oe.code===oe.SYNTAX_ERR?Oe.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[se.storeName],function(He,ze){ze.rows.length?ve(He,oe):ar(He,se,function(){He.executeSql(te,pe,_e,ve)},ve)},ve):ve(Oe,oe)},ve)}function ur(W,se){var te=this;W=E(W);var pe=new b(function(_e,ve){te.ready().then(function(){var Oe=te._dbInfo;Oe.db.transaction(function(oe){Jt(oe,Oe,"SELECT * FROM "+Oe.storeName+" WHERE key = ? LIMIT 1",[W],function(He,ze){var Ve=ze.rows.length?ze.rows.item(0).value:null;Ve&&(Ve=Oe.serializer.deserialize(Ve)),_e(Ve)},function(He,ze){ve(ze)})})}).catch(ve)});return _(pe,se),pe}function Ht(W,se){var te=this,pe=new b(function(_e,ve){te.ready().then(function(){var Oe=te._dbInfo;Oe.db.transaction(function(oe){Jt(oe,Oe,"SELECT * FROM "+Oe.storeName,[],function(He,ze){for(var Ve=ze.rows,et=Ve.length,vt=0;vt<et;vt++){var xt=Ve.item(vt),Pt=xt.value;if(Pt&&(Pt=Oe.serializer.deserialize(Pt)),Pt=W(Pt,xt.key,vt+1),Pt!==void 0){_e(Pt);return}}_e()},function(He,ze){ve(ze)})})}).catch(ve)});return _(pe,se),pe}function hr(W,se,te,pe){var _e=this;W=E(W);var ve=new b(function(Oe,oe){_e.ready().then(function(){se===void 0&&(se=null);var He=se,ze=_e._dbInfo;ze.serializer.serialize(se,function(Ve,et){et?oe(et):ze.db.transaction(function(vt){Jt(vt,ze,"INSERT OR REPLACE INTO "+ze.storeName+" (key, value) VALUES (?, ?)",[W,Ve],function(){Oe(He)},function(xt,Pt){oe(Pt)})},function(vt){if(vt.code===vt.QUOTA_ERR){if(pe>0){Oe(hr.apply(_e,[W,He,te,pe-1]));return}oe(vt)}})})}).catch(oe)});return _(ve,te),ve}function er(W,se,te){return hr.apply(this,[W,se,te,1])}function Ft(W,se){var te=this;W=E(W);var pe=new b(function(_e,ve){te.ready().then(function(){var Oe=te._dbInfo;Oe.db.transaction(function(oe){Jt(oe,Oe,"DELETE FROM "+Oe.storeName+" WHERE key = ?",[W],function(){_e()},function(He,ze){ve(ze)})})}).catch(ve)});return _(pe,se),pe}function or(W){var se=this,te=new b(function(pe,_e){se.ready().then(function(){var ve=se._dbInfo;ve.db.transaction(function(Oe){Jt(Oe,ve,"DELETE FROM "+ve.storeName,[],function(){pe()},function(oe,He){_e(He)})})}).catch(_e)});return _(te,W),te}function fr(W){var se=this,te=new b(function(pe,_e){se.ready().then(function(){var ve=se._dbInfo;ve.db.transaction(function(Oe){Jt(Oe,ve,"SELECT COUNT(key) as c FROM "+ve.storeName,[],function(oe,He){var ze=He.rows.item(0).c;pe(ze)},function(oe,He){_e(He)})})}).catch(_e)});return _(te,W),te}function Kt(W,se){var te=this,pe=new b(function(_e,ve){te.ready().then(function(){var Oe=te._dbInfo;Oe.db.transaction(function(oe){Jt(oe,Oe,"SELECT key FROM "+Oe.storeName+" WHERE id = ? LIMIT 1",[W+1],function(He,ze){var Ve=ze.rows.length?ze.rows.item(0).key:null;_e(Ve)},function(He,ze){ve(ze)})})}).catch(ve)});return _(pe,se),pe}function dr(W){var se=this,te=new b(function(pe,_e){se.ready().then(function(){var ve=se._dbInfo;ve.db.transaction(function(Oe){Jt(Oe,ve,"SELECT key FROM "+ve.storeName,[],function(oe,He){for(var ze=[],Ve=0;Ve<He.rows.length;Ve++)ze.push(He.rows.item(Ve).key);pe(ze)},function(oe,He){_e(He)})})}).catch(_e)});return _(te,W),te}function vr(W){return new b(function(se,te){W.transaction(function(pe){pe.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(_e,ve){for(var Oe=[],oe=0;oe<ve.rows.length;oe++)Oe.push(ve.rows.item(oe).name);se({db:W,storeNames:Oe})},function(_e,ve){te(ve)})},function(pe){te(pe)})})}function $t(W,se){se=$.apply(this,arguments);var te=this.config();W=typeof W!="function"&&W||{},W.name||(W.name=W.name||te.name,W.storeName=W.storeName||te.storeName);var pe=this,_e;return W.name?_e=new b(function(ve){var Oe;W.name===te.name?Oe=pe._dbInfo.db:Oe=openDatabase(W.name,"","",0),W.storeName?ve({db:Oe,storeNames:[W.storeName]}):ve(vr(Oe))}).then(function(ve){return new b(function(Oe,oe){ve.db.transaction(function(He){function ze(xt){return new b(function(Pt,Dt){He.executeSql("DROP TABLE IF EXISTS "+xt,[],function(){Pt()},function(Nt,Zt){Dt(Zt)})})}for(var Ve=[],et=0,vt=ve.storeNames.length;et<vt;et++)Ve.push(ze(ve.storeNames[et]));b.all(Ve).then(function(){Oe()}).catch(function(xt){oe(xt)})},function(He){oe(He)})})}):_e=b.reject("Invalid arguments"),_(_e,se),_e}var pr={_driver:"webSQLStorage",_initStorage:Lt,_support:Ge(),iterate:Ht,getItem:ur,setItem:er,removeItem:Ft,clear:or,length:fr,key:Kt,keys:dr,dropInstance:$t};function U(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Z(W,se){var te=W.name+"/";return W.storeName!==se.storeName&&(te+=W.storeName+"/"),te}function ee(){var W="_localforage_support_test";try{return localStorage.setItem(W,!0),localStorage.removeItem(W),!1}catch{return!0}}function I(){return!ee()||localStorage.length>0}function ne(W){var se=this,te={};if(W)for(var pe in W)te[pe]=W[pe];return te.keyPrefix=Z(W,se._defaultConfig),I()?(se._dbInfo=te,te.serializer=rr,b.resolve()):b.reject()}function Se(W){var se=this,te=se.ready().then(function(){for(var pe=se._dbInfo.keyPrefix,_e=localStorage.length-1;_e>=0;_e--){var ve=localStorage.key(_e);ve.indexOf(pe)===0&&localStorage.removeItem(ve)}});return _(te,W),te}function Ae(W,se){var te=this;W=E(W);var pe=te.ready().then(function(){var _e=te._dbInfo,ve=localStorage.getItem(_e.keyPrefix+W);return ve&&(ve=_e.serializer.deserialize(ve)),ve});return _(pe,se),pe}function Fe(W,se){var te=this,pe=te.ready().then(function(){for(var _e=te._dbInfo,ve=_e.keyPrefix,Oe=ve.length,oe=localStorage.length,He=1,ze=0;ze<oe;ze++){var Ve=localStorage.key(ze);if(Ve.indexOf(ve)===0){var et=localStorage.getItem(Ve);if(et&&(et=_e.serializer.deserialize(et)),et=W(et,Ve.substring(Oe),He++),et!==void 0)return et}}});return _(pe,se),pe}function Ye(W,se){var te=this,pe=te.ready().then(function(){var _e=te._dbInfo,ve;try{ve=localStorage.key(W)}catch{ve=null}return ve&&(ve=ve.substring(_e.keyPrefix.length)),ve});return _(pe,se),pe}function st(W){var se=this,te=se.ready().then(function(){for(var pe=se._dbInfo,_e=localStorage.length,ve=[],Oe=0;Oe<_e;Oe++){var oe=localStorage.key(Oe);oe.indexOf(pe.keyPrefix)===0&&ve.push(oe.substring(pe.keyPrefix.length))}return ve});return _(te,W),te}function nt(W){var se=this,te=se.keys().then(function(pe){return pe.length});return _(te,W),te}function Wt(W,se){var te=this;W=E(W);var pe=te.ready().then(function(){var _e=te._dbInfo;localStorage.removeItem(_e.keyPrefix+W)});return _(pe,se),pe}function pt(W,se,te){var pe=this;W=E(W);var _e=pe.ready().then(function(){se===void 0&&(se=null);var ve=se;return new b(function(Oe,oe){var He=pe._dbInfo;He.serializer.serialize(se,function(ze,Ve){if(Ve)oe(Ve);else try{localStorage.setItem(He.keyPrefix+W,ze),Oe(ve)}catch(et){(et.name==="QuotaExceededError"||et.name==="NS_ERROR_DOM_QUOTA_REACHED")&&oe(et),oe(et)}})})});return _(_e,te),_e}function kt(W,se){if(se=$.apply(this,arguments),W=typeof W!="function"&&W||{},!W.name){var te=this.config();W.name=W.name||te.name,W.storeName=W.storeName||te.storeName}var pe=this,_e;return W.name?_e=new b(function(ve){W.storeName?ve(Z(W,pe._defaultConfig)):ve(W.name+"/")}).then(function(ve){for(var Oe=localStorage.length-1;Oe>=0;Oe--){var oe=localStorage.key(Oe);oe.indexOf(ve)===0&&localStorage.removeItem(oe)}}):_e=b.reject("Invalid arguments"),_(_e,se),_e}var Tt={_driver:"localStorageWrapper",_initStorage:ne,_support:U(),iterate:Fe,getItem:Ae,setItem:pt,removeItem:Wt,clear:Se,length:nt,key:Ye,keys:st,dropInstance:kt},Ot=function(se,te){return se===te||typeof se=="number"&&typeof te=="number"&&isNaN(se)&&isNaN(te)},It=function(se,te){for(var pe=se.length,_e=0;_e<pe;){if(Ot(se[_e],te))return!0;_e++}return!1},Mt=Array.isArray||function(W){return Object.prototype.toString.call(W)==="[object Array]"},St={},Bt={},ht={INDEXEDDB:qe,WEBSQL:pr,LOCALSTORAGE:Tt},wt=[ht.INDEXEDDB._driver,ht.WEBSQL._driver,ht.LOCALSTORAGE._driver],ut=["dropInstance"],yt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ut),mt={description:"",driver:wt.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function lt(W,se){W[se]=function(){var te=arguments;return W.ready().then(function(){return W[se].apply(W,te)})}}function Le(){for(var W=1;W<arguments.length;W++){var se=arguments[W];if(se)for(var te in se)se.hasOwnProperty(te)&&(Mt(se[te])?arguments[0][te]=se[te].slice():arguments[0][te]=se[te])}return arguments[0]}var Ne=function(){function W(se){c(this,W);for(var te in ht)if(ht.hasOwnProperty(te)){var pe=ht[te],_e=pe._driver;this[te]=_e,St[_e]||this.defineDriver(pe)}this._defaultConfig=Le({},mt),this._config=Le({},this._defaultConfig,se),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return W.prototype.config=function(te){if((typeof te>"u"?"undefined":u(te))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var pe in te){if(pe==="storeName"&&(te[pe]=te[pe].replace(/\W/g,"_")),pe==="version"&&typeof te[pe]!="number")return new Error("Database version must be a number.");this._config[pe]=te[pe]}return"driver"in te&&te.driver?this.setDriver(this._config.driver):!0}else return typeof te=="string"?this._config[te]:this._config},W.prototype.defineDriver=function(te,pe,_e){var ve=new b(function(Oe,oe){try{var He=te._driver,ze=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!te._driver){oe(ze);return}for(var Ve=yt.concat("_initStorage"),et=0,vt=Ve.length;et<vt;et++){var xt=Ve[et],Pt=!It(ut,xt);if((Pt||te[xt])&&typeof te[xt]!="function"){oe(ze);return}}var Dt=function(){for(var cr=function(mi){return function(){var na=new Error("Method "+mi+" is not implemented by the current driver"),vi=b.reject(na);return _(vi,arguments[arguments.length-1]),vi}},wr=0,kr=ut.length;wr<kr;wr++){var Sr=ut[wr];te[Sr]||(te[Sr]=cr(Sr))}};Dt();var Nt=function(cr){St[He]&&console.info("Redefining LocalForage driver: "+He),St[He]=te,Bt[He]=cr,Oe()};"_support"in te?te._support&&typeof te._support=="function"?te._support().then(Nt,oe):Nt(!!te._support):Nt(!0)}catch(Zt){oe(Zt)}});return w(ve,pe,_e),ve},W.prototype.driver=function(){return this._driver||null},W.prototype.getDriver=function(te,pe,_e){var ve=St[te]?b.resolve(St[te]):b.reject(new Error("Driver not found."));return w(ve,pe,_e),ve},W.prototype.getSerializer=function(te){var pe=b.resolve(rr);return w(pe,te),pe},W.prototype.ready=function(te){var pe=this,_e=pe._driverSet.then(function(){return pe._ready===null&&(pe._ready=pe._initDriver()),pe._ready});return w(_e,te,te),_e},W.prototype.setDriver=function(te,pe,_e){var ve=this;Mt(te)||(te=[te]);var Oe=this._getSupportedDrivers(te);function oe(){ve._config.driver=ve.driver()}function He(et){return ve._extend(et),oe(),ve._ready=ve._initStorage(ve._config),ve._ready}function ze(et){return function(){var vt=0;function xt(){for(;vt<et.length;){var Pt=et[vt];return vt++,ve._dbInfo=null,ve._ready=null,ve.getDriver(Pt).then(He).catch(xt)}oe();var Dt=new Error("No available storage method found.");return ve._driverSet=b.reject(Dt),ve._driverSet}return xt()}}var Ve=this._driverSet!==null?this._driverSet.catch(function(){return b.resolve()}):b.resolve();return this._driverSet=Ve.then(function(){var et=Oe[0];return ve._dbInfo=null,ve._ready=null,ve.getDriver(et).then(function(vt){ve._driver=vt._driver,oe(),ve._wrapLibraryMethodsWithReady(),ve._initDriver=ze(Oe)})}).catch(function(){oe();var et=new Error("No available storage method found.");return ve._driverSet=b.reject(et),ve._driverSet}),w(this._driverSet,pe,_e),this._driverSet},W.prototype.supports=function(te){return!!Bt[te]},W.prototype._extend=function(te){Le(this,te)},W.prototype._getSupportedDrivers=function(te){for(var pe=[],_e=0,ve=te.length;_e<ve;_e++){var Oe=te[_e];this.supports(Oe)&&pe.push(Oe)}return pe},W.prototype._wrapLibraryMethodsWithReady=function(){for(var te=0,pe=yt.length;te<pe;te++)lt(this,yt[te])},W.prototype.createInstance=function(te){return new W(te)},W}(),Ze=new Ne;a.exports=Ze},{3:3}]},{},[4])(4)})})(localforage$1);var localforageExports=localforage$1.exports;const localforage=getDefaultExportFromCjs(localforageExports);var RootBranch;(function(t){t.Public="public",t.Pretty="p",t.Private="private",t.PrivateLog="privateLog",t.Shared="shared",t.SharedCounter="sharedCounter",t.Version="version"})(RootBranch||(RootBranch={}));var Kind;(function(t){t.Directory="directory",t.File="file"})(Kind||(Kind={}));function directory(...t){if(t.some(e=>e.includes("/")))throw new Error("Forward slashes `/` are not allowed");return{directory:t}}function file(...t){if(t.some(e=>e.includes("/")))throw new Error("Forward slashes `/` are not allowed");return{file:t}}function root$1(){return{directory:[]}}function appData(t,e){const n=directory(RootBranch.Private,"Apps",t.creator,t.name);return e?combine(n,e):n}function fromPosix(t){const e=t.replace(/^\/+/,"").split("/");return t.endsWith("/")?{directory:e.slice(0,-1)}:t===""?root$1():{file:e}}function toPosix(t,{absolute:e}={absolute:!1}){const n=e?"/":"",a=unwrap(t).join("/");return isDirectory(t)?n+a+(a.length?"/":""):n+a}function combine(t,e){return map(n=>unwrap(t).concat(n),e)}function isDirectory(t){return!!t.directory}function isFile$1(t){return!!t.file}function isPartition(t,e){return unwrap(e)[0]===t}function isOnRootBranch(t,e){return unwrap(e)[0]===t}function isRootDirectory(t){return t.directory.length===0}function isSamePartition(t,e){return unwrap(t)[0]===unwrap(e)[0]}function isSameKind(t,e){return isDirectory(t)&&isDirectory(e)?!0:!!(isFile$1(t)&&isFile$1(e))}function kind(t){return isDirectory(t)?Kind.Directory:Kind.File}function map(t,e){return isDirectory(e)?{directory:t(e.directory)}:isFile$1(e)?{file:t(e.file)}:e}function parent(t){return isDirectory(t)&&isRootDirectory(t)?null:directory(...unwrap(t).slice(0,-1))}function removePartition(t){return map(e=>isDirectory(t)||e.length>1?e.slice(1):e,t)}function terminus(t){const e=unwrap(t);return e.length<1?null:e[e.length-1]}function unwrap(t){if(isDirectory(t))return t.directory;if(isFile$1(t))return t.file;throw new Error("Path is neither a directory or a file")}function withPartition(t,e){return combine(directory(t),e)}function log(t){return`[ ${t.join(", ")} ]`}async function bareNameFilter({crypto:t,accountDID:e,path:n}){return`wnfs:${e}:bareNameFilter:${await pathHash(t,n)}`}async function readKey({crypto:t,accountDID:e,path:n}){return`wnfs:${e}:readKey:${await pathHash(t,n)}`}async function pathHash(t,e){return toString$2(await t.hash.sha256(fromString$2("/"+unwrap(e).join("/"),"utf8")),"base64pad")}const ROOT_FILESYSTEM_PERMISSIONS={fs:{private:[root$1()],public:[root$1()]}};function appId(t){return`${t.creator}/${t.name}`}function permissionPaths(t){let e=[];return t.app&&e.push(appData(t.app)),t.fs?.private&&(e=e.concat(t.fs?.private.map(n=>withPartition("private",n)))),t.fs?.public&&(e=e.concat(t.fs?.public.map(n=>withPartition("public",n)))),e}const equal=(t,e)=>{const n=new Uint8Array(t),a=new Uint8Array(e);if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o]!==a[o])return!1;return!0};function decode$3(t){return toString$2(fromString$2(t,"base64pad"))}function encode$4(t){return toString$2(fromString$2(t),"base64pad")}function urlDecode(t){return decode$3(makeUrlUnsafe(t))}function urlEncode(t){return makeUrlSafe(encode$4(t))}function makeUrlSafe(t){return t.replace(/\//g,"_").replace(/\+/g,"-").replace(/=+$/,"")}function makeUrlUnsafe(t){return t.replace(/_/g,"/").replace(/-/g,"+")}const toUint8Array=async t=>new Promise((e,n)=>{const a=()=>n(new Error("Failed to read file")),o=new FileReader;o.addEventListener("load",u=>{const c=u?.target?.result||null;if(c==null){a();return}if(typeof c=="string"){e(fromString$2(c));return}e(new Uint8Array(c))}),o.addEventListener("error",()=>o.abort()),o.addEventListener("abort",a),o.readAsArrayBuffer(t)});function hasProp(t,e){return typeof t=="object"&&t!=null&&e in t}const isDefined=t=>t!==void 0,notNull=t=>t!==null,isValue=t=>isDefined(t)&&notNull(t),isBool=t=>typeof t=="boolean";function isCryptoKey(t){return hasProp(t,"algorithm")&&hasProp(t,"extractable")&&hasProp(t,"type")}const isNum=t=>typeof t=="number",isString=t=>typeof t=="string",isObject$1=t=>t!==null&&typeof t=="object",isBlob=t=>typeof Blob>"u"?!1:t instanceof Blob||isObject$1(t)&&t?.constructor?.name==="Blob",EMPTY_CID="Qmc5m94Gu7z62RC8waSKkZUrCCBJPyHbkpmGzEePxy2oXJ";function decodeCID(t){const e=CID.asCID(t);if(e)return e;if(typeof t=="string")return CID.parse(t);if(typeof t=="object"&&"version"in t&&"code"in t&&"multihash"in t)return CID.create(t.version,t.code,t.multihash);if(typeof t=="object"&&hasProp(t,"version")&&hasProp(t,"code")&&isNum(t.code)&&hasProp(t,"hash")&&isObject$1(t.hash)&&Object.values(t.hash).every(isNum)){const n=decode$6(new Uint8Array(Object.values(t.hash)));return CID.create(t.version,t.code,n)}if(typeof t=="object"&&hasProp(t,"/")&&typeof t["/"]=="string")return CID.parse(t["/"]);throw new Error(`Could not decode CID: ${JSON.stringify(t)}`)}function encodeCID(t){return typeof t=="string"?t:t.toString()}const removeKeyFromObj=(t,e)=>{const{[e]:n,...a}=t;return a},mapObj=(t,e)=>{const n={};return Object.entries(t).forEach(([a,o])=>{n[a]=e(o,a)}),n},VERSION="0.37.2",WASM_WNFS_VERSION="0.1.7",isBrowser=typeof self<"u"&&typeof self.location=="object",assertBrowser=t=>{if(!isBrowser)throw new Error(`Must be in browser to use method. Provide a node-compatible implementation for ${t}`)},BASE58_DID_PREFIX="did:key:z",hasPrefix=(t,e)=>equal(e,t.slice(0,e.byteLength));function publicKeyToDid(t,e,n){const a=t.did.keyTypes[n]?.magicBytes;if(a===null)throw new Error(`Key type '${n}' not supported, available types: ${Object.keys(t.did.keyTypes).join(", ")}`);const o=concat([a,e]);return BASE58_DID_PREFIX+toString$2(o,"base58btc")}function didToPublicKey(t,e){if(!e.startsWith(BASE58_DID_PREFIX))throw new Error("Please use a base58-encoded DID formatted `did:key:z...`");const n=e.substr(BASE58_DID_PREFIX.length),a=fromString$2(n,"base58btc"),o=Object.entries(t.did.keyTypes).find(([u,c])=>hasPrefix(a,c.magicBytes));if(!o)throw new Error("Unsupported key algorithm.");return{publicKey:a.slice(o[1].magicBytes.length),type:o[0]}}async function build({addSignature:t=!0,audience:e,dependencies:n,facts:a=[],issuer:o,lifetimeInSeconds:u=120,expiration:c,potency:d="APPEND",proof:p,resource:v}){const y=Math.floor(Date.now()/1e3),b=p?typeof p=="string"?decode$2(p):p:null,_={alg:await n.crypto.keystore.getUcanAlgorithm(),typ:"JWT",uav:"1.0.0"};let w=c||y+u,E=y-120;if(b){const P=b.payload;w=Math.min(P.exp,w),E=Math.max(P.nbf,E)}const $={aud:e,exp:w,fct:a,iss:o,nbf:E,prf:p?typeof p=="string"?p:encode$3(p):null,ptc:d,rsc:v||(b?b.payload.rsc:"*")},C=t?await sign$1(n.crypto,_,$):null;return{header:_,payload:$,signature:C}}function decode$2(t){const e=t.split("."),n=JSON.parse(urlDecode(e[0])),a=JSON.parse(urlDecode(e[1]));return{header:n,payload:a,signature:e[2]||null}}function encode$3(t){const e=encodeHeader(t.header),n=encodePayload(t.payload);return e+"."+n+"."+t.signature}function encodeHeader(t){return urlEncode(JSON.stringify(t))}function encodePayload(t){return urlEncode(JSON.stringify({...t}))}function isExpired(t){return t.payload.exp<=Math.floor(Date.now()/1e3)}function isSelfSigned(t){return t.payload.iss===t.payload.aud}async function isValid(t,e){try{const n=encodeHeader(e.header),a=encodePayload(e.payload),{publicKey:o,type:u}=didToPublicKey(t,e.payload.iss),d=await t.did.keyTypes[u].verify({publicKey:o,message:fromString$2(`${n}.${a}`,"utf8"),signature:fromString$2(e.signature||"","base64url")});if(!d)return d;if(!e.payload.prf)return!0;const p=decode$2(e.payload.prf),v=p.payload.aud===e.payload.iss;return v&&await isValid(t,p)}catch{return!1}}function rootIssuer(t,e=0){const n=typeof t=="string"?extractPayload(t,e):t.payload;return n.prf?rootIssuer(n.prf,e+1):n.iss}async function sign$1(t,e,n){const a=encodeHeader(e),o=encodePayload(n);return toString$2(await t.keystore.sign(fromString$2(`${a}.${o}`,"utf8")),"base64url")}function extractPayload(t,e){try{return JSON.parse(urlDecode(t.split(".")[1]))}catch{throw new Error(`Invalid UCAN (${e} level${e===1?"":"s"} deep): \`${t}\``)}}class Repository{constructor({storage:e,storageName:n}){this.memoryCache=[],this.dictionary={},this.storage=e,this.storageName=n}static async create(e){const n=new this.prototype.constructor(e);return n.memoryCache=await n.getAll(),n.dictionary=n.toDictionary(n.memoryCache),n}async add(e){const n=Array.isArray(e)?e:[e];this.memoryCache=[...this.memoryCache,...n],this.dictionary=this.toDictionary(this.memoryCache),await this.storage.setItem(this.storageName,this.memoryCache.map(this.toJSON).join("|||"))}clear(){return this.memoryCache=[],this.dictionary={},this.storage.removeItem(this.storageName)}find(e){return this.memoryCache.find(e)||null}getByIndex(e){return this.memoryCache[e]}async getAll(){const e=await this.storage.getItem(this.storageName);return isString(e)?e.split("|||").map(this.fromJSON):[]}indexOf(e){return this.memoryCache.indexOf(e)}length(){return this.memoryCache.length}fromJSON(e){return JSON.parse(e)}toJSON(e){return JSON.stringify(e)}getByKey(e){return this.dictionary[e]}toDictionary(e){return e.reduce((n,a,o)=>({...n,[o.toString()]:a}),{})}}function create$3({storage:t}){return Repo$1.create({storage:t,storageName:t.KEYS.UCANS})}let Repo$1=class extends Repository{constructor(e){super(e)}fromJSON(e){return decode$2(e)}toJSON(e){return encode$3(e)}toDictionary(e){return e.reduce((n,a)=>({...n,[resourceLabel(a.payload.rsc)]:a}),{})}async lookupFilesystemUcan(e){const n=this.getByKey("*");if(n)return n;const a=e==="*",o=a?!1:isDirectory(e),u=a?["*"]:unwrap(e),c=filesystemPrefix();return u.reduce((d,p,v)=>{if(d)return d;const y=v===0,b=u.slice(0,u.length-v),_=toPosix(y&&!o?file(...b):directory(...b));return this.getByKey(`${c}${_}`)||null},null)}async lookupAppUcan(e){return this.getByKey("*")||this.getByKey("app:*")||this.getByKey(`app:${e}`)}};const WNFS_PREFIX="wnfs";function filesystemPrefix(t){return WNFS_PREFIX+":"}function resourceLabel(t){if(typeof t!="object")return t;const e=Array.from(Object.entries(t))[0];return e[0]+":"+(e[0]===WNFS_PREFIX?e[1].replace(/^\/+/,""):e[1])}const SESSION_TYPE="capabilities";async function collect({capabilities:t,crypto:e,reference:n,storage:a}){if(t.ucans.length===0)throw new Error("Expected at least one UCAN");await collectPermissions({reference:n,ucans:t.ucans});const o=await n.didRoot.lookup(t.username);await t.fileSystemSecrets.reduce(async(u,c)=>{await u,await collectSecret({accountDID:o,crypto:e,storage:a,bareNameFilter:c.bareNameFilter,readKey:c.readKey,path:c.path})},Promise.resolve())}async function collectSecret({accountDID:t,bareNameFilter:e,crypto:n,path:a,readKey:o,storage:u}){const c=await readKey({accountDID:t,crypto:n,path:a}),d=await bareNameFilter({accountDID:t,crypto:n,path:a});await n.keystore.importSymmKey(o,c),await u.setItem(d,e)}async function collectPermissions({reference:t,ucans:e}){await t.repositories.ucans.add(e)}function validatePermissions(t,{app:e,fs:n,raw:a}){let o;const u=filesystemPrefix(),c=t.getByKey("*");if(c&&!isExpired(c)&&!isSelfSigned(c))return c;if(e){const d=u+toPosix(appData(e)),p=t.getByKey(d);if(!p||isExpired(p))return null;o=p}return n?.private&&!n.private.every(p=>{const v=`${u}private/`+toPosix(p),y=t.getByKey(v);return o=y,y&&!isExpired(y)})||n?.public&&!n.public.every(p=>{const v=`${u}public/`+toPosix(p),y=t.getByKey(v);return o=y,y&&!isExpired(y)})||a&&!a.every(p=>{const v=resourceLabel(p.rsc),y=t.getByKey(v);return o=y,y&&!isExpired(y)})?null:o||null}async function validateSecrets(t,e,n){return permissionPaths(n).reduce((a,o)=>a.then(async u=>{if(u===!1||isPartition(RootBranch.Public,o))return u;const c=await readKey({accountDID:e,crypto:t,path:o});return t.keystore.keyExists(c)}),Promise.resolve(!0))}async function exchange(t){const e=await t.keystore.publicExchangeKey(),n=await t.keystore.getAlgorithm();return publicKeyToDid(t,e,n)}async function write(t){const e=await t.keystore.publicWriteKey(),n=await t.keystore.getAlgorithm();return publicKeyToDid(t,e,n)}class EventEmitter{constructor(){this.events=new Map,this.on=this.addListener,this.off=this.removeListener}addListener(e,n){const a=this.events.get(e);a===void 0?this.events.set(e,new Set([n])):a.add(n)}removeListener(e,n){const a=this.events.get(e);a!==void 0&&(a.delete(n),a.size===0&&this.events.delete(e))}emit(e,n){this.events.get(e)?.forEach(a=>{a.apply(this,[n])})}}function createEmitter(){return new EventEmitter}function listenTo(t){return{addListener:t.addListener.bind(t),removeListener:t.removeListener.bind(t),on:t.on.bind(t),off:t.off.bind(t)}}function merge$1(t,e){const n=createEmitter(),a=t.emit,o=e.emit;return t.emit=(u,c)=>{a.call(t,u,c),n.emit(u,c)},e.emit=(u,c)=>{o.call(e,u,c),n.emit(u,c)},n}async function create$2(t){let e={extensionId:null,connected:!1},n;return{connect:async a=>{e=await connect(a,t),n||(n=listen(e,t))},disconnect:async a=>{e=await disconnect(a,t),stopListening(t,n)}}}async function connect(t,e){const n=await getState(e);return globalThis.postMessage({id:t,type:"connect",timestamp:Date.now(),state:n}),{extensionId:t,connected:!0}}async function disconnect(t,e){const n=await getState(e);return globalThis.postMessage({id:t,type:"disconnect",timestamp:Date.now(),state:n}),{extensionId:t,connected:!1}}function listen(t,e){async function n(c){const{root:d,path:p}=c,v=await getState(e);globalThis.postMessage({id:t.extensionId,type:"fileSystem",timestamp:Date.now(),state:v,detail:{type:"local-change",root:d.toString(),path:p}})}async function a(c){const{root:d}=c,p=await getState(e);globalThis.postMessage({id:t.extensionId,type:"fileSystem",timestamp:Date.now(),state:p,detail:{type:"publish",root:d.toString()}})}async function o(c){const{session:d}=c;e={...e,session:d};const p=await getState(e);globalThis.postMessage({id:t.extensionId,type:"session",timestamp:Date.now(),state:p,detail:{type:"create",username:d.username}})}async function u(c){const{username:d}=c;e={...e,session:null};const p=await getState(e);globalThis.postMessage({id:t.extensionId,type:"session",timestamp:Date.now(),state:p,detail:{type:"destroy",username:d}})}return e.eventEmitters.fileSystem.on("fileSystem:local-change",n),e.eventEmitters.fileSystem.on("fileSystem:publish",a),e.eventEmitters.session.on("session:create",o),e.eventEmitters.session.on("session:destroy",u),{handleLocalChange:n,handlePublish:a,handleSessionCreate:o,handleSessionDestroy:u}}function stopListening(t,e){e&&(t.eventEmitters.fileSystem.removeListener("fileSystem:local-change",e.handleLocalChange),t.eventEmitters.fileSystem.removeListener("fileSystem:publish",e.handlePublish),t.eventEmitters.session.removeListener("session:create",e.handleSessionCreate),t.eventEmitters.session.removeListener("session:destroy",e.handleSessionDestroy))}async function getState(t){const{capabilities:e,dependencies:n,namespace:a,session:o}=t,u=await write(n.crypto);let c=null,d=null,p=null;return o&&o.username&&(d=o.username,c=await n.reference.didRoot.lookup(d),p=await n.reference.dataRoot.lookup(d)),{app:{namespace:a,...e?{capabilities:e}:{}},fileSystem:{dataRootCID:p?.toString()??null},user:{username:d,accountDID:c,agentDID:u},odd:{version:VERSION}}}const CID_CBOR_TAG=42;function cidEncoder(t){if(t.asCID!==t&&t["/"]!==t.bytes)return null;const e=CID$1.asCID(t);if(!e)return null;const n=new Uint8Array(e.bytes.byteLength+1);return n.set(e.bytes,1),[new Token(Type.tag,CID_CBOR_TAG),new Token(Type.bytes,n)]}function undefinedEncoder(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function numberEncoder(t){if(Number.isNaN(t))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(t===1/0||t===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}const encodeOptions={float64:!0,typeEncoders:{Object:cidEncoder,undefined:undefinedEncoder,number:numberEncoder}};function cidDecoder(t){if(t[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return CID$1.decode(t.subarray(1))}const decodeOptions={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};decodeOptions.tags[CID_CBOR_TAG]=cidDecoder;const name$1="dag-cbor",code$1=113,encode$2=t=>encode$6(t,encodeOptions),decode$1=t=>decode$5(t,decodeOptions),dagCBOR=Object.freeze(Object.defineProperty({__proto__:null,code:code$1,decode:decode$1,encode:encode$2,name:name$1},Symbol.toStringTag,{value:"Module"})),textDecoder=new TextDecoder;function decodeVarint(t,e){let n=0;for(let a=0;;a+=7){if(a>=64)throw new Error("protobuf: varint overflow");if(e>=t.length)throw new Error("protobuf: unexpected end of data");const o=t[e++];if(n+=a<28?(o&127)<<a:(o&127)*2**a,o<128)break}return[n,e]}function decodeBytes(t,e){let n;[n,e]=decodeVarint(t,e);const a=e+n;if(n<0||a<0)throw new Error("protobuf: invalid length");if(a>t.length)throw new Error("protobuf: unexpected end of data");return[t.subarray(e,a),a]}function decodeKey(t,e){let n;return[n,e]=decodeVarint(t,e),[n&7,n>>3,e]}function decodeLink(t){const e={},n=t.length;let a=0;for(;a<n;){let o,u;if([o,u,a]=decodeKey(t,a),u===1){if(e.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(o!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Hash`);if(e.Name!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[e.Hash,a]=decodeBytes(t,a)}else if(u===2){if(e.Name!==void 0)throw new Error("protobuf: (PBLink) duplicate Name section");if(o!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Name`);if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let c;[c,a]=decodeBytes(t,a),e.Name=textDecoder.decode(c)}else if(u===3){if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(o!==0)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Tsize`);[e.Tsize,a]=decodeVarint(t,a)}else throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${u}`)}if(a>n)throw new Error("protobuf: (PBLink) unexpected end of data");return e}function decodeNode(t){const e=t.length;let n=0,a,o=!1,u;for(;n<e;){let d,p;if([d,p,n]=decodeKey(t,n),d!==2)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${d}`);if(p===1){if(u)throw new Error("protobuf: (PBNode) duplicate Data section");[u,n]=decodeBytes(t,n),a&&(o=!0)}else if(p===2){if(o)throw new Error("protobuf: (PBNode) duplicate Links section");a||(a=[]);let v;[v,n]=decodeBytes(t,n),a.push(decodeLink(v))}else throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${p}`)}if(n>e)throw new Error("protobuf: (PBNode) unexpected end of data");const c={};return u&&(c.Data=u),c.Links=a||[],c}const textEncoder$1=new TextEncoder,maxInt32=2**32,maxUInt32=2**31;function encodeLink(t,e){let n=e.length;if(typeof t.Tsize=="number"){if(t.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(t.Tsize))throw new Error("Tsize too large for encoding");n=encodeVarint(e,n,t.Tsize)-1,e[n]=24}if(typeof t.Name=="string"){const a=textEncoder$1.encode(t.Name);n-=a.length,e.set(a,n),n=encodeVarint(e,n,a.length)-1,e[n]=18}return t.Hash&&(n-=t.Hash.length,e.set(t.Hash,n),n=encodeVarint(e,n,t.Hash.length)-1,e[n]=10),e.length-n}function encodeNode(t){const e=sizeNode(t),n=new Uint8Array(e);let a=e;if(t.Data&&(a-=t.Data.length,n.set(t.Data,a),a=encodeVarint(n,a,t.Data.length)-1,n[a]=10),t.Links)for(let o=t.Links.length-1;o>=0;o--){const u=encodeLink(t.Links[o],n.subarray(0,a));a-=u,a=encodeVarint(n,a,u)-1,n[a]=18}return n}function sizeLink(t){let e=0;if(t.Hash){const n=t.Hash.length;e+=1+n+sov(n)}if(typeof t.Name=="string"){const n=textEncoder$1.encode(t.Name).length;e+=1+n+sov(n)}return typeof t.Tsize=="number"&&(e+=1+sov(t.Tsize)),e}function sizeNode(t){let e=0;if(t.Data){const n=t.Data.length;e+=1+n+sov(n)}if(t.Links)for(const n of t.Links){const a=sizeLink(n);e+=1+a+sov(a)}return e}function encodeVarint(t,e,n){e-=sov(n);const a=e;for(;n>=maxUInt32;)t[e++]=n&127|128,n/=128;for(;n>=128;)t[e++]=n&127|128,n>>>=7;return t[e]=n,a}function sov(t){return t%2===0&&t++,Math.floor((len64(t)+6)/7)}function len64(t){let e=0;return t>=maxInt32&&(t=Math.floor(t/maxInt32),e=32),t>=65536&&(t>>>=16,e+=16),t>=256&&(t>>>=8,e+=8),e+len8tab[t]}const len8tab=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],pbNodeProperties=["Data","Links"],pbLinkProperties=["Hash","Name","Tsize"],textEncoder=new TextEncoder;function linkComparator(t,e){if(t===e)return 0;const n=t.Name?textEncoder.encode(t.Name):[],a=e.Name?textEncoder.encode(e.Name):[];let o=n.length,u=a.length;for(let c=0,d=Math.min(o,u);c<d;++c)if(n[c]!==a[c]){o=n[c],u=a[c];break}return o<u?-1:u<o?1:0}function hasOnlyProperties(t,e){return!Object.keys(t).some(n=>!e.includes(n))}function asLink(t){if(typeof t.asCID=="object"){const n=CID$1.asCID(t);if(!n)throw new TypeError("Invalid DAG-PB form");return{Hash:n}}if(typeof t!="object"||Array.isArray(t))throw new TypeError("Invalid DAG-PB form");const e={};if(t.Hash){let n=CID$1.asCID(t.Hash);try{n||(typeof t.Hash=="string"?n=CID$1.parse(t.Hash):t.Hash instanceof Uint8Array&&(n=CID$1.decode(t.Hash)))}catch(a){throw new TypeError(`Invalid DAG-PB form: ${a.message}`)}n&&(e.Hash=n)}if(!e.Hash)throw new TypeError("Invalid DAG-PB form");return typeof t.Name=="string"&&(e.Name=t.Name),typeof t.Tsize=="number"&&(e.Tsize=t.Tsize),e}function prepare(t){if((t instanceof Uint8Array||typeof t=="string")&&(t={Data:t}),typeof t!="object"||Array.isArray(t))throw new TypeError("Invalid DAG-PB form");const e={};if(t.Data!==void 0)if(typeof t.Data=="string")e.Data=textEncoder.encode(t.Data);else if(t.Data instanceof Uint8Array)e.Data=t.Data;else throw new TypeError("Invalid DAG-PB form");if(t.Links!==void 0)if(Array.isArray(t.Links))e.Links=t.Links.map(asLink),e.Links.sort(linkComparator);else throw new TypeError("Invalid DAG-PB form");else e.Links=[];return e}function validate(t){if(!t||typeof t!="object"||Array.isArray(t))throw new TypeError("Invalid DAG-PB form");if(!hasOnlyProperties(t,pbNodeProperties))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(t.Data!==void 0&&!(t.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be a Uint8Array)");if(!Array.isArray(t.Links))throw new TypeError("Invalid DAG-PB form (Links must be an array)");for(let e=0;e<t.Links.length;e++){const n=t.Links[e];if(!n||typeof n!="object"||Array.isArray(n))throw new TypeError("Invalid DAG-PB form (bad link object)");if(!hasOnlyProperties(n,pbLinkProperties))throw new TypeError("Invalid DAG-PB form (extraneous properties on link object)");if(!n.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(n.Hash.asCID!==n.Hash)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(n.Name!==void 0&&typeof n.Name!="string")throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(n.Tsize!==void 0&&(typeof n.Tsize!="number"||n.Tsize%1!==0))throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(e>0&&linkComparator(n,t.Links[e-1])===-1)throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function createNode(t,e=[]){return prepare({Data:t,Links:e})}function createLink(t,e,n){return asLink({Hash:n,Name:t,Tsize:e})}const name="dag-pb",code=112;function encode$1(t){validate(t);const e={};return t.Links&&(e.Links=t.Links.map(n=>{const a={};return n.Hash&&(a.Hash=n.Hash.bytes),n.Name!==void 0&&(a.Name=n.Name),n.Tsize!==void 0&&(a.Tsize=n.Tsize),a})),t.Data&&(e.Data=t.Data),encodeNode(e)}function decode(t){const e=decodeNode(t),n={};return e.Data&&(n.Data=e.Data),e.Links&&(n.Links=e.Links.map(a=>{const o={};try{o.Hash=CID$1.decode(a.Hash)}catch{}if(!o.Hash)throw new Error("Invalid Hash field found in link, expected CID");return a.Name!==void 0&&(o.Name=a.Name),a.Tsize!==void 0&&(o.Tsize=a.Tsize),o})),n}const dagPB=Object.freeze(Object.defineProperty({__proto__:null,code,createLink,createNode,decode,encode:encode$1,name,prepare,validate},Symbol.toStringTag,{value:"Module"})),BY_NAME={[name]:dagPB,[name$1]:dagCBOR,[name$3]:raw},BY_CODE={[code]:dagPB,[code$1]:dagCBOR,[code$3]:raw};function getByCode(t){const e=BY_CODE[t];if(!e)throw new Error(`No codec was registered for the code: ${numberHex(t)}. Is it part of the multicodec table (https://github.com/multiformats/multicodec/blob/master/table.csv)?`);return e}function getByName$1(t){const e=BY_NAME[t];if(!e)throw new Error(`No codec was registered for the name: ${t}`);return e}function getByIdentifier(t){return typeof t=="string"?getByName$1(t):getByCode(t)}function expect(t,e){const n=getByIdentifier(t);if(e.code!==n.code){const a=getByCode(e.code);throw new Error(`Expected a ${n.name} CID, found a ${a.name} CID instead.`)}}function isIdentifier(t){return typeof t=="string"?!!BY_NAME[t]:!!BY_CODE[t]}function numberHex(t){const e=new Uint8Array(4);return new DataView(e.buffer).setUint32(0,t),`0x${toString$2(e,"hex").replace(/^(00)*/,"")}`}const PB_IPLD_DATA=new Uint8Array([8,1]);async function getPB(t,e){return expect(code,e),decode(await t.getBlock(e))}function putPB(t,e){const n=createNode(PB_IPLD_DATA,e);return t.putBlock(encode$1(n),code)}const isFile=t=>isObject$1(t)&&t.content!==void 0,isTree=t=>isObject$1(t)&&t.ls!==void 0,isBaseLink=t=>isObject$1(t)&&isString(t.name)&&isNum(t.size)&&isBool(t.isFile),isSimpleLink=t=>isObject$1(t)&&isString(t.name)&&isNum(t.size)&&isCID(t.cid),isSoftLink=t=>isObject$1(t)&&isString(t.name)&&isString(t.ipns),isSoftLinkDictionary=t=>{if(isObject$1(t)){const e=Object.values(t);return e.length>0&&e.every(isSoftLink)}return!1},isSoftLinkList=t=>Array.isArray(t)&&t.every(isSoftLink),isHardLink=t=>isBaseLink(t)&&isCID(t.cid),isLinks=t=>isObject$1(t)&&Object.values(t).every(e=>isHardLink(e)||isSoftLink(e)),isUnixMeta=t=>isObject$1(t)&&isNum(t.mtime)&&isNum(t.ctime)&&isNum(t.mode)&&isString(t._type),isMetadata=t=>isObject$1(t)&&isUnixMeta(t.unixMeta)&&isBool(t.isFile)&&isSemVer(t.version),isSkeleton=t=>isObject$1(t)&&Object.values(t).every(isSkeletonInfo),isSkeletonInfo=t=>isObject$1(t)&&isCID(t.cid)&&isCID(t.userland)&&isCID(t.metadata)&&isSkeleton(t.subSkeleton)||isSoftLink(t),isTreeHeader=t=>isObject$1(t)&&isSkeleton(t.skeleton)&&isMetadata(t.metadata)&&t.metadata.isFile===!1,isTreeInfo=t=>isTreeHeader(t)&&isCID(t.userland),isFileHeader=t=>isObject$1(t)&&isMetadata(t.metadata)&&t.metadata.isFile===!0,isFileInfo=t=>isFileHeader(t)&&isCID(t.userland),isCID=t=>!!CID.asCID(t)||isString(t)||t&&"code"in t&&"version"in t&&("multihash"in t||"hash"in t),isSemVer=t=>{if(!isObject$1(t))return!1;const{major:e,minor:n,patch:a}=t;return isNum(e)&&isNum(n)&&isNum(a)},arrToMap=t=>t.reduce((e,n)=>(e[n.name]=n,e),{}),fromDAGLink=t=>{const e=t.Name||"",n=t.Hash,a=t.Tsize||0;return{name:e,cid:n,size:a}},make=(t,e,n,a)=>({name:t,cid:encodeCID(e),size:a,isFile:n}),toDAGLink=t=>{const{name:e,cid:n,size:a}=t;return createLink(e,a,decodeCID(n))};var CryptoSystem;(function(t){t.ECC="ecc",t.RSA="rsa"})(CryptoSystem||(CryptoSystem={}));var EccCurve;(function(t){t.P_256="P-256",t.P_384="P-384",t.P_521="P-521"})(EccCurve||(EccCurve={}));var RsaSize;(function(t){t[t.B1024=1024]="B1024",t[t.B2048=2048]="B2048",t[t.B4096=4096]="B4096"})(RsaSize||(RsaSize={}));var SymmAlg;(function(t){t.AES_CTR="AES-CTR",t.AES_CBC="AES-CBC",t.AES_GCM="AES-GCM"})(SymmAlg||(SymmAlg={}));var SymmKeyLength;(function(t){t[t.B128=128]="B128",t[t.B192=192]="B192",t[t.B256=256]="B256"})(SymmKeyLength||(SymmKeyLength={}));var HashAlg;(function(t){t.SHA_1="SHA-1",t.SHA_256="SHA-256",t.SHA_384="SHA-384",t.SHA_512="SHA-512"})(HashAlg||(HashAlg={}));var CharSize;(function(t){t[t.B8=8]="B8",t[t.B16=16]="B16"})(CharSize||(CharSize={}));var KeyUse;(function(t){t.Exchange="exchange",t.Write="write"})(KeyUse||(KeyUse={}));const DEFAULT_AES_ALG=SymmAlg.AES_CTR,getFile=async(t,e)=>t.getUnixFile(e),getEncryptedFile=async(t,e,n,a)=>{const o=await getFile(t,n);let u;try{u=decode$1(o)}catch{return o}if(!hasProp(u,"alg")||!hasProp(u,"cip")||!isSymmAlg(u.alg)||!ArrayBuffer.isView(u.cip))throw new Error('Unexpected private block. Expected "alg" and "cip" field.');const c=u.alg,d=new Uint8Array(u.cip.buffer),p=await e.aes.decrypt(d,a,c),v=decode$1(p);return v instanceof Uint8Array?v:fromString$2(typeof v=="string"?v:JSON.stringify(v),"utf8")},putFile$1=async(t,e)=>t.putChunked(e),putEncryptedFile=async(t,e,n,a)=>{const o=isBlob(n)?await toUint8Array(n):n,u=encode$2(o),c=SymmAlg.AES_GCM,d=await e.aes.encrypt(u,a,c),p=encode$2({alg:c,cip:d});return putFile$1(t,p)},getSimpleLinks=async(t,e)=>{const n=await getPB(t,e);return arrToMap(n.Links.map(fromDAGLink))},getFileSystemLinks=async(t,e)=>{const n=await getPB(t,e),a=await Promise.all(n.Links.map(async o=>{const u=await getPB(t,o.Hash),c=arrToMap(u.Links.map(fromDAGLink));if(!!c.softLink){const v=await t.getUnixFile(decodeCID(c.softLink.cid)),y=new TextDecoder().decode(v);return JSON.parse(y)}const p=await decode$1(await getFile(t,decodeCID(c.metadata.cid)));return{...fromDAGLink(o),isFile:hasProp(p,"isFile")?p.isFile:!1}}));return arrToMap(a)},putLinks=async(t,e)=>{const n=Object.values(e).reduce(async(o,u)=>{const c=await o;if(isSoftLink(u)){const d=await t.putChunked(fromString$2(JSON.stringify(u),"utf8")),p=await putPB(t,[createLink("softLink",d.size,d.cid)]),v=await t.size(p);return[...c,createLink(u.name,v,p)]}else return hasProp(u,"Hash")&&u.Hash?[...c,u]:isSimpleLink(u)?[...c,toDAGLink(u)]:c},Promise.resolve([])),a=await putPB(t,await n);return{cid:a,isFile:!1,size:await t.size(a)}};function isSymmAlg(t){return isString(t)&&Object.values(SymmAlg).includes(t)}const putTree=async(t,e,n,a,o)=>{const u=await putLinks(t,e),c=make("userland",u.cid,!0,u.size),[d,p]=await Promise.all([putAndMakeLink(t,"metadata",a),putAndMakeLink(t,"skeleton",n)]),v=o!=null?make("previous",o,!1,await t.size(o)):void 0,y={metadata:d,skeleton:p,userland:c,previous:v},{cid:b,size:_}=await putLinks(t,y);return{cid:b,userland:decodeCID(c.cid),metadata:decodeCID(d.cid),size:_,isFile:!1,skeleton:n}},putFile=async(t,e,n,a)=>{const o=await putFile$1(t,e),u=make("userland",o.cid,!0,o.size),c=await putAndMakeLink(t,"metadata",n),d=a!=null?make("previous",a,!1,await t.size(a)):void 0,p={metadata:c,userland:u,previous:d},{cid:v,size:y}=await putLinks(t,p);return{cid:v,userland:decodeCID(u.cid),metadata:decodeCID(c.cid),size:y,isFile:!0,skeleton:{}}},get$1=async(t,e)=>{const n=await getSimpleLinks(t,e),a=await getAndCheckValue(t,n,"metadata",isMetadata),o=a.isFile?void 0:await getAndCheckValue(t,n,"skeleton",isSkeleton),u=n.userland?.cid||null;if(!isCID(u))throw new Error("Could not find userland");const c=n.previous?.cid||void 0;return{userland:u,metadata:a,previous:c,skeleton:o}},getValue=async(t,e,n)=>{const a=CID.asCID(e);if(isCID(e)){if(!a)return null;const o=await getSimpleLinks(t,a);return getValueFromLinks(t,o,n)}return getValueFromLinks(t,e,n)},getValueFromLinks=async(t,e,n)=>{const a=e[n]?.cid;if(!a)return null;const o=await getFile(t,decodeCID(a)),u=decode$1(o);let c;return u instanceof Uint8Array?c=JSON.parse(toString$2(u,"utf8")):c=u,c},getAndCheckValue=async(t,e,n,a,o=!1)=>{const u=await getValue(t,e,n);return checkValue(u,n,a,o)},checkValue=(t,e,n,a=!1)=>{if(!isValue(t)){if(a)return t;throw new Error(`Could not find header value: ${e}`)}if(n(t))return t;throw new Error(`Improperly formatted header value: ${e}`)};async function putAndMakeLink(t,e,n){const{cid:a,size:o}=await putFile$1(t,encode$2(n));return make(e,a,!0,o)}const isDecryptedNode=t=>isPrivateTreeInfo(t)||isPrivateFileInfo(t)||isSoftLink(t),isPrivateFileInfo=t=>isObject$1(t)&&isMetadata(t.metadata)&&t.metadata.isFile&&isString(t.key)&&notNull(t.content),isPrivateTreeInfo=t=>isObject$1(t)&&isMetadata(t.metadata)&&t.metadata.isFile===!1&&isNum(t.revision)&&isPrivateLinks(t.links)&&isPrivateSkeleton(t.skeleton),isPrivateLink=t=>isBaseLink(t)&&isString(t.key)&&isString(t.pointer),isPrivateLinks=t=>isObject$1(t)&&Object.values(t).every(e=>isPrivateLink(e)||isSoftLink(e)),isPrivateSkeleton=t=>isObject$1(t)&&Object.values(t).every(e=>isPrivateSkeletonInfo(e)||isSoftLink(e)),isPrivateSkeletonInfo=t=>isObject$1(t)&&notNull(t.cid)&&isString(t.key)&&isPrivateSkeleton(t.subSkeleton),fromBytes=t=>Array.prototype.map.call(t,e=>("00"+e.toString(16)).slice(-2)).join(""),toBytes=t=>{const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++)e[n]=parseInt(t.slice(n*2,n*2+2),16);return e};var cuint={},uint32={exports:{}};(function(t){(function(e){n(Math.pow(36,5)),n(Math.pow(16,7)),n(Math.pow(10,9)),n(Math.pow(2,30)),n(36),n(16),n(10),n(2);function n(c,d){if(!(this instanceof n))return new n(c,d);if(this._low=0,this._high=0,this.remainder=null,typeof d>"u")return o.call(this,c);if(typeof c=="string")return u.call(this,c,d);a.call(this,c,d)}function a(c,d){return this._low=c|0,this._high=d|0,this}n.prototype.fromBits=a;function o(c){return this._low=c&65535,this._high=c>>>16,this}n.prototype.fromNumber=o;function u(c,d){var p=parseInt(c,d||10);return this._low=p&65535,this._high=p>>>16,this}n.prototype.fromString=u,n.prototype.toNumber=function(){return this._high*65536+this._low},n.prototype.toString=function(c){return this.toNumber().toString(c||10)},n.prototype.add=function(c){var d=this._low+c._low,p=d>>>16;return p+=this._high+c._high,this._low=d&65535,this._high=p&65535,this},n.prototype.subtract=function(c){return this.add(c.clone().negate())},n.prototype.multiply=function(c){var d=this._high,p=this._low,v=c._high,y=c._low,b,_;return _=p*y,b=_>>>16,b+=d*y,b&=65535,b+=p*v,this._low=_&65535,this._high=b&65535,this},n.prototype.div=function(c){if(c._low==0&&c._high==0)throw Error("division by zero");if(c._high==0&&c._low==1)return this.remainder=new n(0),this;if(c.gt(this))return this.remainder=this.clone(),this._low=0,this._high=0,this;if(this.eq(c))return this.remainder=new n(0),this._low=1,this._high=0,this;for(var d=c.clone(),p=-1;!this.lt(d);)d.shiftLeft(1,!0),p++;for(this.remainder=this.clone(),this._low=0,this._high=0;p>=0;p--)d.shiftRight(1),this.remainder.lt(d)||(this.remainder.subtract(d),p>=16?this._high|=1<<p-16:this._low|=1<<p);return this},n.prototype.negate=function(){var c=(~this._low&65535)+1;return this._low=c&65535,this._high=~this._high+(c>>>16)&65535,this},n.prototype.equals=n.prototype.eq=function(c){return this._low==c._low&&this._high==c._high},n.prototype.greaterThan=n.prototype.gt=function(c){return this._high>c._high?!0:this._high<c._high?!1:this._low>c._low},n.prototype.lessThan=n.prototype.lt=function(c){return this._high<c._high?!0:this._high>c._high?!1:this._low<c._low},n.prototype.or=function(c){return this._low|=c._low,this._high|=c._high,this},n.prototype.and=function(c){return this._low&=c._low,this._high&=c._high,this},n.prototype.not=function(){return this._low=~this._low&65535,this._high=~this._high&65535,this},n.prototype.xor=function(c){return this._low^=c._low,this._high^=c._high,this},n.prototype.shiftRight=n.prototype.shiftr=function(c){return c>16?(this._low=this._high>>c-16,this._high=0):c==16?(this._low=this._high,this._high=0):(this._low=this._low>>c|this._high<<16-c&65535,this._high>>=c),this},n.prototype.shiftLeft=n.prototype.shiftl=function(c,d){return c>16?(this._high=this._low<<c-16,this._low=0,d||(this._high&=65535)):c==16?(this._high=this._low,this._low=0):(this._high=this._high<<c|this._low>>16-c,this._low=this._low<<c&65535,d||(this._high&=65535)),this},n.prototype.rotateLeft=n.prototype.rotl=function(c){var d=this._high<<16|this._low;return d=d<<c|d>>>32-c,this._low=d&65535,this._high=d>>>16,this},n.prototype.rotateRight=n.prototype.rotr=function(c){var d=this._high<<16|this._low;return d=d>>>c|d<<32-c,this._low=d&65535,this._high=d>>>16,this},n.prototype.clone=function(){return new n(this._low,this._high)},t.exports?t.exports=n:e.UINT32=n})(commonjsGlobal)})(uint32);var uint32Exports=uint32.exports,uint64={exports:{}};(function(t){(function(e){var n={16:o(Math.pow(16,5)),10:o(Math.pow(10,5)),2:o(Math.pow(2,5))},a={16:o(16),10:o(10),2:o(2)};function o(p,v,y,b){if(!(this instanceof o))return new o(p,v,y,b);if(this.remainder=null,typeof p=="string")return d.call(this,p,v);if(typeof v>"u")return c.call(this,p);u.apply(this,arguments)}function u(p,v,y,b){return typeof y>"u"?(this._a00=p&65535,this._a16=p>>>16,this._a32=v&65535,this._a48=v>>>16,this):(this._a00=p|0,this._a16=v|0,this._a32=y|0,this._a48=b|0,this)}o.prototype.fromBits=u;function c(p){return this._a00=p&65535,this._a16=p>>>16,this._a32=0,this._a48=0,this}o.prototype.fromNumber=c;function d(p,v){v=v||10,this._a00=0,this._a16=0,this._a32=0,this._a48=0;for(var y=n[v]||new o(Math.pow(v,5)),b=0,_=p.length;b<_;b+=5){var w=Math.min(5,_-b),E=parseInt(p.slice(b,b+w),v);this.multiply(w<5?new o(Math.pow(v,w)):y).add(new o(E))}return this}o.prototype.fromString=d,o.prototype.toNumber=function(){return this._a16*65536+this._a00},o.prototype.toString=function(p){p=p||10;var v=a[p]||new o(p);if(!this.gt(v))return this.toNumber().toString(p);for(var y=this.clone(),b=new Array(64),_=63;_>=0&&(y.div(v),b[_]=y.remainder.toNumber().toString(p),!!y.gt(v));_--);return b[_-1]=y.toNumber().toString(p),b.join("")},o.prototype.add=function(p){var v=this._a00+p._a00,y=v>>>16;y+=this._a16+p._a16;var b=y>>>16;b+=this._a32+p._a32;var _=b>>>16;return _+=this._a48+p._a48,this._a00=v&65535,this._a16=y&65535,this._a32=b&65535,this._a48=_&65535,this},o.prototype.subtract=function(p){return this.add(p.clone().negate())},o.prototype.multiply=function(p){var v=this._a00,y=this._a16,b=this._a32,_=this._a48,w=p._a00,E=p._a16,$=p._a32,C=p._a48,P=v*w,z=P>>>16;z+=v*E;var J=z>>>16;z&=65535,z+=y*w,J+=z>>>16,J+=v*$;var X=J>>>16;return J&=65535,J+=y*E,X+=J>>>16,J&=65535,J+=b*w,X+=J>>>16,X+=v*C,X&=65535,X+=y*$,X&=65535,X+=b*E,X&=65535,X+=_*w,this._a00=P&65535,this._a16=z&65535,this._a32=J&65535,this._a48=X&65535,this},o.prototype.div=function(p){if(p._a16==0&&p._a32==0&&p._a48==0){if(p._a00==0)throw Error("division by zero");if(p._a00==1)return this.remainder=new o(0),this}if(p.gt(this))return this.remainder=this.clone(),this._a00=0,this._a16=0,this._a32=0,this._a48=0,this;if(this.eq(p))return this.remainder=new o(0),this._a00=1,this._a16=0,this._a32=0,this._a48=0,this;for(var v=p.clone(),y=-1;!this.lt(v);)v.shiftLeft(1,!0),y++;for(this.remainder=this.clone(),this._a00=0,this._a16=0,this._a32=0,this._a48=0;y>=0;y--)v.shiftRight(1),this.remainder.lt(v)||(this.remainder.subtract(v),y>=48?this._a48|=1<<y-48:y>=32?this._a32|=1<<y-32:y>=16?this._a16|=1<<y-16:this._a00|=1<<y);return this},o.prototype.negate=function(){var p=(~this._a00&65535)+1;return this._a00=p&65535,p=(~this._a16&65535)+(p>>>16),this._a16=p&65535,p=(~this._a32&65535)+(p>>>16),this._a32=p&65535,this._a48=~this._a48+(p>>>16)&65535,this},o.prototype.equals=o.prototype.eq=function(p){return this._a48==p._a48&&this._a00==p._a00&&this._a32==p._a32&&this._a16==p._a16},o.prototype.greaterThan=o.prototype.gt=function(p){return this._a48>p._a48?!0:this._a48<p._a48?!1:this._a32>p._a32?!0:this._a32<p._a32?!1:this._a16>p._a16?!0:this._a16<p._a16?!1:this._a00>p._a00},o.prototype.lessThan=o.prototype.lt=function(p){return this._a48<p._a48?!0:this._a48>p._a48?!1:this._a32<p._a32?!0:this._a32>p._a32?!1:this._a16<p._a16?!0:this._a16>p._a16?!1:this._a00<p._a00},o.prototype.or=function(p){return this._a00|=p._a00,this._a16|=p._a16,this._a32|=p._a32,this._a48|=p._a48,this},o.prototype.and=function(p){return this._a00&=p._a00,this._a16&=p._a16,this._a32&=p._a32,this._a48&=p._a48,this},o.prototype.xor=function(p){return this._a00^=p._a00,this._a16^=p._a16,this._a32^=p._a32,this._a48^=p._a48,this},o.prototype.not=function(){return this._a00=~this._a00&65535,this._a16=~this._a16&65535,this._a32=~this._a32&65535,this._a48=~this._a48&65535,this},o.prototype.shiftRight=o.prototype.shiftr=function(p){return p%=64,p>=48?(this._a00=this._a48>>p-48,this._a16=0,this._a32=0,this._a48=0):p>=32?(p-=32,this._a00=(this._a32>>p|this._a48<<16-p)&65535,this._a16=this._a48>>p&65535,this._a32=0,this._a48=0):p>=16?(p-=16,this._a00=(this._a16>>p|this._a32<<16-p)&65535,this._a16=(this._a32>>p|this._a48<<16-p)&65535,this._a32=this._a48>>p&65535,this._a48=0):(this._a00=(this._a00>>p|this._a16<<16-p)&65535,this._a16=(this._a16>>p|this._a32<<16-p)&65535,this._a32=(this._a32>>p|this._a48<<16-p)&65535,this._a48=this._a48>>p&65535),this},o.prototype.shiftLeft=o.prototype.shiftl=function(p,v){return p%=64,p>=48?(this._a48=this._a00<<p-48,this._a32=0,this._a16=0,this._a00=0):p>=32?(p-=32,this._a48=this._a16<<p|this._a00>>16-p,this._a32=this._a00<<p&65535,this._a16=0,this._a00=0):p>=16?(p-=16,this._a48=this._a32<<p|this._a16>>16-p,this._a32=(this._a16<<p|this._a00>>16-p)&65535,this._a16=this._a00<<p&65535,this._a00=0):(this._a48=this._a48<<p|this._a32>>16-p,this._a32=(this._a32<<p|this._a16>>16-p)&65535,this._a16=(this._a16<<p|this._a00>>16-p)&65535,this._a00=this._a00<<p&65535),v||(this._a48&=65535),this},o.prototype.rotateLeft=o.prototype.rotl=function(p){if(p%=64,p==0)return this;if(p>=32){var v=this._a00;if(this._a00=this._a32,this._a32=v,v=this._a48,this._a48=this._a16,this._a16=v,p==32)return this;p-=32}var y=this._a48<<16|this._a32,b=this._a16<<16|this._a00,_=y<<p|b>>>32-p,w=b<<p|y>>>32-p;return this._a00=w&65535,this._a16=w>>>16,this._a32=_&65535,this._a48=_>>>16,this},o.prototype.rotateRight=o.prototype.rotr=function(p){if(p%=64,p==0)return this;if(p>=32){var v=this._a00;if(this._a00=this._a32,this._a32=v,v=this._a48,this._a48=this._a16,this._a16=v,p==32)return this;p-=32}var y=this._a48<<16|this._a32,b=this._a16<<16|this._a00,_=y>>>p|b<<32-p,w=b>>>p|y<<32-p;return this._a00=w&65535,this._a16=w>>>16,this._a32=_&65535,this._a48=_>>>16,this},o.prototype.clone=function(){return new o(this._a00,this._a16,this._a32,this._a48)},t.exports?t.exports=o:e.UINT64=o})(commonjsGlobal)})(uint64);var uint64Exports=uint64.exports;cuint.UINT32=uint32Exports;cuint.UINT64=uint64Exports;var UINT32=cuint.UINT32;UINT32.prototype.xxh_update=function(t,e){var n=PRIME32_2._low,a=PRIME32_2._high,o,u;u=t*n,o=u>>>16,o+=e*n,o&=65535,o+=t*a;var c=this._low+(u&65535),d=c>>>16;d+=this._high+(o&65535);var p=d<<16|c&65535;p=p<<13|p>>>19,c=p&65535,d=p>>>16,n=PRIME32_1._low,a=PRIME32_1._high,u=c*n,o=u>>>16,o+=d*n,o&=65535,o+=c*a,this._low=u&65535,this._high=o&65535};var PRIME32_1=UINT32("2654435761"),PRIME32_2=UINT32("2246822519"),PRIME32_3=UINT32("3266489917"),PRIME32_4=UINT32("668265263"),PRIME32_5=UINT32("374761393");function toUTF8Array$1(t){for(var e=[],n=0,a=t.length;n<a;n++){var o=t.charCodeAt(n);o<128?e.push(o):o<2048?e.push(192|o>>6,128|o&63):o<55296||o>=57344?e.push(224|o>>12,128|o>>6&63,128|o&63):(n++,o=65536+((o&1023)<<10|t.charCodeAt(n)&1023),e.push(240|o>>18,128|o>>12&63,128|o>>6&63,128|o&63))}return new Uint8Array(e)}function XXH(){if(arguments.length==2)return new XXH(arguments[1]).update(arguments[0]).digest();if(!(this instanceof XXH))return new XXH(arguments[0]);init$2.call(this,arguments[0])}function init$2(t){return this.seed=t instanceof UINT32?t.clone():UINT32(t),this.v1=this.seed.clone().add(PRIME32_1).add(PRIME32_2),this.v2=this.seed.clone().add(PRIME32_2),this.v3=this.seed.clone(),this.v4=this.seed.clone().subtract(PRIME32_1),this.total_len=0,this.memsize=0,this.memory=null,this}XXH.prototype.init=init$2;XXH.prototype.update=function(t){var e=typeof t=="string",n;e&&(t=toUTF8Array$1(t),e=!1,n=!0),typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer&&(n=!0,t=new Uint8Array(t));var a=0,o=t.length,u=a+o;if(o==0)return this;if(this.total_len+=o,this.memsize==0&&(e?this.memory="":n?this.memory=new Uint8Array(16):this.memory=new buffer$2.Buffer(16)),this.memsize+o<16)return e?this.memory+=t:n?this.memory.set(t.subarray(0,o),this.memsize):t.copy(this.memory,this.memsize,0,o),this.memsize+=o,this;if(this.memsize>0){e?this.memory+=t.slice(0,16-this.memsize):n?this.memory.set(t.subarray(0,16-this.memsize),this.memsize):t.copy(this.memory,this.memsize,0,16-this.memsize);var c=0;e?(this.v1.xxh_update(this.memory.charCodeAt(c+1)<<8|this.memory.charCodeAt(c),this.memory.charCodeAt(c+3)<<8|this.memory.charCodeAt(c+2)),c+=4,this.v2.xxh_update(this.memory.charCodeAt(c+1)<<8|this.memory.charCodeAt(c),this.memory.charCodeAt(c+3)<<8|this.memory.charCodeAt(c+2)),c+=4,this.v3.xxh_update(this.memory.charCodeAt(c+1)<<8|this.memory.charCodeAt(c),this.memory.charCodeAt(c+3)<<8|this.memory.charCodeAt(c+2)),c+=4,this.v4.xxh_update(this.memory.charCodeAt(c+1)<<8|this.memory.charCodeAt(c),this.memory.charCodeAt(c+3)<<8|this.memory.charCodeAt(c+2))):(this.v1.xxh_update(this.memory[c+1]<<8|this.memory[c],this.memory[c+3]<<8|this.memory[c+2]),c+=4,this.v2.xxh_update(this.memory[c+1]<<8|this.memory[c],this.memory[c+3]<<8|this.memory[c+2]),c+=4,this.v3.xxh_update(this.memory[c+1]<<8|this.memory[c],this.memory[c+3]<<8|this.memory[c+2]),c+=4,this.v4.xxh_update(this.memory[c+1]<<8|this.memory[c],this.memory[c+3]<<8|this.memory[c+2])),a+=16-this.memsize,this.memsize=0,e&&(this.memory="")}if(a<=u-16){var d=u-16;do e?(this.v1.xxh_update(t.charCodeAt(a+1)<<8|t.charCodeAt(a),t.charCodeAt(a+3)<<8|t.charCodeAt(a+2)),a+=4,this.v2.xxh_update(t.charCodeAt(a+1)<<8|t.charCodeAt(a),t.charCodeAt(a+3)<<8|t.charCodeAt(a+2)),a+=4,this.v3.xxh_update(t.charCodeAt(a+1)<<8|t.charCodeAt(a),t.charCodeAt(a+3)<<8|t.charCodeAt(a+2)),a+=4,this.v4.xxh_update(t.charCodeAt(a+1)<<8|t.charCodeAt(a),t.charCodeAt(a+3)<<8|t.charCodeAt(a+2))):(this.v1.xxh_update(t[a+1]<<8|t[a],t[a+3]<<8|t[a+2]),a+=4,this.v2.xxh_update(t[a+1]<<8|t[a],t[a+3]<<8|t[a+2]),a+=4,this.v3.xxh_update(t[a+1]<<8|t[a],t[a+3]<<8|t[a+2]),a+=4,this.v4.xxh_update(t[a+1]<<8|t[a],t[a+3]<<8|t[a+2])),a+=4;while(a<=d)}return a<u&&(e?this.memory+=t.slice(a):n?this.memory.set(t.subarray(a,u),this.memsize):t.copy(this.memory,this.memsize,a,u),this.memsize=u-a),this};XXH.prototype.digest=function(){var t=this.memory,e=typeof t=="string",n=0,a=this.memsize,o,u,c=new UINT32;for(this.total_len>=16?o=this.v1.rotl(1).add(this.v2.rotl(7).add(this.v3.rotl(12).add(this.v4.rotl(18)))):o=this.seed.clone().add(PRIME32_5),o.add(c.fromNumber(this.total_len));n<=a-4;)e?c.fromBits(t.charCodeAt(n+1)<<8|t.charCodeAt(n),t.charCodeAt(n+3)<<8|t.charCodeAt(n+2)):c.fromBits(t[n+1]<<8|t[n],t[n+3]<<8|t[n+2]),o.add(c.multiply(PRIME32_3)).rotl(17).multiply(PRIME32_4),n+=4;for(;n<a;)c.fromBits(e?t.charCodeAt(n++):t[n++],0),o.add(c.multiply(PRIME32_5)).rotl(11).multiply(PRIME32_1);return u=o.clone().shiftRight(15),o.xor(u).multiply(PRIME32_2),u=o.clone().shiftRight(13),o.xor(u).multiply(PRIME32_3),u=o.clone().shiftRight(16),o.xor(u),this.init(this.seed),o};var xxhash=XXH,UINT64=cuint.UINT64,PRIME64_1=UINT64("11400714785074694791"),PRIME64_2=UINT64("14029467366897019727"),PRIME64_3=UINT64("1609587929392839161"),PRIME64_4=UINT64("9650029242287828579"),PRIME64_5=UINT64("2870177450012600261");function toUTF8Array(t){for(var e=[],n=0,a=t.length;n<a;n++){var o=t.charCodeAt(n);o<128?e.push(o):o<2048?e.push(192|o>>6,128|o&63):o<55296||o>=57344?e.push(224|o>>12,128|o>>6&63,128|o&63):(n++,o=65536+((o&1023)<<10|t.charCodeAt(n)&1023),e.push(240|o>>18,128|o>>12&63,128|o>>6&63,128|o&63))}return new Uint8Array(e)}function XXH64(){if(arguments.length==2)return new XXH64(arguments[1]).update(arguments[0]).digest();if(!(this instanceof XXH64))return new XXH64(arguments[0]);init$1.call(this,arguments[0])}function init$1(t){return this.seed=t instanceof UINT64?t.clone():UINT64(t),this.v1=this.seed.clone().add(PRIME64_1).add(PRIME64_2),this.v2=this.seed.clone().add(PRIME64_2),this.v3=this.seed.clone(),this.v4=this.seed.clone().subtract(PRIME64_1),this.total_len=0,this.memsize=0,this.memory=null,this}XXH64.prototype.init=init$1;XXH64.prototype.update=function(t){var e=typeof t=="string",n;e&&(t=toUTF8Array(t),e=!1,n=!0),typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer&&(n=!0,t=new Uint8Array(t));var a=0,o=t.length,u=a+o;if(o==0)return this;if(this.total_len+=o,this.memsize==0&&(e?this.memory="":n?this.memory=new Uint8Array(32):this.memory=new buffer$2.Buffer(32)),this.memsize+o<32)return e?this.memory+=t:n?this.memory.set(t.subarray(0,o),this.memsize):t.copy(this.memory,this.memsize,0,o),this.memsize+=o,this;if(this.memsize>0){e?this.memory+=t.slice(0,32-this.memsize):n?this.memory.set(t.subarray(0,32-this.memsize),this.memsize):t.copy(this.memory,this.memsize,0,32-this.memsize);var c=0;if(e){var d;d=UINT64(this.memory.charCodeAt(c+1)<<8|this.memory.charCodeAt(c),this.memory.charCodeAt(c+3)<<8|this.memory.charCodeAt(c+2),this.memory.charCodeAt(c+5)<<8|this.memory.charCodeAt(c+4),this.memory.charCodeAt(c+7)<<8|this.memory.charCodeAt(c+6)),this.v1.add(d.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1),c+=8,d=UINT64(this.memory.charCodeAt(c+1)<<8|this.memory.charCodeAt(c),this.memory.charCodeAt(c+3)<<8|this.memory.charCodeAt(c+2),this.memory.charCodeAt(c+5)<<8|this.memory.charCodeAt(c+4),this.memory.charCodeAt(c+7)<<8|this.memory.charCodeAt(c+6)),this.v2.add(d.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1),c+=8,d=UINT64(this.memory.charCodeAt(c+1)<<8|this.memory.charCodeAt(c),this.memory.charCodeAt(c+3)<<8|this.memory.charCodeAt(c+2),this.memory.charCodeAt(c+5)<<8|this.memory.charCodeAt(c+4),this.memory.charCodeAt(c+7)<<8|this.memory.charCodeAt(c+6)),this.v3.add(d.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1),c+=8,d=UINT64(this.memory.charCodeAt(c+1)<<8|this.memory.charCodeAt(c),this.memory.charCodeAt(c+3)<<8|this.memory.charCodeAt(c+2),this.memory.charCodeAt(c+5)<<8|this.memory.charCodeAt(c+4),this.memory.charCodeAt(c+7)<<8|this.memory.charCodeAt(c+6)),this.v4.add(d.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1)}else{var d;d=UINT64(this.memory[c+1]<<8|this.memory[c],this.memory[c+3]<<8|this.memory[c+2],this.memory[c+5]<<8|this.memory[c+4],this.memory[c+7]<<8|this.memory[c+6]),this.v1.add(d.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1),c+=8,d=UINT64(this.memory[c+1]<<8|this.memory[c],this.memory[c+3]<<8|this.memory[c+2],this.memory[c+5]<<8|this.memory[c+4],this.memory[c+7]<<8|this.memory[c+6]),this.v2.add(d.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1),c+=8,d=UINT64(this.memory[c+1]<<8|this.memory[c],this.memory[c+3]<<8|this.memory[c+2],this.memory[c+5]<<8|this.memory[c+4],this.memory[c+7]<<8|this.memory[c+6]),this.v3.add(d.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1),c+=8,d=UINT64(this.memory[c+1]<<8|this.memory[c],this.memory[c+3]<<8|this.memory[c+2],this.memory[c+5]<<8|this.memory[c+4],this.memory[c+7]<<8|this.memory[c+6]),this.v4.add(d.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1)}a+=32-this.memsize,this.memsize=0,e&&(this.memory="")}if(a<=u-32){var p=u-32;do{if(e){var d;d=UINT64(t.charCodeAt(a+1)<<8|t.charCodeAt(a),t.charCodeAt(a+3)<<8|t.charCodeAt(a+2),t.charCodeAt(a+5)<<8|t.charCodeAt(a+4),t.charCodeAt(a+7)<<8|t.charCodeAt(a+6)),this.v1.add(d.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1),a+=8,d=UINT64(t.charCodeAt(a+1)<<8|t.charCodeAt(a),t.charCodeAt(a+3)<<8|t.charCodeAt(a+2),t.charCodeAt(a+5)<<8|t.charCodeAt(a+4),t.charCodeAt(a+7)<<8|t.charCodeAt(a+6)),this.v2.add(d.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1),a+=8,d=UINT64(t.charCodeAt(a+1)<<8|t.charCodeAt(a),t.charCodeAt(a+3)<<8|t.charCodeAt(a+2),t.charCodeAt(a+5)<<8|t.charCodeAt(a+4),t.charCodeAt(a+7)<<8|t.charCodeAt(a+6)),this.v3.add(d.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1),a+=8,d=UINT64(t.charCodeAt(a+1)<<8|t.charCodeAt(a),t.charCodeAt(a+3)<<8|t.charCodeAt(a+2),t.charCodeAt(a+5)<<8|t.charCodeAt(a+4),t.charCodeAt(a+7)<<8|t.charCodeAt(a+6)),this.v4.add(d.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1)}else{var d;d=UINT64(t[a+1]<<8|t[a],t[a+3]<<8|t[a+2],t[a+5]<<8|t[a+4],t[a+7]<<8|t[a+6]),this.v1.add(d.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1),a+=8,d=UINT64(t[a+1]<<8|t[a],t[a+3]<<8|t[a+2],t[a+5]<<8|t[a+4],t[a+7]<<8|t[a+6]),this.v2.add(d.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1),a+=8,d=UINT64(t[a+1]<<8|t[a],t[a+3]<<8|t[a+2],t[a+5]<<8|t[a+4],t[a+7]<<8|t[a+6]),this.v3.add(d.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1),a+=8,d=UINT64(t[a+1]<<8|t[a],t[a+3]<<8|t[a+2],t[a+5]<<8|t[a+4],t[a+7]<<8|t[a+6]),this.v4.add(d.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1)}a+=8}while(a<=p)}return a<u&&(e?this.memory+=t.slice(a):n?this.memory.set(t.subarray(a,u),this.memsize):t.copy(this.memory,this.memsize,a,u),this.memsize=u-a),this};XXH64.prototype.digest=function(){var t=this.memory,e=typeof t=="string",n=0,a=this.memsize,o,u,c=new UINT64;for(this.total_len>=32?(o=this.v1.clone().rotl(1),o.add(this.v2.clone().rotl(7)),o.add(this.v3.clone().rotl(12)),o.add(this.v4.clone().rotl(18)),o.xor(this.v1.multiply(PRIME64_2).rotl(31).multiply(PRIME64_1)),o.multiply(PRIME64_1).add(PRIME64_4),o.xor(this.v2.multiply(PRIME64_2).rotl(31).multiply(PRIME64_1)),o.multiply(PRIME64_1).add(PRIME64_4),o.xor(this.v3.multiply(PRIME64_2).rotl(31).multiply(PRIME64_1)),o.multiply(PRIME64_1).add(PRIME64_4),o.xor(this.v4.multiply(PRIME64_2).rotl(31).multiply(PRIME64_1)),o.multiply(PRIME64_1).add(PRIME64_4)):o=this.seed.clone().add(PRIME64_5),o.add(c.fromNumber(this.total_len));n<=a-8;)e?c.fromBits(t.charCodeAt(n+1)<<8|t.charCodeAt(n),t.charCodeAt(n+3)<<8|t.charCodeAt(n+2),t.charCodeAt(n+5)<<8|t.charCodeAt(n+4),t.charCodeAt(n+7)<<8|t.charCodeAt(n+6)):c.fromBits(t[n+1]<<8|t[n],t[n+3]<<8|t[n+2],t[n+5]<<8|t[n+4],t[n+7]<<8|t[n+6]),c.multiply(PRIME64_2).rotl(31).multiply(PRIME64_1),o.xor(c).rotl(27).multiply(PRIME64_1).add(PRIME64_4),n+=8;for(n+4<=a&&(e?c.fromBits(t.charCodeAt(n+1)<<8|t.charCodeAt(n),t.charCodeAt(n+3)<<8|t.charCodeAt(n+2),0,0):c.fromBits(t[n+1]<<8|t[n],t[n+3]<<8|t[n+2],0,0),o.xor(c.multiply(PRIME64_1)).rotl(23).multiply(PRIME64_2).add(PRIME64_3),n+=4);n<a;)c.fromBits(e?t.charCodeAt(n++):t[n++],0,0,0),o.xor(c.multiply(PRIME64_5)).rotl(11).multiply(PRIME64_1);return u=o.clone().shiftRight(33),o.xor(u).multiply(PRIME64_2),u=o.clone().shiftRight(29),o.xor(u).multiply(PRIME64_3),u=o.clone().shiftRight(32),o.xor(u),this.init(this.seed),o};var xxhash64=XXH64,lib={h32:xxhash,h64:xxhash64},alea$1={exports:{}};alea$1.exports;(function(t){(function(e,n,a){function o(p){var v=this,y=d();v.next=function(){var b=2091639*v.s0+v.c*23283064365386963e-26;return v.s0=v.s1,v.s1=v.s2,v.s2=b-(v.c=b|0)},v.c=1,v.s0=y(" "),v.s1=y(" "),v.s2=y(" "),v.s0-=y(p),v.s0<0&&(v.s0+=1),v.s1-=y(p),v.s1<0&&(v.s1+=1),v.s2-=y(p),v.s2<0&&(v.s2+=1),y=null}function u(p,v){return v.c=p.c,v.s0=p.s0,v.s1=p.s1,v.s2=p.s2,v}function c(p,v){var y=new o(p),b=v&&v.state,_=y.next;return _.int32=function(){return y.next()*4294967296|0},_.double=function(){return _()+(_()*2097152|0)*11102230246251565e-32},_.quick=_,b&&(typeof b=="object"&&u(b,y),_.state=function(){return u(y,{})}),_}function d(){var p=4022871197,v=function(y){y=String(y);for(var b=0;b<y.length;b++){p+=y.charCodeAt(b);var _=.02519603282416938*p;p=_>>>0,_-=p,_*=p,p=_>>>0,_-=p,p+=_*4294967296}return(p>>>0)*23283064365386963e-26};return v}n&&n.exports?n.exports=c:a&&a.amd?a(function(){return c}):this.alea=c})(commonjsGlobal,t,!1)})(alea$1);var aleaExports=alea$1.exports,xor128$1={exports:{}};xor128$1.exports;(function(t){(function(e,n,a){function o(d){var p=this,v="";p.x=0,p.y=0,p.z=0,p.w=0,p.next=function(){var b=p.x^p.x<<11;return p.x=p.y,p.y=p.z,p.z=p.w,p.w^=p.w>>>19^b^b>>>8},d===(d|0)?p.x=d:v+=d;for(var y=0;y<v.length+64;y++)p.x^=v.charCodeAt(y)|0,p.next()}function u(d,p){return p.x=d.x,p.y=d.y,p.z=d.z,p.w=d.w,p}function c(d,p){var v=new o(d),y=p&&p.state,b=function(){return(v.next()>>>0)/4294967296};return b.double=function(){do var _=v.next()>>>11,w=(v.next()>>>0)/4294967296,E=(_+w)/(1<<21);while(E===0);return E},b.int32=v.next,b.quick=b,y&&(typeof y=="object"&&u(y,v),b.state=function(){return u(v,{})}),b}n&&n.exports?n.exports=c:a&&a.amd?a(function(){return c}):this.xor128=c})(commonjsGlobal,t,!1)})(xor128$1);var xor128Exports=xor128$1.exports,xorwow$1={exports:{}};xorwow$1.exports;(function(t){(function(e,n,a){function o(d){var p=this,v="";p.next=function(){var b=p.x^p.x>>>2;return p.x=p.y,p.y=p.z,p.z=p.w,p.w=p.v,(p.d=p.d+362437|0)+(p.v=p.v^p.v<<4^(b^b<<1))|0},p.x=0,p.y=0,p.z=0,p.w=0,p.v=0,d===(d|0)?p.x=d:v+=d;for(var y=0;y<v.length+64;y++)p.x^=v.charCodeAt(y)|0,y==v.length&&(p.d=p.x<<10^p.x>>>4),p.next()}function u(d,p){return p.x=d.x,p.y=d.y,p.z=d.z,p.w=d.w,p.v=d.v,p.d=d.d,p}function c(d,p){var v=new o(d),y=p&&p.state,b=function(){return(v.next()>>>0)/4294967296};return b.double=function(){do var _=v.next()>>>11,w=(v.next()>>>0)/4294967296,E=(_+w)/(1<<21);while(E===0);return E},b.int32=v.next,b.quick=b,y&&(typeof y=="object"&&u(y,v),b.state=function(){return u(v,{})}),b}n&&n.exports?n.exports=c:a&&a.amd?a(function(){return c}):this.xorwow=c})(commonjsGlobal,t,!1)})(xorwow$1);var xorwowExports=xorwow$1.exports,xorshift7$1={exports:{}};xorshift7$1.exports;(function(t){(function(e,n,a){function o(d){var p=this;p.next=function(){var y=p.x,b=p.i,_,w;return _=y[b],_^=_>>>7,w=_^_<<24,_=y[b+1&7],w^=_^_>>>10,_=y[b+3&7],w^=_^_>>>3,_=y[b+4&7],w^=_^_<<7,_=y[b+7&7],_=_^_<<13,w^=_^_<<9,y[b]=w,p.i=b+1&7,w};function v(y,b){var _,w=[];if(b===(b|0))w[0]=b;else for(b=""+b,_=0;_<b.length;++_)w[_&7]=w[_&7]<<15^b.charCodeAt(_)+w[_+1&7]<<13;for(;w.length<8;)w.push(0);for(_=0;_<8&&w[_]===0;++_);for(_==8?w[7]=-1:w[_],y.x=w,y.i=0,_=256;_>0;--_)y.next()}v(p,d)}function u(d,p){return p.x=d.x.slice(),p.i=d.i,p}function c(d,p){d==null&&(d=+new Date);var v=new o(d),y=p&&p.state,b=function(){return(v.next()>>>0)/4294967296};return b.double=function(){do var _=v.next()>>>11,w=(v.next()>>>0)/4294967296,E=(_+w)/(1<<21);while(E===0);return E},b.int32=v.next,b.quick=b,y&&(y.x&&u(y,v),b.state=function(){return u(v,{})}),b}n&&n.exports?n.exports=c:a&&a.amd?a(function(){return c}):this.xorshift7=c})(commonjsGlobal,t,!1)})(xorshift7$1);var xorshift7Exports=xorshift7$1.exports,xor4096$1={exports:{}};xor4096$1.exports;(function(t){(function(e,n,a){function o(d){var p=this;p.next=function(){var y=p.w,b=p.X,_=p.i,w,E;return p.w=y=y+1640531527|0,E=b[_+34&127],w=b[_=_+1&127],E^=E<<13,w^=w<<17,E^=E>>>15,w^=w>>>12,E=b[_]=E^w,p.i=_,E+(y^y>>>16)|0};function v(y,b){var _,w,E,$,C,P=[],z=128;for(b===(b|0)?(w=b,b=null):(b=b+"\0",w=0,z=Math.max(z,b.length)),E=0,$=-32;$<z;++$)b&&(w^=b.charCodeAt(($+32)%b.length)),$===0&&(C=w),w^=w<<10,w^=w>>>15,w^=w<<4,w^=w>>>13,$>=0&&(C=C+1640531527|0,_=P[$&127]^=w+C,E=_==0?E+1:0);for(E>=128&&(P[(b&&b.length||0)&127]=-1),E=127,$=4*128;$>0;--$)w=P[E+34&127],_=P[E=E+1&127],w^=w<<13,_^=_<<17,w^=w>>>15,_^=_>>>12,P[E]=w^_;y.w=C,y.X=P,y.i=E}v(p,d)}function u(d,p){return p.i=d.i,p.w=d.w,p.X=d.X.slice(),p}function c(d,p){d==null&&(d=+new Date);var v=new o(d),y=p&&p.state,b=function(){return(v.next()>>>0)/4294967296};return b.double=function(){do var _=v.next()>>>11,w=(v.next()>>>0)/4294967296,E=(_+w)/(1<<21);while(E===0);return E},b.int32=v.next,b.quick=b,y&&(y.X&&u(y,v),b.state=function(){return u(v,{})}),b}n&&n.exports?n.exports=c:a&&a.amd?a(function(){return c}):this.xor4096=c})(commonjsGlobal,t,!1)})(xor4096$1);var xor4096Exports=xor4096$1.exports,tychei$1={exports:{}};tychei$1.exports;(function(t){(function(e,n,a){function o(d){var p=this,v="";p.next=function(){var b=p.b,_=p.c,w=p.d,E=p.a;return b=b<<25^b>>>7^_,_=_-w|0,w=w<<24^w>>>8^E,E=E-b|0,p.b=b=b<<20^b>>>12^_,p.c=_=_-w|0,p.d=w<<16^_>>>16^E,p.a=E-b|0},p.a=0,p.b=0,p.c=-1640531527,p.d=1367130551,d===Math.floor(d)?(p.a=d/4294967296|0,p.b=d|0):v+=d;for(var y=0;y<v.length+20;y++)p.b^=v.charCodeAt(y)|0,p.next()}function u(d,p){return p.a=d.a,p.b=d.b,p.c=d.c,p.d=d.d,p}function c(d,p){var v=new o(d),y=p&&p.state,b=function(){return(v.next()>>>0)/4294967296};return b.double=function(){do var _=v.next()>>>11,w=(v.next()>>>0)/4294967296,E=(_+w)/(1<<21);while(E===0);return E},b.int32=v.next,b.quick=b,y&&(typeof y=="object"&&u(y,v),b.state=function(){return u(v,{})}),b}n&&n.exports?n.exports=c:a&&a.amd?a(function(){return c}):this.tychei=c})(commonjsGlobal,t,!1)})(tychei$1);var tycheiExports=tychei$1.exports,seedrandom$1={exports:{}};(function(t){(function(e,n,a){var o=256,u=6,c=52,d="random",p=a.pow(o,u),v=a.pow(2,c),y=v*2,b=o-1,_;function w(X,re,de){var xe=[];re=re==!0?{entropy:!0}:re||{};var $e=P(C(re.entropy?[X,J(n)]:X??z(),3),xe),Pe=new E(xe),it=function(){for(var fe=Pe.g(u),B=p,k=0;fe<v;)fe=(fe+k)*o,B*=o,k=Pe.g(1);for(;fe>=y;)fe/=2,B/=2,k>>>=1;return(fe+k)/B};return it.int32=function(){return Pe.g(4)|0},it.quick=function(){return Pe.g(4)/4294967296},it.double=it,P(J(Pe.S),n),(re.pass||de||function(fe,B,k,x){return x&&(x.S&&$(x,Pe),fe.state=function(){return $(Pe,{})}),k?(a[d]=fe,B):fe})(it,$e,"global"in re?re.global:this==a,re.state)}function E(X){var re,de=X.length,xe=this,$e=0,Pe=xe.i=xe.j=0,it=xe.S=[];for(de||(X=[de++]);$e<o;)it[$e]=$e++;for($e=0;$e<o;$e++)it[$e]=it[Pe=b&Pe+X[$e%de]+(re=it[$e])],it[Pe]=re;(xe.g=function(fe){for(var B,k=0,x=xe.i,A=xe.j,D=xe.S;fe--;)B=D[x=b&x+1],k=k*o+D[b&(D[x]=D[A=b&A+B])+(D[A]=B)];return xe.i=x,xe.j=A,k})(o)}function $(X,re){return re.i=X.i,re.j=X.j,re.S=X.S.slice(),re}function C(X,re){var de=[],xe=typeof X,$e;if(re&&xe=="object")for($e in X)try{de.push(C(X[$e],re-1))}catch{}return de.length?de:xe=="string"?X:X+"\0"}function P(X,re){for(var de=X+"",xe,$e=0;$e<de.length;)re[b&$e]=b&(xe^=re[b&$e]*19)+de.charCodeAt($e++);return J(re)}function z(){try{var X;return _&&(X=_.randomBytes)?X=X(o):(X=new Uint8Array(o),(e.crypto||e.msCrypto).getRandomValues(X)),J(X)}catch{var re=e.navigator,de=re&&re.plugins;return[+new Date,e,de,e.screen,J(n)]}}function J(X){return String.fromCharCode.apply(0,X)}if(P(a.random(),n),t.exports){t.exports=w;try{_=requireCryptoBrowserify()}catch{}}else a["seed"+d]=w})(typeof self<"u"?self:commonjsGlobal,[],Math)})(seedrandom$1);var seedrandomExports=seedrandom$1.exports,alea=aleaExports,xor128=xor128Exports,xorwow=xorwowExports,xorshift7=xorshift7Exports,xor4096=xor4096Exports,tychei=tycheiExports,sr=seedrandomExports;sr.alea=alea;sr.xor128=xor128;sr.xorwow=xorwow;sr.xorshift7=xorshift7;sr.xor4096=xor4096;sr.tychei=tychei;var seedrandom=sr,Reflect$1;(function(t){(function(e){var n=typeof commonjsGlobal=="object"?commonjsGlobal:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),a=o(t);typeof n.Reflect>"u"?n.Reflect=t:a=o(n.Reflect,a),e(a);function o(u,c){return function(d,p){typeof u[d]!="function"&&Object.defineProperty(u,d,{configurable:!0,writable:!0,value:p}),c&&c(d,p)}}})(function(e){var n=Object.prototype.hasOwnProperty,a=typeof Symbol=="function",o=a&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",u=a&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",c=typeof Object.create=="function",d={__proto__:[]}instanceof Array,p=!c&&!d,v={create:c?function(){return dt(Object.create(null))}:d?function(){return dt({__proto__:null})}:function(){return dt({})},has:p?function(me,Te){return n.call(me,Te)}:function(me,Te){return Te in me},get:p?function(me,Te){return n.call(me,Te)?me[Te]:void 0}:function(me,Te){return me[Te]}},y=Object.getPrototypeOf(Function),b=typeof process$1=="object"&&process$1.env&&process$1.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",_=!b&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:we(),w=!b&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Ie(),E=!b&&typeof WeakMap=="function"?WeakMap:Ke(),$=new E;function C(me,Te,Ue,De){if(F(Ue)){if(!Je(me))throw new TypeError;if(!ue(Te))throw new TypeError;return it(me,Te)}else{if(!Je(me))throw new TypeError;if(!ge(Te))throw new TypeError;if(!ge(De)&&!F(De)&&!M(De))throw new TypeError;return M(De)&&(De=void 0),Ue=Re(Ue),fe(me,Te,Ue,De)}}e("decorate",C);function P(me,Te){function Ue(De,tt){if(!ge(De))throw new TypeError;if(!F(tt)&&!qe(tt))throw new TypeError;q(me,Te,De,tt)}return Ue}e("metadata",P);function z(me,Te,Ue,De){if(!ge(Ue))throw new TypeError;return F(De)||(De=Re(De)),q(me,Te,Ue,De)}e("defineMetadata",z);function J(me,Te,Ue){if(!ge(Te))throw new TypeError;return F(Ue)||(Ue=Re(Ue)),k(me,Te,Ue)}e("hasMetadata",J);function X(me,Te,Ue){if(!ge(Te))throw new TypeError;return F(Ue)||(Ue=Re(Ue)),x(me,Te,Ue)}e("hasOwnMetadata",X);function re(me,Te,Ue){if(!ge(Te))throw new TypeError;return F(Ue)||(Ue=Re(Ue)),A(me,Te,Ue)}e("getMetadata",re);function de(me,Te,Ue){if(!ge(Te))throw new TypeError;return F(Ue)||(Ue=Re(Ue)),D(me,Te,Ue)}e("getOwnMetadata",de);function xe(me,Te){if(!ge(me))throw new TypeError;return F(Te)||(Te=Re(Te)),G(me,Te)}e("getMetadataKeys",xe);function $e(me,Te){if(!ge(me))throw new TypeError;return F(Te)||(Te=Re(Te)),j(me,Te)}e("getOwnMetadataKeys",$e);function Pe(me,Te,Ue){if(!ge(Te))throw new TypeError;F(Ue)||(Ue=Re(Ue));var De=B(Te,Ue,!1);if(F(De)||!De.delete(me))return!1;if(De.size>0)return!0;var tt=$.get(Te);return tt.delete(Ue),tt.size>0||$.delete(Te),!0}e("deleteMetadata",Pe);function it(me,Te){for(var Ue=me.length-1;Ue>=0;--Ue){var De=me[Ue],tt=De(Te);if(!F(tt)&&!M(tt)){if(!ue(tt))throw new TypeError;Te=tt}}return Te}function fe(me,Te,Ue,De){for(var tt=me.length-1;tt>=0;--tt){var Rt=me[tt],at=Rt(Te,Ue,De);if(!F(at)&&!M(at)){if(!ge(at))throw new TypeError;De=at}}return De}function B(me,Te,Ue){var De=$.get(me);if(F(De)){if(!Ue)return;De=new _,$.set(me,De)}var tt=De.get(Te);if(F(tt)){if(!Ue)return;tt=new _,De.set(Te,tt)}return tt}function k(me,Te,Ue){var De=x(me,Te,Ue);if(De)return!0;var tt=Q(Te);return M(tt)?!1:k(me,tt,Ue)}function x(me,Te,Ue){var De=B(Te,Ue,!1);return F(De)?!1:be(De.has(me))}function A(me,Te,Ue){var De=x(me,Te,Ue);if(De)return D(me,Te,Ue);var tt=Q(Te);if(!M(tt))return A(me,tt,Ue)}function D(me,Te,Ue){var De=B(Te,Ue,!1);if(!F(De))return De.get(me)}function q(me,Te,Ue,De){var tt=B(Ue,De,!0);tt.set(me,Te)}function G(me,Te){var Ue=j(me,Te),De=Q(me);if(De===null)return Ue;var tt=G(De,Te);if(tt.length<=0)return Ue;if(Ue.length<=0)return tt;for(var Rt=new w,at=[],bt=0,ct=Ue;bt<ct.length;bt++){var ft=ct[bt],_t=Rt.has(ft);_t||(Rt.add(ft),at.push(ft))}for(var zt=0,Ct=tt;zt<Ct.length;zt++){var ft=Ct[zt],_t=Rt.has(ft);_t||(Rt.add(ft),at.push(ft))}return at}function j(me,Te){var Ue=[],De=B(me,Te,!1);if(F(De))return Ue;for(var tt=De.keys(),Rt=ot(tt),at=0;;){var bt=L(Rt);if(!bt)return Ue.length=at,Ue;var ct=ie(bt);try{Ue[at]=ct}catch(ft){try{N(Rt)}finally{throw ft}}at++}}function T(me){if(me===null)return 1;switch(typeof me){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return me===null?1:6;default:return 6}}function F(me){return me===void 0}function M(me){return me===null}function V(me){return typeof me=="symbol"}function ge(me){return typeof me=="object"?me!==null:typeof me=="function"}function ke(me,Te){switch(T(me)){case 0:return me;case 1:return me;case 2:return me;case 3:return me;case 4:return me;case 5:return me}var Ue=Te===3?"string":Te===5?"number":"default",De=Ge(me,o);if(De!==void 0){var tt=De.call(me,Ue);if(ge(tt))throw new TypeError;return tt}return he(me,Ue==="default"?"number":Ue)}function he(me,Te){if(Te==="string"){var Ue=me.toString;if(le(Ue)){var De=Ue.call(me);if(!ge(De))return De}var tt=me.valueOf;if(le(tt)){var De=tt.call(me);if(!ge(De))return De}}else{var tt=me.valueOf;if(le(tt)){var De=tt.call(me);if(!ge(De))return De}var Rt=me.toString;if(le(Rt)){var De=Rt.call(me);if(!ge(De))return De}}throw new TypeError}function be(me){return!!me}function Me(me){return""+me}function Re(me){var Te=ke(me,3);return V(Te)?Te:Me(Te)}function Je(me){return Array.isArray?Array.isArray(me):me instanceof Object?me instanceof Array:Object.prototype.toString.call(me)==="[object Array]"}function le(me){return typeof me=="function"}function ue(me){return typeof me=="function"}function qe(me){switch(T(me)){case 3:return!0;case 4:return!0;default:return!1}}function Ge(me,Te){var Ue=me[Te];if(Ue!=null){if(!le(Ue))throw new TypeError;return Ue}}function ot(me){var Te=Ge(me,u);if(!le(Te))throw new TypeError;var Ue=Te.call(me);if(!ge(Ue))throw new TypeError;return Ue}function ie(me){return me.value}function L(me){var Te=me.next();return Te.done?!1:Te}function N(me){var Te=me.return;Te&&Te.call(me)}function Q(me){var Te=Object.getPrototypeOf(me);if(typeof me!="function"||me===y||Te!==y)return Te;var Ue=me.prototype,De=Ue&&Object.getPrototypeOf(Ue);if(De==null||De===Object.prototype)return Te;var tt=De.constructor;return typeof tt!="function"||tt===me?Te:tt}function we(){var me={},Te=[],Ue=function(){function at(bt,ct,ft){this._index=0,this._keys=bt,this._values=ct,this._selector=ft}return at.prototype["@@iterator"]=function(){return this},at.prototype[u]=function(){return this},at.prototype.next=function(){var bt=this._index;if(bt>=0&&bt<this._keys.length){var ct=this._selector(this._keys[bt],this._values[bt]);return bt+1>=this._keys.length?(this._index=-1,this._keys=Te,this._values=Te):this._index++,{value:ct,done:!1}}return{value:void 0,done:!0}},at.prototype.throw=function(bt){throw this._index>=0&&(this._index=-1,this._keys=Te,this._values=Te),bt},at.prototype.return=function(bt){return this._index>=0&&(this._index=-1,this._keys=Te,this._values=Te),{value:bt,done:!0}},at}();return function(){function at(){this._keys=[],this._values=[],this._cacheKey=me,this._cacheIndex=-2}return Object.defineProperty(at.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),at.prototype.has=function(bt){return this._find(bt,!1)>=0},at.prototype.get=function(bt){var ct=this._find(bt,!1);return ct>=0?this._values[ct]:void 0},at.prototype.set=function(bt,ct){var ft=this._find(bt,!0);return this._values[ft]=ct,this},at.prototype.delete=function(bt){var ct=this._find(bt,!1);if(ct>=0){for(var ft=this._keys.length,_t=ct+1;_t<ft;_t++)this._keys[_t-1]=this._keys[_t],this._values[_t-1]=this._values[_t];return this._keys.length--,this._values.length--,bt===this._cacheKey&&(this._cacheKey=me,this._cacheIndex=-2),!0}return!1},at.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=me,this._cacheIndex=-2},at.prototype.keys=function(){return new Ue(this._keys,this._values,De)},at.prototype.values=function(){return new Ue(this._keys,this._values,tt)},at.prototype.entries=function(){return new Ue(this._keys,this._values,Rt)},at.prototype["@@iterator"]=function(){return this.entries()},at.prototype[u]=function(){return this.entries()},at.prototype._find=function(bt,ct){return this._cacheKey!==bt&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=bt)),this._cacheIndex<0&&ct&&(this._cacheIndex=this._keys.length,this._keys.push(bt),this._values.push(void 0)),this._cacheIndex},at}();function De(at,bt){return at}function tt(at,bt){return bt}function Rt(at,bt){return[at,bt]}}function Ie(){return function(){function me(){this._map=new _}return Object.defineProperty(me.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),me.prototype.has=function(Te){return this._map.has(Te)},me.prototype.add=function(Te){return this._map.set(Te,Te),this},me.prototype.delete=function(Te){return this._map.delete(Te)},me.prototype.clear=function(){this._map.clear()},me.prototype.keys=function(){return this._map.keys()},me.prototype.values=function(){return this._map.values()},me.prototype.entries=function(){return this._map.entries()},me.prototype["@@iterator"]=function(){return this.keys()},me.prototype[u]=function(){return this.keys()},me}()}function Ke(){var me=16,Te=v.create(),Ue=De();return function(){function ct(){this._key=De()}return ct.prototype.has=function(ft){var _t=tt(ft,!1);return _t!==void 0?v.has(_t,this._key):!1},ct.prototype.get=function(ft){var _t=tt(ft,!1);return _t!==void 0?v.get(_t,this._key):void 0},ct.prototype.set=function(ft,_t){var zt=tt(ft,!0);return zt[this._key]=_t,this},ct.prototype.delete=function(ft){var _t=tt(ft,!1);return _t!==void 0?delete _t[this._key]:!1},ct.prototype.clear=function(){this._key=De()},ct}();function De(){var ct;do ct="@@WeakMap@@"+bt();while(v.has(Te,ct));return Te[ct]=!0,ct}function tt(ct,ft){if(!n.call(ct,Ue)){if(!ft)return;Object.defineProperty(ct,Ue,{value:v.create()})}return ct[Ue]}function Rt(ct,ft){for(var _t=0;_t<ft;++_t)ct[_t]=Math.random()*255|0;return ct}function at(ct){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(ct)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(ct)):Rt(new Uint8Array(ct),ct):Rt(new Array(ct),ct)}function bt(){var ct=at(me);ct[6]=ct[6]&79|64,ct[8]=ct[8]&191|128;for(var ft="",_t=0;_t<me;++_t){var zt=ct[_t];(_t===4||_t===6||_t===8)&&(ft+="-"),zt<16&&(ft+="0"),ft+=zt.toString(16).toLowerCase()}return ft}}function dt(me){return me.__=void 0,delete me.__,me}})})(Reflect$1||(Reflect$1={}));var lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */lodash.exports;(function(t,e){(function(){var n,a="4.17.21",o=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",d="Invalid `variable` option passed into `_.template`",p="__lodash_hash_undefined__",v=500,y="__lodash_placeholder__",b=1,_=2,w=4,E=1,$=2,C=1,P=2,z=4,J=8,X=16,re=32,de=64,xe=128,$e=256,Pe=512,it=30,fe="...",B=800,k=16,x=1,A=2,D=3,q=1/0,G=9007199254740991,j=17976931348623157e292,T=0/0,F=4294967295,M=F-1,V=F>>>1,ge=[["ary",xe],["bind",C],["bindKey",P],["curry",J],["curryRight",X],["flip",Pe],["partial",re],["partialRight",de],["rearg",$e]],ke="[object Arguments]",he="[object Array]",be="[object AsyncFunction]",Me="[object Boolean]",Re="[object Date]",Je="[object DOMException]",le="[object Error]",ue="[object Function]",qe="[object GeneratorFunction]",Ge="[object Map]",ot="[object Number]",ie="[object Null]",L="[object Object]",N="[object Promise]",Q="[object Proxy]",we="[object RegExp]",Ie="[object Set]",Ke="[object String]",dt="[object Symbol]",me="[object Undefined]",Te="[object WeakMap]",Ue="[object WeakSet]",De="[object ArrayBuffer]",tt="[object DataView]",Rt="[object Float32Array]",at="[object Float64Array]",bt="[object Int8Array]",ct="[object Int16Array]",ft="[object Int32Array]",_t="[object Uint8Array]",zt="[object Uint8ClampedArray]",Ct="[object Uint16Array]",rr="[object Uint32Array]",ar=/\b__p \+= '';/g,Lt=/\b(__p \+=) '' \+/g,Jt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ur=/&(?:amp|lt|gt|quot|#39);/g,Ht=/[&<>"']/g,hr=RegExp(ur.source),er=RegExp(Ht.source),Ft=/<%-([\s\S]+?)%>/g,or=/<%([\s\S]+?)%>/g,fr=/<%=([\s\S]+?)%>/g,Kt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dr=/^\w*$/,vr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$t=/[\\^$.*+?()[\]{}|]/g,pr=RegExp($t.source),U=/^\s+/,Z=/\s/,ee=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,I=/\{\n\/\* \[wrapped with (.+)\] \*/,ne=/,? & /,Se=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ae=/[()=,{}\[\]\/\s]/,Fe=/\\(\\)?/g,Ye=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,st=/\w*$/,nt=/^[-+]0x[0-9a-f]+$/i,Wt=/^0b[01]+$/i,pt=/^\[object .+?Constructor\]$/,kt=/^0o[0-7]+$/i,Tt=/^(?:0|[1-9]\d*)$/,Ot=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,It=/($^)/,Mt=/['\n\r\u2028\u2029\\]/g,St="\\ud800-\\udfff",Bt="\\u0300-\\u036f",ht="\\ufe20-\\ufe2f",wt="\\u20d0-\\u20ff",ut=Bt+ht+wt,yt="\\u2700-\\u27bf",mt="a-z\\xdf-\\xf6\\xf8-\\xff",lt="\\xac\\xb1\\xd7\\xf7",Le="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ne="\\u2000-\\u206f",Ze=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",W="A-Z\\xc0-\\xd6\\xd8-\\xde",se="\\ufe0e\\ufe0f",te=lt+Le+Ne+Ze,pe="['’]",_e="["+St+"]",ve="["+te+"]",Oe="["+ut+"]",oe="\\d+",He="["+yt+"]",ze="["+mt+"]",Ve="[^"+St+te+oe+yt+mt+W+"]",et="\\ud83c[\\udffb-\\udfff]",vt="(?:"+Oe+"|"+et+")",xt="[^"+St+"]",Pt="(?:\\ud83c[\\udde6-\\uddff]){2}",Dt="[\\ud800-\\udbff][\\udc00-\\udfff]",Nt="["+W+"]",Zt="\\u200d",cr="(?:"+ze+"|"+Ve+")",wr="(?:"+Nt+"|"+Ve+")",kr="(?:"+pe+"(?:d|ll|m|re|s|t|ve))?",Sr="(?:"+pe+"(?:D|LL|M|RE|S|T|VE))?",Tr=vt+"?",mi="["+se+"]?",na="(?:"+Zt+"(?:"+[xt,Pt,Dt].join("|")+")"+mi+Tr+")*",vi="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ef="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",lo=mi+Tr+na,Sf="(?:"+[He,Pt,Dt].join("|")+")"+lo,$f="(?:"+[xt+Oe+"?",Oe,Pt,Dt,_e].join("|")+")",Af=RegExp(pe,"g"),kf=RegExp(Oe,"g"),ia=RegExp(et+"(?="+et+")|"+$f+lo,"g"),Mf=RegExp([Nt+"?"+ze+"+"+kr+"(?="+[ve,Nt,"$"].join("|")+")",wr+"+"+Sr+"(?="+[ve,Nt+cr,"$"].join("|")+")",Nt+"?"+cr+"+"+kr,Nt+"+"+Sr,Ef,vi,oe,Sf].join("|"),"g"),Bf=RegExp("["+Zt+St+ut+se+"]"),Tf=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,If=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Cf=-1,xr={};xr[Rt]=xr[at]=xr[bt]=xr[ct]=xr[ft]=xr[_t]=xr[zt]=xr[Ct]=xr[rr]=!0,xr[ke]=xr[he]=xr[De]=xr[Me]=xr[tt]=xr[Re]=xr[le]=xr[ue]=xr[Ge]=xr[ot]=xr[L]=xr[we]=xr[Ie]=xr[Ke]=xr[Te]=!1;var _r={};_r[ke]=_r[he]=_r[De]=_r[tt]=_r[Me]=_r[Re]=_r[Rt]=_r[at]=_r[bt]=_r[ct]=_r[ft]=_r[Ge]=_r[ot]=_r[L]=_r[we]=_r[Ie]=_r[Ke]=_r[dt]=_r[_t]=_r[zt]=_r[Ct]=_r[rr]=!0,_r[le]=_r[ue]=_r[Te]=!1;var Pf={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Rf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Of={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Df={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ff=parseFloat,Lf=parseInt,ho=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Nf=typeof self=="object"&&self&&self.Object===Object&&self,Rr=ho||Nf||Function("return this")(),aa=e&&!e.nodeType&&e,Cn=aa&&!0&&t&&!t.nodeType&&t,po=Cn&&Cn.exports===aa,oa=po&&ho.process,Xr=function(){try{var Be=Cn&&Cn.require&&Cn.require("util").types;return Be||oa&&oa.binding&&oa.binding("util")}catch{}}(),yo=Xr&&Xr.isArrayBuffer,mo=Xr&&Xr.isDate,vo=Xr&&Xr.isMap,go=Xr&&Xr.isRegExp,bo=Xr&&Xr.isSet,_o=Xr&&Xr.isTypedArray;function zr(Be,We,je){switch(je.length){case 0:return Be.call(We);case 1:return Be.call(We,je[0]);case 2:return Be.call(We,je[0],je[1]);case 3:return Be.call(We,je[0],je[1],je[2])}return Be.apply(We,je)}function Uf(Be,We,je,Et){for(var Gt=-1,lr=Be==null?0:Be.length;++Gt<lr;){var Ir=Be[Gt];We(Et,Ir,je(Ir),Be)}return Et}function Jr(Be,We){for(var je=-1,Et=Be==null?0:Be.length;++je<Et&&We(Be[je],je,Be)!==!1;);return Be}function qf(Be,We){for(var je=Be==null?0:Be.length;je--&&We(Be[je],je,Be)!==!1;);return Be}function wo(Be,We){for(var je=-1,Et=Be==null?0:Be.length;++je<Et;)if(!We(Be[je],je,Be))return!1;return!0}function En(Be,We){for(var je=-1,Et=Be==null?0:Be.length,Gt=0,lr=[];++je<Et;){var Ir=Be[je];We(Ir,je,Be)&&(lr[Gt++]=Ir)}return lr}function gi(Be,We){var je=Be==null?0:Be.length;return!!je&&qn(Be,We,0)>-1}function sa(Be,We,je){for(var Et=-1,Gt=Be==null?0:Be.length;++Et<Gt;)if(je(We,Be[Et]))return!0;return!1}function Er(Be,We){for(var je=-1,Et=Be==null?0:Be.length,Gt=Array(Et);++je<Et;)Gt[je]=We(Be[je],je,Be);return Gt}function Sn(Be,We){for(var je=-1,Et=We.length,Gt=Be.length;++je<Et;)Be[Gt+je]=We[je];return Be}function fa(Be,We,je,Et){var Gt=-1,lr=Be==null?0:Be.length;for(Et&&lr&&(je=Be[++Gt]);++Gt<lr;)je=We(je,Be[Gt],Gt,Be);return je}function jf(Be,We,je,Et){var Gt=Be==null?0:Be.length;for(Et&&Gt&&(je=Be[--Gt]);Gt--;)je=We(je,Be[Gt],Gt,Be);return je}function ua(Be,We){for(var je=-1,Et=Be==null?0:Be.length;++je<Et;)if(We(Be[je],je,Be))return!0;return!1}var Kf=ca("length");function Hf(Be){return Be.split("")}function zf(Be){return Be.match(Se)||[]}function xo(Be,We,je){var Et;return je(Be,function(Gt,lr,Ir){if(We(Gt,lr,Ir))return Et=lr,!1}),Et}function bi(Be,We,je,Et){for(var Gt=Be.length,lr=je+(Et?1:-1);Et?lr--:++lr<Gt;)if(We(Be[lr],lr,Be))return lr;return-1}function qn(Be,We,je){return We===We?nu(Be,We,je):bi(Be,Eo,je)}function Wf(Be,We,je,Et){for(var Gt=je-1,lr=Be.length;++Gt<lr;)if(Et(Be[Gt],We))return Gt;return-1}function Eo(Be){return Be!==Be}function So(Be,We){var je=Be==null?0:Be.length;return je?ha(Be,We)/je:T}function ca(Be){return function(We){return We==null?n:We[Be]}}function la(Be){return function(We){return Be==null?n:Be[We]}}function $o(Be,We,je,Et,Gt){return Gt(Be,function(lr,Ir,br){je=Et?(Et=!1,lr):We(je,lr,Ir,br)}),je}function Gf(Be,We){var je=Be.length;for(Be.sort(We);je--;)Be[je]=Be[je].value;return Be}function ha(Be,We){for(var je,Et=-1,Gt=Be.length;++Et<Gt;){var lr=We(Be[Et]);lr!==n&&(je=je===n?lr:je+lr)}return je}function da(Be,We){for(var je=-1,Et=Array(Be);++je<Be;)Et[je]=We(je);return Et}function Vf(Be,We){return Er(We,function(je){return[je,Be[je]]})}function Ao(Be){return Be&&Be.slice(0,To(Be)+1).replace(U,"")}function Wr(Be){return function(We){return Be(We)}}function pa(Be,We){return Er(We,function(je){return Be[je]})}function ei(Be,We){return Be.has(We)}function ko(Be,We){for(var je=-1,Et=Be.length;++je<Et&&qn(We,Be[je],0)>-1;);return je}function Mo(Be,We){for(var je=Be.length;je--&&qn(We,Be[je],0)>-1;);return je}function Yf(Be,We){for(var je=Be.length,Et=0;je--;)Be[je]===We&&++Et;return Et}var Qf=la(Pf),Xf=la(Rf);function Jf(Be){return"\\"+Df[Be]}function Zf(Be,We){return Be==null?n:Be[We]}function jn(Be){return Bf.test(Be)}function eu(Be){return Tf.test(Be)}function tu(Be){for(var We,je=[];!(We=Be.next()).done;)je.push(We.value);return je}function ya(Be){var We=-1,je=Array(Be.size);return Be.forEach(function(Et,Gt){je[++We]=[Gt,Et]}),je}function Bo(Be,We){return function(je){return Be(We(je))}}function $n(Be,We){for(var je=-1,Et=Be.length,Gt=0,lr=[];++je<Et;){var Ir=Be[je];(Ir===We||Ir===y)&&(Be[je]=y,lr[Gt++]=je)}return lr}function _i(Be){var We=-1,je=Array(Be.size);return Be.forEach(function(Et){je[++We]=Et}),je}function ru(Be){var We=-1,je=Array(Be.size);return Be.forEach(function(Et){je[++We]=[Et,Et]}),je}function nu(Be,We,je){for(var Et=je-1,Gt=Be.length;++Et<Gt;)if(Be[Et]===We)return Et;return-1}function iu(Be,We,je){for(var Et=je+1;Et--;)if(Be[Et]===We)return Et;return Et}function Kn(Be){return jn(Be)?ou(Be):Kf(Be)}function on(Be){return jn(Be)?su(Be):Hf(Be)}function To(Be){for(var We=Be.length;We--&&Z.test(Be.charAt(We)););return We}var au=la(Of);function ou(Be){for(var We=ia.lastIndex=0;ia.test(Be);)++We;return We}function su(Be){return Be.match(ia)||[]}function fu(Be){return Be.match(Mf)||[]}var uu=function Be(We){We=We==null?Rr:Hn.defaults(Rr.Object(),We,Hn.pick(Rr,If));var je=We.Array,Et=We.Date,Gt=We.Error,lr=We.Function,Ir=We.Math,br=We.Object,ma=We.RegExp,cu=We.String,Zr=We.TypeError,wi=je.prototype,lu=lr.prototype,zn=br.prototype,xi=We["__core-js_shared__"],Ei=lu.toString,gr=zn.hasOwnProperty,hu=0,Io=function(){var l=/[^.]+$/.exec(xi&&xi.keys&&xi.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),Si=zn.toString,du=Ei.call(br),pu=Rr._,yu=ma("^"+Ei.call(gr).replace($t,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$i=po?We.Buffer:n,An=We.Symbol,Ai=We.Uint8Array,Co=$i?$i.allocUnsafe:n,ki=Bo(br.getPrototypeOf,br),Po=br.create,Ro=zn.propertyIsEnumerable,Mi=wi.splice,Oo=An?An.isConcatSpreadable:n,ti=An?An.iterator:n,Pn=An?An.toStringTag:n,Bi=function(){try{var l=Ln(br,"defineProperty");return l({},"",{}),l}catch{}}(),mu=We.clearTimeout!==Rr.clearTimeout&&We.clearTimeout,vu=Et&&Et.now!==Rr.Date.now&&Et.now,gu=We.setTimeout!==Rr.setTimeout&&We.setTimeout,Ti=Ir.ceil,Ii=Ir.floor,va=br.getOwnPropertySymbols,bu=$i?$i.isBuffer:n,Do=We.isFinite,_u=wi.join,wu=Bo(br.keys,br),Cr=Ir.max,Dr=Ir.min,xu=Et.now,Eu=We.parseInt,Fo=Ir.random,Su=wi.reverse,ga=Ln(We,"DataView"),ri=Ln(We,"Map"),ba=Ln(We,"Promise"),Wn=Ln(We,"Set"),ni=Ln(We,"WeakMap"),ii=Ln(br,"create"),Ci=ni&&new ni,Gn={},$u=Nn(ga),Au=Nn(ri),ku=Nn(ba),Mu=Nn(Wn),Bu=Nn(ni),Pi=An?An.prototype:n,ai=Pi?Pi.valueOf:n,Lo=Pi?Pi.toString:n;function ae(l){if(Ar(l)&&!Vt(l)&&!(l instanceof nr)){if(l instanceof en)return l;if(gr.call(l,"__wrapped__"))return qs(l)}return new en(l)}var Vn=function(){function l(){}return function(m){if(!$r(m))return{};if(Po)return Po(m);l.prototype=m;var S=new l;return l.prototype=n,S}}();function Ri(){}function en(l,m){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!m,this.__index__=0,this.__values__=n}ae.templateSettings={escape:Ft,evaluate:or,interpolate:fr,variable:"",imports:{_:ae}},ae.prototype=Ri.prototype,ae.prototype.constructor=ae,en.prototype=Vn(Ri.prototype),en.prototype.constructor=en;function nr(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=F,this.__views__=[]}function Tu(){var l=new nr(this.__wrapped__);return l.__actions__=qr(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=qr(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=qr(this.__views__),l}function Iu(){if(this.__filtered__){var l=new nr(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function Cu(){var l=this.__wrapped__.value(),m=this.__dir__,S=Vt(l),O=m<0,Y=S?l.length:0,ce=zc(0,Y,this.__views__),ye=ce.start,Ee=ce.end,Ce=Ee-ye,Qe=O?Ee:ye-1,Xe=this.__iteratees__,rt=Xe.length,gt=0,At=Dr(Ce,this.__takeCount__);if(!S||!O&&Y==Ce&&At==Ce)return us(l,this.__actions__);var qt=[];e:for(;Ce--&&gt<At;){Qe+=m;for(var Qt=-1,jt=l[Qe];++Qt<rt;){var tr=Xe[Qt],ir=tr.iteratee,Yr=tr.type,Ur=ir(jt);if(Yr==A)jt=Ur;else if(!Ur){if(Yr==x)continue e;break e}}qt[gt++]=jt}return qt}nr.prototype=Vn(Ri.prototype),nr.prototype.constructor=nr;function Rn(l){var m=-1,S=l==null?0:l.length;for(this.clear();++m<S;){var O=l[m];this.set(O[0],O[1])}}function Pu(){this.__data__=ii?ii(null):{},this.size=0}function Ru(l){var m=this.has(l)&&delete this.__data__[l];return this.size-=m?1:0,m}function Ou(l){var m=this.__data__;if(ii){var S=m[l];return S===p?n:S}return gr.call(m,l)?m[l]:n}function Du(l){var m=this.__data__;return ii?m[l]!==n:gr.call(m,l)}function Fu(l,m){var S=this.__data__;return this.size+=this.has(l)?0:1,S[l]=ii&&m===n?p:m,this}Rn.prototype.clear=Pu,Rn.prototype.delete=Ru,Rn.prototype.get=Ou,Rn.prototype.has=Du,Rn.prototype.set=Fu;function dn(l){var m=-1,S=l==null?0:l.length;for(this.clear();++m<S;){var O=l[m];this.set(O[0],O[1])}}function Lu(){this.__data__=[],this.size=0}function Nu(l){var m=this.__data__,S=Oi(m,l);if(S<0)return!1;var O=m.length-1;return S==O?m.pop():Mi.call(m,S,1),--this.size,!0}function Uu(l){var m=this.__data__,S=Oi(m,l);return S<0?n:m[S][1]}function qu(l){return Oi(this.__data__,l)>-1}function ju(l,m){var S=this.__data__,O=Oi(S,l);return O<0?(++this.size,S.push([l,m])):S[O][1]=m,this}dn.prototype.clear=Lu,dn.prototype.delete=Nu,dn.prototype.get=Uu,dn.prototype.has=qu,dn.prototype.set=ju;function pn(l){var m=-1,S=l==null?0:l.length;for(this.clear();++m<S;){var O=l[m];this.set(O[0],O[1])}}function Ku(){this.size=0,this.__data__={hash:new Rn,map:new(ri||dn),string:new Rn}}function Hu(l){var m=Gi(this,l).delete(l);return this.size-=m?1:0,m}function zu(l){return Gi(this,l).get(l)}function Wu(l){return Gi(this,l).has(l)}function Gu(l,m){var S=Gi(this,l),O=S.size;return S.set(l,m),this.size+=S.size==O?0:1,this}pn.prototype.clear=Ku,pn.prototype.delete=Hu,pn.prototype.get=zu,pn.prototype.has=Wu,pn.prototype.set=Gu;function On(l){var m=-1,S=l==null?0:l.length;for(this.__data__=new pn;++m<S;)this.add(l[m])}function Vu(l){return this.__data__.set(l,p),this}function Yu(l){return this.__data__.has(l)}On.prototype.add=On.prototype.push=Vu,On.prototype.has=Yu;function sn(l){var m=this.__data__=new dn(l);this.size=m.size}function Qu(){this.__data__=new dn,this.size=0}function Xu(l){var m=this.__data__,S=m.delete(l);return this.size=m.size,S}function Ju(l){return this.__data__.get(l)}function Zu(l){return this.__data__.has(l)}function tc(l,m){var S=this.__data__;if(S instanceof dn){var O=S.__data__;if(!ri||O.length<o-1)return O.push([l,m]),this.size=++S.size,this;S=this.__data__=new pn(O)}return S.set(l,m),this.size=S.size,this}sn.prototype.clear=Qu,sn.prototype.delete=Xu,sn.prototype.get=Ju,sn.prototype.has=Zu,sn.prototype.set=tc;function No(l,m){var S=Vt(l),O=!S&&Un(l),Y=!S&&!O&&In(l),ce=!S&&!O&&!Y&&Jn(l),ye=S||O||Y||ce,Ee=ye?da(l.length,cu):[],Ce=Ee.length;for(var Qe in l)(m||gr.call(l,Qe))&&!(ye&&(Qe=="length"||Y&&(Qe=="offset"||Qe=="parent")||ce&&(Qe=="buffer"||Qe=="byteLength"||Qe=="byteOffset")||gn(Qe,Ce)))&&Ee.push(Qe);return Ee}function Uo(l){var m=l.length;return m?l[Ta(0,m-1)]:n}function rc(l,m){return Vi(qr(l),Dn(m,0,l.length))}function nc(l){return Vi(qr(l))}function _a(l,m,S){(S!==n&&!fn(l[m],S)||S===n&&!(m in l))&&yn(l,m,S)}function oi(l,m,S){var O=l[m];(!(gr.call(l,m)&&fn(O,S))||S===n&&!(m in l))&&yn(l,m,S)}function Oi(l,m){for(var S=l.length;S--;)if(fn(l[S][0],m))return S;return-1}function ic(l,m,S,O){return kn(l,function(Y,ce,ye){m(O,Y,S(Y),ye)}),O}function qo(l,m){return l&&ln(m,Pr(m),l)}function ac(l,m){return l&&ln(m,Kr(m),l)}function yn(l,m,S){m=="__proto__"&&Bi?Bi(l,m,{configurable:!0,enumerable:!0,value:S,writable:!0}):l[m]=S}function wa(l,m){for(var S=-1,O=m.length,Y=je(O),ce=l==null;++S<O;)Y[S]=ce?n:to(l,m[S]);return Y}function Dn(l,m,S){return l===l&&(S!==n&&(l=l<=S?l:S),m!==n&&(l=l>=m?l:m)),l}function tn(l,m,S,O,Y,ce){var ye,Ee=m&b,Ce=m&_,Qe=m&w;if(S&&(ye=Y?S(l,O,Y,ce):S(l)),ye!==n)return ye;if(!$r(l))return l;var Xe=Vt(l);if(Xe){if(ye=Gc(l),!Ee)return qr(l,ye)}else{var rt=Fr(l),gt=rt==ue||rt==qe;if(In(l))return hs(l,Ee);if(rt==L||rt==ke||gt&&!Y){if(ye=Ce||gt?{}:Cs(l),!Ee)return Ce?Dc(l,ac(ye,l)):Oc(l,qo(ye,l))}else{if(!_r[rt])return Y?l:{};ye=Vc(l,rt,Ee)}}ce||(ce=new sn);var At=ce.get(l);if(At)return At;ce.set(l,ye),ff(l)?l.forEach(function(jt){ye.add(tn(jt,m,S,jt,l,ce))}):of(l)&&l.forEach(function(jt,tr){ye.set(tr,tn(jt,m,S,tr,l,ce))});var qt=Qe?Ce?qa:Ua:Ce?Kr:Pr,Qt=Xe?n:qt(l);return Jr(Qt||l,function(jt,tr){Qt&&(tr=jt,jt=l[tr]),oi(ye,tr,tn(jt,m,S,tr,l,ce))}),ye}function oc(l){var m=Pr(l);return function(S){return jo(S,l,m)}}function jo(l,m,S){var O=S.length;if(l==null)return!O;for(l=br(l);O--;){var Y=S[O],ce=m[Y],ye=l[Y];if(ye===n&&!(Y in l)||!ce(ye))return!1}return!0}function Ko(l,m,S){if(typeof l!="function")throw new Zr(c);return di(function(){l.apply(n,S)},m)}function si(l,m,S,O){var Y=-1,ce=gi,ye=!0,Ee=l.length,Ce=[],Qe=m.length;if(!Ee)return Ce;S&&(m=Er(m,Wr(S))),O?(ce=sa,ye=!1):m.length>=o&&(ce=ei,ye=!1,m=new On(m));e:for(;++Y<Ee;){var Xe=l[Y],rt=S==null?Xe:S(Xe);if(Xe=O||Xe!==0?Xe:0,ye&&rt===rt){for(var gt=Qe;gt--;)if(m[gt]===rt)continue e;Ce.push(Xe)}else ce(m,rt,O)||Ce.push(Xe)}return Ce}var kn=gs(cn),Ho=gs(Ea,!0);function sc(l,m){var S=!0;return kn(l,function(O,Y,ce){return S=!!m(O,Y,ce),S}),S}function Di(l,m,S){for(var O=-1,Y=l.length;++O<Y;){var ce=l[O],ye=m(ce);if(ye!=null&&(Ee===n?ye===ye&&!Vr(ye):S(ye,Ee)))var Ee=ye,Ce=ce}return Ce}function fc(l,m,S,O){var Y=l.length;for(S=Yt(S),S<0&&(S=-S>Y?0:Y+S),O=O===n||O>Y?Y:Yt(O),O<0&&(O+=Y),O=S>O?0:cf(O);S<O;)l[S++]=m;return l}function zo(l,m){var S=[];return kn(l,function(O,Y,ce){m(O,Y,ce)&&S.push(O)}),S}function Or(l,m,S,O,Y){var ce=-1,ye=l.length;for(S||(S=Qc),Y||(Y=[]);++ce<ye;){var Ee=l[ce];m>0&&S(Ee)?m>1?Or(Ee,m-1,S,O,Y):Sn(Y,Ee):O||(Y[Y.length]=Ee)}return Y}var xa=bs(),Wo=bs(!0);function cn(l,m){return l&&xa(l,m,Pr)}function Ea(l,m){return l&&Wo(l,m,Pr)}function Fi(l,m){return En(m,function(S){return _n(l[S])})}function Fn(l,m){m=Bn(m,l);for(var S=0,O=m.length;l!=null&&S<O;)l=l[hn(m[S++])];return S&&S==O?l:n}function Go(l,m,S){var O=m(l);return Vt(l)?O:Sn(O,S(l))}function Lr(l){return l==null?l===n?me:ie:Pn&&Pn in br(l)?Hc(l):nl(l)}function Sa(l,m){return l>m}function uc(l,m){return l!=null&&gr.call(l,m)}function cc(l,m){return l!=null&&m in br(l)}function lc(l,m,S){return l>=Dr(m,S)&&l<Cr(m,S)}function $a(l,m,S){for(var O=S?sa:gi,Y=l[0].length,ce=l.length,ye=ce,Ee=je(ce),Ce=1/0,Qe=[];ye--;){var Xe=l[ye];ye&&m&&(Xe=Er(Xe,Wr(m))),Ce=Dr(Xe.length,Ce),Ee[ye]=!S&&(m||Y>=120&&Xe.length>=120)?new On(ye&&Xe):n}Xe=l[0];var rt=-1,gt=Ee[0];e:for(;++rt<Y&&Qe.length<Ce;){var At=Xe[rt],qt=m?m(At):At;if(At=S||At!==0?At:0,!(gt?ei(gt,qt):O(Qe,qt,S))){for(ye=ce;--ye;){var Qt=Ee[ye];if(!(Qt?ei(Qt,qt):O(l[ye],qt,S)))continue e}gt&&gt.push(qt),Qe.push(At)}}return Qe}function hc(l,m,S,O){return cn(l,function(Y,ce,ye){m(O,S(Y),ce,ye)}),O}function fi(l,m,S){m=Bn(m,l),l=Ds(l,m);var O=l==null?l:l[hn(nn(m))];return O==null?n:zr(O,l,S)}function Vo(l){return Ar(l)&&Lr(l)==ke}function dc(l){return Ar(l)&&Lr(l)==De}function pc(l){return Ar(l)&&Lr(l)==Re}function ui(l,m,S,O,Y){return l===m?!0:l==null||m==null||!Ar(l)&&!Ar(m)?l!==l&&m!==m:yc(l,m,S,O,ui,Y)}function yc(l,m,S,O,Y,ce){var ye=Vt(l),Ee=Vt(m),Ce=ye?he:Fr(l),Qe=Ee?he:Fr(m);Ce=Ce==ke?L:Ce,Qe=Qe==ke?L:Qe;var Xe=Ce==L,rt=Qe==L,gt=Ce==Qe;if(gt&&In(l)){if(!In(m))return!1;ye=!0,Xe=!1}if(gt&&!Xe)return ce||(ce=new sn),ye||Jn(l)?Bs(l,m,S,O,Y,ce):jc(l,m,Ce,S,O,Y,ce);if(!(S&E)){var At=Xe&&gr.call(l,"__wrapped__"),qt=rt&&gr.call(m,"__wrapped__");if(At||qt){var Qt=At?l.value():l,jt=qt?m.value():m;return ce||(ce=new sn),Y(Qt,jt,S,O,ce)}}return gt?(ce||(ce=new sn),Kc(l,m,S,O,Y,ce)):!1}function mc(l){return Ar(l)&&Fr(l)==Ge}function Aa(l,m,S,O){var Y=S.length,ce=Y,ye=!O;if(l==null)return!ce;for(l=br(l);Y--;){var Ee=S[Y];if(ye&&Ee[2]?Ee[1]!==l[Ee[0]]:!(Ee[0]in l))return!1}for(;++Y<ce;){Ee=S[Y];var Ce=Ee[0],Qe=l[Ce],Xe=Ee[1];if(ye&&Ee[2]){if(Qe===n&&!(Ce in l))return!1}else{var rt=new sn;if(O)var gt=O(Qe,Xe,Ce,l,m,rt);if(!(gt===n?ui(Xe,Qe,E|$,O,rt):gt))return!1}}return!0}function Yo(l){if(!$r(l)||Jc(l))return!1;var m=_n(l)?yu:pt;return m.test(Nn(l))}function vc(l){return Ar(l)&&Lr(l)==we}function gc(l){return Ar(l)&&Fr(l)==Ie}function bc(l){return Ar(l)&&ea(l.length)&&!!xr[Lr(l)]}function Qo(l){return typeof l=="function"?l:l==null?Hr:typeof l=="object"?Vt(l)?Zo(l[0],l[1]):Jo(l):wf(l)}function ka(l){if(!hi(l))return wu(l);var m=[];for(var S in br(l))gr.call(l,S)&&S!="constructor"&&m.push(S);return m}function _c(l){if(!$r(l))return rl(l);var m=hi(l),S=[];for(var O in l)O=="constructor"&&(m||!gr.call(l,O))||S.push(O);return S}function Ma(l,m){return l<m}function Xo(l,m){var S=-1,O=jr(l)?je(l.length):[];return kn(l,function(Y,ce,ye){O[++S]=m(Y,ce,ye)}),O}function Jo(l){var m=Ka(l);return m.length==1&&m[0][2]?Rs(m[0][0],m[0][1]):function(S){return S===l||Aa(S,l,m)}}function Zo(l,m){return za(l)&&Ps(m)?Rs(hn(l),m):function(S){var O=to(S,l);return O===n&&O===m?ro(S,l):ui(m,O,E|$)}}function Li(l,m,S,O,Y){l!==m&&xa(m,function(ce,ye){if(Y||(Y=new sn),$r(ce))wc(l,m,ye,S,Li,O,Y);else{var Ee=O?O(Ga(l,ye),ce,ye+"",l,m,Y):n;Ee===n&&(Ee=ce),_a(l,ye,Ee)}},Kr)}function wc(l,m,S,O,Y,ce,ye){var Ee=Ga(l,S),Ce=Ga(m,S),Qe=ye.get(Ce);if(Qe){_a(l,S,Qe);return}var Xe=ce?ce(Ee,Ce,S+"",l,m,ye):n,rt=Xe===n;if(rt){var gt=Vt(Ce),At=!gt&&In(Ce),qt=!gt&&!At&&Jn(Ce);Xe=Ce,gt||At||qt?Vt(Ee)?Xe=Ee:Mr(Ee)?Xe=qr(Ee):At?(rt=!1,Xe=hs(Ce,!0)):qt?(rt=!1,Xe=ds(Ce,!0)):Xe=[]:pi(Ce)||Un(Ce)?(Xe=Ee,Un(Ee)?Xe=lf(Ee):(!$r(Ee)||_n(Ee))&&(Xe=Cs(Ce))):rt=!1}rt&&(ye.set(Ce,Xe),Y(Xe,Ce,O,ce,ye),ye.delete(Ce)),_a(l,S,Xe)}function es(l,m){var S=l.length;if(S)return m+=m<0?S:0,gn(m,S)?l[m]:n}function ts(l,m,S){m.length?m=Er(m,function(ce){return Vt(ce)?function(ye){return Fn(ye,ce.length===1?ce[0]:ce)}:ce}):m=[Hr];var O=-1;m=Er(m,Wr(Ut()));var Y=Xo(l,function(ce,ye,Ee){var Ce=Er(m,function(Qe){return Qe(ce)});return{criteria:Ce,index:++O,value:ce}});return Gf(Y,function(ce,ye){return Rc(ce,ye,S)})}function xc(l,m){return rs(l,m,function(S,O){return ro(l,O)})}function rs(l,m,S){for(var O=-1,Y=m.length,ce={};++O<Y;){var ye=m[O],Ee=Fn(l,ye);S(Ee,ye)&&ci(ce,Bn(ye,l),Ee)}return ce}function Ec(l){return function(m){return Fn(m,l)}}function Ba(l,m,S,O){var Y=O?Wf:qn,ce=-1,ye=m.length,Ee=l;for(l===m&&(m=qr(m)),S&&(Ee=Er(l,Wr(S)));++ce<ye;)for(var Ce=0,Qe=m[ce],Xe=S?S(Qe):Qe;(Ce=Y(Ee,Xe,Ce,O))>-1;)Ee!==l&&Mi.call(Ee,Ce,1),Mi.call(l,Ce,1);return l}function ns(l,m){for(var S=l?m.length:0,O=S-1;S--;){var Y=m[S];if(S==O||Y!==ce){var ce=Y;gn(Y)?Mi.call(l,Y,1):Pa(l,Y)}}return l}function Ta(l,m){return l+Ii(Fo()*(m-l+1))}function Sc(l,m,S,O){for(var Y=-1,ce=Cr(Ti((m-l)/(S||1)),0),ye=je(ce);ce--;)ye[O?ce:++Y]=l,l+=S;return ye}function Ia(l,m){var S="";if(!l||m<1||m>G)return S;do m%2&&(S+=l),m=Ii(m/2),m&&(l+=l);while(m);return S}function Xt(l,m){return Va(Os(l,m,Hr),l+"")}function $c(l){return Uo(Zn(l))}function Ac(l,m){var S=Zn(l);return Vi(S,Dn(m,0,S.length))}function ci(l,m,S,O){if(!$r(l))return l;m=Bn(m,l);for(var Y=-1,ce=m.length,ye=ce-1,Ee=l;Ee!=null&&++Y<ce;){var Ce=hn(m[Y]),Qe=S;if(Ce==="__proto__"||Ce==="constructor"||Ce==="prototype")return l;if(Y!=ye){var Xe=Ee[Ce];Qe=O?O(Xe,Ce,Ee):n,Qe===n&&(Qe=$r(Xe)?Xe:gn(m[Y+1])?[]:{})}oi(Ee,Ce,Qe),Ee=Ee[Ce]}return l}var as=Ci?function(l,m){return Ci.set(l,m),l}:Hr,kc=Bi?function(l,m){return Bi(l,"toString",{configurable:!0,enumerable:!1,value:io(m),writable:!0})}:Hr;function Mc(l){return Vi(Zn(l))}function rn(l,m,S){var O=-1,Y=l.length;m<0&&(m=-m>Y?0:Y+m),S=S>Y?Y:S,S<0&&(S+=Y),Y=m>S?0:S-m>>>0,m>>>=0;for(var ce=je(Y);++O<Y;)ce[O]=l[O+m];return ce}function Bc(l,m){var S;return kn(l,function(O,Y,ce){return S=m(O,Y,ce),!S}),!!S}function Ni(l,m,S){var O=0,Y=l==null?O:l.length;if(typeof m=="number"&&m===m&&Y<=V){for(;O<Y;){var ce=O+Y>>>1,ye=l[ce];ye!==null&&!Vr(ye)&&(S?ye<=m:ye<m)?O=ce+1:Y=ce}return Y}return Ca(l,m,Hr,S)}function Ca(l,m,S,O){var Y=0,ce=l==null?0:l.length;if(ce===0)return 0;m=S(m);for(var ye=m!==m,Ee=m===null,Ce=Vr(m),Qe=m===n;Y<ce;){var Xe=Ii((Y+ce)/2),rt=S(l[Xe]),gt=rt!==n,At=rt===null,qt=rt===rt,Qt=Vr(rt);if(ye)var jt=O||qt;else Qe?jt=qt&&(O||gt):Ee?jt=qt&&gt&&(O||!At):Ce?jt=qt&&gt&&!At&&(O||!Qt):At||Qt?jt=!1:jt=O?rt<=m:rt<m;jt?Y=Xe+1:ce=Xe}return Dr(ce,M)}function os(l,m){for(var S=-1,O=l.length,Y=0,ce=[];++S<O;){var ye=l[S],Ee=m?m(ye):ye;if(!S||!fn(Ee,Ce)){var Ce=Ee;ce[Y++]=ye===0?0:ye}}return ce}function ss(l){return typeof l=="number"?l:Vr(l)?T:+l}function Gr(l){if(typeof l=="string")return l;if(Vt(l))return Er(l,Gr)+"";if(Vr(l))return Lo?Lo.call(l):"";var m=l+"";return m=="0"&&1/l==-q?"-0":m}function Mn(l,m,S){var O=-1,Y=gi,ce=l.length,ye=!0,Ee=[],Ce=Ee;if(S)ye=!1,Y=sa;else if(ce>=o){var Qe=m?null:Uc(l);if(Qe)return _i(Qe);ye=!1,Y=ei,Ce=new On}else Ce=m?[]:Ee;e:for(;++O<ce;){var Xe=l[O],rt=m?m(Xe):Xe;if(Xe=S||Xe!==0?Xe:0,ye&&rt===rt){for(var gt=Ce.length;gt--;)if(Ce[gt]===rt)continue e;m&&Ce.push(rt),Ee.push(Xe)}else Y(Ce,rt,S)||(Ce!==Ee&&Ce.push(rt),Ee.push(Xe))}return Ee}function Pa(l,m){return m=Bn(m,l),l=Ds(l,m),l==null||delete l[hn(nn(m))]}function fs(l,m,S,O){return ci(l,m,S(Fn(l,m)),O)}function Ui(l,m,S,O){for(var Y=l.length,ce=O?Y:-1;(O?ce--:++ce<Y)&&m(l[ce],ce,l););return S?rn(l,O?0:ce,O?ce+1:Y):rn(l,O?ce+1:0,O?Y:ce)}function us(l,m){var S=l;return S instanceof nr&&(S=S.value()),fa(m,function(O,Y){return Y.func.apply(Y.thisArg,Sn([O],Y.args))},S)}function Ra(l,m,S){var O=l.length;if(O<2)return O?Mn(l[0]):[];for(var Y=-1,ce=je(O);++Y<O;)for(var ye=l[Y],Ee=-1;++Ee<O;)Ee!=Y&&(ce[Y]=si(ce[Y]||ye,l[Ee],m,S));return Mn(Or(ce,1),m,S)}function cs(l,m,S){for(var O=-1,Y=l.length,ce=m.length,ye={};++O<Y;){var Ee=O<ce?m[O]:n;S(ye,l[O],Ee)}return ye}function Oa(l){return Mr(l)?l:[]}function Da(l){return typeof l=="function"?l:Hr}function Bn(l,m){return Vt(l)?l:za(l,m)?[l]:Us(yr(l))}var Tc=Xt;function Tn(l,m,S){var O=l.length;return S=S===n?O:S,!m&&S>=O?l:rn(l,m,S)}var ls=mu||function(l){return Rr.clearTimeout(l)};function hs(l,m){if(m)return l.slice();var S=l.length,O=Co?Co(S):new l.constructor(S);return l.copy(O),O}function Fa(l){var m=new l.constructor(l.byteLength);return new Ai(m).set(new Ai(l)),m}function Ic(l,m){var S=m?Fa(l.buffer):l.buffer;return new l.constructor(S,l.byteOffset,l.byteLength)}function Cc(l){var m=new l.constructor(l.source,st.exec(l));return m.lastIndex=l.lastIndex,m}function Pc(l){return ai?br(ai.call(l)):{}}function ds(l,m){var S=m?Fa(l.buffer):l.buffer;return new l.constructor(S,l.byteOffset,l.length)}function ps(l,m){if(l!==m){var S=l!==n,O=l===null,Y=l===l,ce=Vr(l),ye=m!==n,Ee=m===null,Ce=m===m,Qe=Vr(m);if(!Ee&&!Qe&&!ce&&l>m||ce&&ye&&Ce&&!Ee&&!Qe||O&&ye&&Ce||!S&&Ce||!Y)return 1;if(!O&&!ce&&!Qe&&l<m||Qe&&S&&Y&&!O&&!ce||Ee&&S&&Y||!ye&&Y||!Ce)return-1}return 0}function Rc(l,m,S){for(var O=-1,Y=l.criteria,ce=m.criteria,ye=Y.length,Ee=S.length;++O<ye;){var Ce=ps(Y[O],ce[O]);if(Ce){if(O>=Ee)return Ce;var Qe=S[O];return Ce*(Qe=="desc"?-1:1)}}return l.index-m.index}function ys(l,m,S,O){for(var Y=-1,ce=l.length,ye=S.length,Ee=-1,Ce=m.length,Qe=Cr(ce-ye,0),Xe=je(Ce+Qe),rt=!O;++Ee<Ce;)Xe[Ee]=m[Ee];for(;++Y<ye;)(rt||Y<ce)&&(Xe[S[Y]]=l[Y]);for(;Qe--;)Xe[Ee++]=l[Y++];return Xe}function vs(l,m,S,O){for(var Y=-1,ce=l.length,ye=-1,Ee=S.length,Ce=-1,Qe=m.length,Xe=Cr(ce-Ee,0),rt=je(Xe+Qe),gt=!O;++Y<Xe;)rt[Y]=l[Y];for(var At=Y;++Ce<Qe;)rt[At+Ce]=m[Ce];for(;++ye<Ee;)(gt||Y<ce)&&(rt[At+S[ye]]=l[Y++]);return rt}function qr(l,m){var S=-1,O=l.length;for(m||(m=je(O));++S<O;)m[S]=l[S];return m}function ln(l,m,S,O){var Y=!S;S||(S={});for(var ce=-1,ye=m.length;++ce<ye;){var Ee=m[ce],Ce=O?O(S[Ee],l[Ee],Ee,S,l):n;Ce===n&&(Ce=l[Ee]),Y?yn(S,Ee,Ce):oi(S,Ee,Ce)}return S}function Oc(l,m){return ln(l,Ha(l),m)}function Dc(l,m){return ln(l,Ts(l),m)}function qi(l,m){return function(S,O){var Y=Vt(S)?Uf:ic,ce=m?m():{};return Y(S,l,Ut(O,2),ce)}}function Yn(l){return Xt(function(m,S){var O=-1,Y=S.length,ce=Y>1?S[Y-1]:n,ye=Y>2?S[2]:n;for(ce=l.length>3&&typeof ce=="function"?(Y--,ce):n,ye&&Nr(S[0],S[1],ye)&&(ce=Y<3?n:ce,Y=1),m=br(m);++O<Y;){var Ee=S[O];Ee&&l(m,Ee,O,ce)}return m})}function gs(l,m){return function(S,O){if(S==null)return S;if(!jr(S))return l(S,O);for(var Y=S.length,ce=m?Y:-1,ye=br(S);(m?ce--:++ce<Y)&&O(ye[ce],ce,ye)!==!1;);return S}}function bs(l){return function(m,S,O){for(var Y=-1,ce=br(m),ye=O(m),Ee=ye.length;Ee--;){var Ce=ye[l?Ee:++Y];if(S(ce[Ce],Ce,ce)===!1)break}return m}}function Fc(l,m,S){var O=m&C,Y=li(l);function ce(){var ye=this&&this!==Rr&&this instanceof ce?Y:l;return ye.apply(O?S:this,arguments)}return ce}function _s(l){return function(m){m=yr(m);var S=jn(m)?on(m):n,O=S?S[0]:m.charAt(0),Y=S?Tn(S,1).join(""):m.slice(1);return O[l]()+Y}}function Qn(l){return function(m){return fa(bf(gf(m).replace(Af,"")),l,"")}}function li(l){return function(){var m=arguments;switch(m.length){case 0:return new l;case 1:return new l(m[0]);case 2:return new l(m[0],m[1]);case 3:return new l(m[0],m[1],m[2]);case 4:return new l(m[0],m[1],m[2],m[3]);case 5:return new l(m[0],m[1],m[2],m[3],m[4]);case 6:return new l(m[0],m[1],m[2],m[3],m[4],m[5]);case 7:return new l(m[0],m[1],m[2],m[3],m[4],m[5],m[6])}var S=Vn(l.prototype),O=l.apply(S,m);return $r(O)?O:S}}function Lc(l,m,S){var O=li(l);function Y(){for(var ce=arguments.length,ye=je(ce),Ee=ce,Ce=Xn(Y);Ee--;)ye[Ee]=arguments[Ee];var Qe=ce<3&&ye[0]!==Ce&&ye[ce-1]!==Ce?[]:$n(ye,Ce);if(ce-=Qe.length,ce<S)return $s(l,m,ji,Y.placeholder,n,ye,Qe,n,n,S-ce);var Xe=this&&this!==Rr&&this instanceof Y?O:l;return zr(Xe,this,ye)}return Y}function ws(l){return function(m,S,O){var Y=br(m);if(!jr(m)){var ce=Ut(S,3);m=Pr(m),S=function(Ee){return ce(Y[Ee],Ee,Y)}}var ye=l(m,S,O);return ye>-1?Y[ce?m[ye]:ye]:n}}function xs(l){return vn(function(m){var S=m.length,O=S,Y=en.prototype.thru;for(l&&m.reverse();O--;){var ce=m[O];if(typeof ce!="function")throw new Zr(c);if(Y&&!ye&&Wi(ce)=="wrapper")var ye=new en([],!0)}for(O=ye?O:S;++O<S;){ce=m[O];var Ee=Wi(ce),Ce=Ee=="wrapper"?ja(ce):n;Ce&&Wa(Ce[0])&&Ce[1]==(xe|J|re|$e)&&!Ce[4].length&&Ce[9]==1?ye=ye[Wi(Ce[0])].apply(ye,Ce[3]):ye=ce.length==1&&Wa(ce)?ye[Ee]():ye.thru(ce)}return function(){var Qe=arguments,Xe=Qe[0];if(ye&&Qe.length==1&&Vt(Xe))return ye.plant(Xe).value();for(var rt=0,gt=S?m[rt].apply(this,Qe):Xe;++rt<S;)gt=m[rt].call(this,gt);return gt}})}function ji(l,m,S,O,Y,ce,ye,Ee,Ce,Qe){var Xe=m&xe,rt=m&C,gt=m&P,At=m&(J|X),qt=m&Pe,Qt=gt?n:li(l);function jt(){for(var tr=arguments.length,ir=je(tr),Yr=tr;Yr--;)ir[Yr]=arguments[Yr];if(At)var Ur=Xn(jt),Qr=Yf(ir,Ur);if(O&&(ir=ys(ir,O,Y,At)),ce&&(ir=vs(ir,ce,ye,At)),tr-=Qr,At&&tr<Qe){var Br=$n(ir,Ur);return $s(l,m,ji,jt.placeholder,S,ir,Br,Ee,Ce,Qe-tr)}var un=rt?S:this,xn=gt?un[l]:l;return tr=ir.length,Ee?ir=il(ir,Ee):qt&&tr>1&&ir.reverse(),Xe&&Ce<tr&&(ir.length=Ce),this&&this!==Rr&&this instanceof jt&&(xn=Qt||li(xn)),xn.apply(un,ir)}return jt}function Es(l,m){return function(S,O){return hc(S,l,m(O),{})}}function Ki(l,m){return function(S,O){var Y;if(S===n&&O===n)return m;if(S!==n&&(Y=S),O!==n){if(Y===n)return O;typeof S=="string"||typeof O=="string"?(S=Gr(S),O=Gr(O)):(S=ss(S),O=ss(O)),Y=l(S,O)}return Y}}function La(l){return vn(function(m){return m=Er(m,Wr(Ut())),Xt(function(S){var O=this;return l(m,function(Y){return zr(Y,O,S)})})})}function Hi(l,m){m=m===n?" ":Gr(m);var S=m.length;if(S<2)return S?Ia(m,l):m;var O=Ia(m,Ti(l/Kn(m)));return jn(m)?Tn(on(O),0,l).join(""):O.slice(0,l)}function Nc(l,m,S,O){var Y=m&C,ce=li(l);function ye(){for(var Ee=-1,Ce=arguments.length,Qe=-1,Xe=O.length,rt=je(Xe+Ce),gt=this&&this!==Rr&&this instanceof ye?ce:l;++Qe<Xe;)rt[Qe]=O[Qe];for(;Ce--;)rt[Qe++]=arguments[++Ee];return zr(gt,Y?S:this,rt)}return ye}function Ss(l){return function(m,S,O){return O&&typeof O!="number"&&Nr(m,S,O)&&(S=O=n),m=wn(m),S===n?(S=m,m=0):S=wn(S),O=O===n?m<S?1:-1:wn(O),Sc(m,S,O,l)}}function zi(l){return function(m,S){return typeof m=="string"&&typeof S=="string"||(m=an(m),S=an(S)),l(m,S)}}function $s(l,m,S,O,Y,ce,ye,Ee,Ce,Qe){var Xe=m&J,rt=Xe?ye:n,gt=Xe?n:ye,At=Xe?ce:n,qt=Xe?n:ce;m|=Xe?re:de,m&=~(Xe?de:re),m&z||(m&=~(C|P));var Qt=[l,m,Y,At,rt,qt,gt,Ee,Ce,Qe],jt=S.apply(n,Qt);return Wa(l)&&Fs(jt,Qt),jt.placeholder=O,Ls(jt,l,m)}function Na(l){var m=Ir[l];return function(S,O){if(S=an(S),O=O==null?0:Dr(Yt(O),292),O&&Do(S)){var Y=(yr(S)+"e").split("e"),ce=m(Y[0]+"e"+(+Y[1]+O));return Y=(yr(ce)+"e").split("e"),+(Y[0]+"e"+(+Y[1]-O))}return m(S)}}var Uc=Wn&&1/_i(new Wn([,-0]))[1]==q?function(l){return new Wn(l)}:so;function As(l){return function(m){var S=Fr(m);return S==Ge?ya(m):S==Ie?ru(m):Vf(m,l(m))}}function mn(l,m,S,O,Y,ce,ye,Ee){var Ce=m&P;if(!Ce&&typeof l!="function")throw new Zr(c);var Qe=O?O.length:0;if(Qe||(m&=~(re|de),O=Y=n),ye=ye===n?ye:Cr(Yt(ye),0),Ee=Ee===n?Ee:Yt(Ee),Qe-=Y?Y.length:0,m&de){var Xe=O,rt=Y;O=Y=n}var gt=Ce?n:ja(l),At=[l,m,S,O,Y,Xe,rt,ce,ye,Ee];if(gt&&tl(At,gt),l=At[0],m=At[1],S=At[2],O=At[3],Y=At[4],Ee=At[9]=At[9]===n?Ce?0:l.length:Cr(At[9]-Qe,0),!Ee&&m&(J|X)&&(m&=~(J|X)),!m||m==C)var qt=Fc(l,m,S);else m==J||m==X?qt=Lc(l,m,Ee):(m==re||m==(C|re))&&!Y.length?qt=Nc(l,m,S,O):qt=ji.apply(n,At);var Qt=gt?as:Fs;return Ls(Qt(qt,At),l,m)}function ks(l,m,S,O){return l===n||fn(l,zn[S])&&!gr.call(O,S)?m:l}function Ms(l,m,S,O,Y,ce){return $r(l)&&$r(m)&&(ce.set(m,l),Li(l,m,n,Ms,ce),ce.delete(m)),l}function qc(l){return pi(l)?n:l}function Bs(l,m,S,O,Y,ce){var ye=S&E,Ee=l.length,Ce=m.length;if(Ee!=Ce&&!(ye&&Ce>Ee))return!1;var Qe=ce.get(l),Xe=ce.get(m);if(Qe&&Xe)return Qe==m&&Xe==l;var rt=-1,gt=!0,At=S&$?new On:n;for(ce.set(l,m),ce.set(m,l);++rt<Ee;){var qt=l[rt],Qt=m[rt];if(O)var jt=ye?O(Qt,qt,rt,m,l,ce):O(qt,Qt,rt,l,m,ce);if(jt!==n){if(jt)continue;gt=!1;break}if(At){if(!ua(m,function(tr,ir){if(!ei(At,ir)&&(qt===tr||Y(qt,tr,S,O,ce)))return At.push(ir)})){gt=!1;break}}else if(!(qt===Qt||Y(qt,Qt,S,O,ce))){gt=!1;break}}return ce.delete(l),ce.delete(m),gt}function jc(l,m,S,O,Y,ce,ye){switch(S){case tt:if(l.byteLength!=m.byteLength||l.byteOffset!=m.byteOffset)return!1;l=l.buffer,m=m.buffer;case De:return!(l.byteLength!=m.byteLength||!ce(new Ai(l),new Ai(m)));case Me:case Re:case ot:return fn(+l,+m);case le:return l.name==m.name&&l.message==m.message;case we:case Ke:return l==m+"";case Ge:var Ee=ya;case Ie:var Ce=O&E;if(Ee||(Ee=_i),l.size!=m.size&&!Ce)return!1;var Qe=ye.get(l);if(Qe)return Qe==m;O|=$,ye.set(l,m);var Xe=Bs(Ee(l),Ee(m),O,Y,ce,ye);return ye.delete(l),Xe;case dt:if(ai)return ai.call(l)==ai.call(m)}return!1}function Kc(l,m,S,O,Y,ce){var ye=S&E,Ee=Ua(l),Ce=Ee.length,Qe=Ua(m),Xe=Qe.length;if(Ce!=Xe&&!ye)return!1;for(var rt=Ce;rt--;){var gt=Ee[rt];if(!(ye?gt in m:gr.call(m,gt)))return!1}var At=ce.get(l),qt=ce.get(m);if(At&&qt)return At==m&&qt==l;var Qt=!0;ce.set(l,m),ce.set(m,l);for(var jt=ye;++rt<Ce;){gt=Ee[rt];var tr=l[gt],ir=m[gt];if(O)var Yr=ye?O(ir,tr,gt,m,l,ce):O(tr,ir,gt,l,m,ce);if(!(Yr===n?tr===ir||Y(tr,ir,S,O,ce):Yr)){Qt=!1;break}jt||(jt=gt=="constructor")}if(Qt&&!jt){var Ur=l.constructor,Qr=m.constructor;Ur!=Qr&&"constructor"in l&&"constructor"in m&&!(typeof Ur=="function"&&Ur instanceof Ur&&typeof Qr=="function"&&Qr instanceof Qr)&&(Qt=!1)}return ce.delete(l),ce.delete(m),Qt}function vn(l){return Va(Os(l,n,Hs),l+"")}function Ua(l){return Go(l,Pr,Ha)}function qa(l){return Go(l,Kr,Ts)}var ja=Ci?function(l){return Ci.get(l)}:so;function Wi(l){for(var m=l.name+"",S=Gn[m],O=gr.call(Gn,m)?S.length:0;O--;){var Y=S[O],ce=Y.func;if(ce==null||ce==l)return Y.name}return m}function Xn(l){var m=gr.call(ae,"placeholder")?ae:l;return m.placeholder}function Ut(){var l=ae.iteratee||ao;return l=l===ao?Qo:l,arguments.length?l(arguments[0],arguments[1]):l}function Gi(l,m){var S=l.__data__;return Xc(m)?S[typeof m=="string"?"string":"hash"]:S.map}function Ka(l){for(var m=Pr(l),S=m.length;S--;){var O=m[S],Y=l[O];m[S]=[O,Y,Ps(Y)]}return m}function Ln(l,m){var S=Zf(l,m);return Yo(S)?S:n}function Hc(l){var m=gr.call(l,Pn),S=l[Pn];try{l[Pn]=n;var O=!0}catch{}var Y=Si.call(l);return O&&(m?l[Pn]=S:delete l[Pn]),Y}var Ha=va?function(l){return l==null?[]:(l=br(l),En(va(l),function(m){return Ro.call(l,m)}))}:fo,Ts=va?function(l){for(var m=[];l;)Sn(m,Ha(l)),l=ki(l);return m}:fo,Fr=Lr;(ga&&Fr(new ga(new ArrayBuffer(1)))!=tt||ri&&Fr(new ri)!=Ge||ba&&Fr(ba.resolve())!=N||Wn&&Fr(new Wn)!=Ie||ni&&Fr(new ni)!=Te)&&(Fr=function(l){var m=Lr(l),S=m==L?l.constructor:n,O=S?Nn(S):"";if(O)switch(O){case $u:return tt;case Au:return Ge;case ku:return N;case Mu:return Ie;case Bu:return Te}return m});function zc(l,m,S){for(var O=-1,Y=S.length;++O<Y;){var ce=S[O],ye=ce.size;switch(ce.type){case"drop":l+=ye;break;case"dropRight":m-=ye;break;case"take":m=Dr(m,l+ye);break;case"takeRight":l=Cr(l,m-ye);break}}return{start:l,end:m}}function Wc(l){var m=l.match(I);return m?m[1].split(ne):[]}function Is(l,m,S){m=Bn(m,l);for(var O=-1,Y=m.length,ce=!1;++O<Y;){var ye=hn(m[O]);if(!(ce=l!=null&&S(l,ye)))break;l=l[ye]}return ce||++O!=Y?ce:(Y=l==null?0:l.length,!!Y&&ea(Y)&&gn(ye,Y)&&(Vt(l)||Un(l)))}function Gc(l){var m=l.length,S=new l.constructor(m);return m&&typeof l[0]=="string"&&gr.call(l,"index")&&(S.index=l.index,S.input=l.input),S}function Cs(l){return typeof l.constructor=="function"&&!hi(l)?Vn(ki(l)):{}}function Vc(l,m,S){var O=l.constructor;switch(m){case De:return Fa(l);case Me:case Re:return new O(+l);case tt:return Ic(l,S);case Rt:case at:case bt:case ct:case ft:case _t:case zt:case Ct:case rr:return ds(l,S);case Ge:return new O;case ot:case Ke:return new O(l);case we:return Cc(l);case Ie:return new O;case dt:return Pc(l)}}function Yc(l,m){var S=m.length;if(!S)return l;var O=S-1;return m[O]=(S>1?"& ":"")+m[O],m=m.join(S>2?", ":" "),l.replace(ee,`{
/* [wrapped with `+m+`] */
`)}function Qc(l){return Vt(l)||Un(l)||!!(Oo&&l&&l[Oo])}function gn(l,m){var S=typeof l;return m=m??G,!!m&&(S=="number"||S!="symbol"&&Tt.test(l))&&l>-1&&l%1==0&&l<m}function Nr(l,m,S){if(!$r(S))return!1;var O=typeof m;return(O=="number"?jr(S)&&gn(m,S.length):O=="string"&&m in S)?fn(S[m],l):!1}function za(l,m){if(Vt(l))return!1;var S=typeof l;return S=="number"||S=="symbol"||S=="boolean"||l==null||Vr(l)?!0:dr.test(l)||!Kt.test(l)||m!=null&&l in br(m)}function Xc(l){var m=typeof l;return m=="string"||m=="number"||m=="symbol"||m=="boolean"?l!=="__proto__":l===null}function Wa(l){var m=Wi(l),S=ae[m];if(typeof S!="function"||!(m in nr.prototype))return!1;if(l===S)return!0;var O=ja(S);return!!O&&l===O[0]}function Jc(l){return!!Io&&Io in l}var Zc=xi?_n:uo;function hi(l){var m=l&&l.constructor,S=typeof m=="function"&&m.prototype||zn;return l===S}function Ps(l){return l===l&&!$r(l)}function Rs(l,m){return function(S){return S==null?!1:S[l]===m&&(m!==n||l in br(S))}}function el(l){var m=Ji(l,function(O){return S.size===v&&S.clear(),O}),S=m.cache;return m}function tl(l,m){var S=l[1],O=m[1],Y=S|O,ce=Y<(C|P|xe),ye=O==xe&&S==J||O==xe&&S==$e&&l[7].length<=m[8]||O==(xe|$e)&&m[7].length<=m[8]&&S==J;if(!(ce||ye))return l;O&C&&(l[2]=m[2],Y|=S&C?0:z);var Ee=m[3];if(Ee){var Ce=l[3];l[3]=Ce?ys(Ce,Ee,m[4]):Ee,l[4]=Ce?$n(l[3],y):m[4]}return Ee=m[5],Ee&&(Ce=l[5],l[5]=Ce?vs(Ce,Ee,m[6]):Ee,l[6]=Ce?$n(l[5],y):m[6]),Ee=m[7],Ee&&(l[7]=Ee),O&xe&&(l[8]=l[8]==null?m[8]:Dr(l[8],m[8])),l[9]==null&&(l[9]=m[9]),l[0]=m[0],l[1]=Y,l}function rl(l){var m=[];if(l!=null)for(var S in br(l))m.push(S);return m}function nl(l){return Si.call(l)}function Os(l,m,S){return m=Cr(m===n?l.length-1:m,0),function(){for(var O=arguments,Y=-1,ce=Cr(O.length-m,0),ye=je(ce);++Y<ce;)ye[Y]=O[m+Y];Y=-1;for(var Ee=je(m+1);++Y<m;)Ee[Y]=O[Y];return Ee[m]=S(ye),zr(l,this,Ee)}}function Ds(l,m){return m.length<2?l:Fn(l,rn(m,0,-1))}function il(l,m){for(var S=l.length,O=Dr(m.length,S),Y=qr(l);O--;){var ce=m[O];l[O]=gn(ce,S)?Y[ce]:n}return l}function Ga(l,m){if(!(m==="constructor"&&typeof l[m]=="function")&&m!="__proto__")return l[m]}var Fs=Ns(as),di=gu||function(l,m){return Rr.setTimeout(l,m)},Va=Ns(kc);function Ls(l,m,S){var O=m+"";return Va(l,Yc(O,al(Wc(O),S)))}function Ns(l){var m=0,S=0;return function(){var O=xu(),Y=k-(O-S);if(S=O,Y>0){if(++m>=B)return arguments[0]}else m=0;return l.apply(n,arguments)}}function Vi(l,m){var S=-1,O=l.length,Y=O-1;for(m=m===n?O:m;++S<m;){var ce=Ta(S,Y),ye=l[ce];l[ce]=l[S],l[S]=ye}return l.length=m,l}var Us=el(function(l){var m=[];return l.charCodeAt(0)===46&&m.push(""),l.replace(vr,function(S,O,Y,ce){m.push(Y?ce.replace(Fe,"$1"):O||S)}),m});function hn(l){if(typeof l=="string"||Vr(l))return l;var m=l+"";return m=="0"&&1/l==-q?"-0":m}function Nn(l){if(l!=null){try{return Ei.call(l)}catch{}try{return l+""}catch{}}return""}function al(l,m){return Jr(ge,function(S){var O="_."+S[0];m&S[1]&&!gi(l,O)&&l.push(O)}),l.sort()}function qs(l){if(l instanceof nr)return l.clone();var m=new en(l.__wrapped__,l.__chain__);return m.__actions__=qr(l.__actions__),m.__index__=l.__index__,m.__values__=l.__values__,m}function ol(l,m,S){(S?Nr(l,m,S):m===n)?m=1:m=Cr(Yt(m),0);var O=l==null?0:l.length;if(!O||m<1)return[];for(var Y=0,ce=0,ye=je(Ti(O/m));Y<O;)ye[ce++]=rn(l,Y,Y+=m);return ye}function sl(l){for(var m=-1,S=l==null?0:l.length,O=0,Y=[];++m<S;){var ce=l[m];ce&&(Y[O++]=ce)}return Y}function fl(){var l=arguments.length;if(!l)return[];for(var m=je(l-1),S=arguments[0],O=l;O--;)m[O-1]=arguments[O];return Sn(Vt(S)?qr(S):[S],Or(m,1))}var ul=Xt(function(l,m){return Mr(l)?si(l,Or(m,1,Mr,!0)):[]}),cl=Xt(function(l,m){var S=nn(m);return Mr(S)&&(S=n),Mr(l)?si(l,Or(m,1,Mr,!0),Ut(S,2)):[]}),ll=Xt(function(l,m){var S=nn(m);return Mr(S)&&(S=n),Mr(l)?si(l,Or(m,1,Mr,!0),n,S):[]});function hl(l,m,S){var O=l==null?0:l.length;return O?(m=S||m===n?1:Yt(m),rn(l,m<0?0:m,O)):[]}function dl(l,m,S){var O=l==null?0:l.length;return O?(m=S||m===n?1:Yt(m),m=O-m,rn(l,0,m<0?0:m)):[]}function pl(l,m){return l&&l.length?Ui(l,Ut(m,3),!0,!0):[]}function yl(l,m){return l&&l.length?Ui(l,Ut(m,3),!0):[]}function ml(l,m,S,O){var Y=l==null?0:l.length;return Y?(S&&typeof S!="number"&&Nr(l,m,S)&&(S=0,O=Y),fc(l,m,S,O)):[]}function js(l,m,S){var O=l==null?0:l.length;if(!O)return-1;var Y=S==null?0:Yt(S);return Y<0&&(Y=Cr(O+Y,0)),bi(l,Ut(m,3),Y)}function Ks(l,m,S){var O=l==null?0:l.length;if(!O)return-1;var Y=O-1;return S!==n&&(Y=Yt(S),Y=S<0?Cr(O+Y,0):Dr(Y,O-1)),bi(l,Ut(m,3),Y,!0)}function Hs(l){var m=l==null?0:l.length;return m?Or(l,1):[]}function vl(l){var m=l==null?0:l.length;return m?Or(l,q):[]}function gl(l,m){var S=l==null?0:l.length;return S?(m=m===n?1:Yt(m),Or(l,m)):[]}function bl(l){for(var m=-1,S=l==null?0:l.length,O={};++m<S;){var Y=l[m];O[Y[0]]=Y[1]}return O}function zs(l){return l&&l.length?l[0]:n}function _l(l,m,S){var O=l==null?0:l.length;if(!O)return-1;var Y=S==null?0:Yt(S);return Y<0&&(Y=Cr(O+Y,0)),qn(l,m,Y)}function wl(l){var m=l==null?0:l.length;return m?rn(l,0,-1):[]}var xl=Xt(function(l){var m=Er(l,Oa);return m.length&&m[0]===l[0]?$a(m):[]}),El=Xt(function(l){var m=nn(l),S=Er(l,Oa);return m===nn(S)?m=n:S.pop(),S.length&&S[0]===l[0]?$a(S,Ut(m,2)):[]}),Sl=Xt(function(l){var m=nn(l),S=Er(l,Oa);return m=typeof m=="function"?m:n,m&&S.pop(),S.length&&S[0]===l[0]?$a(S,n,m):[]});function $l(l,m){return l==null?"":_u.call(l,m)}function nn(l){var m=l==null?0:l.length;return m?l[m-1]:n}function Al(l,m,S){var O=l==null?0:l.length;if(!O)return-1;var Y=O;return S!==n&&(Y=Yt(S),Y=Y<0?Cr(O+Y,0):Dr(Y,O-1)),m===m?iu(l,m,Y):bi(l,Eo,Y,!0)}function kl(l,m){return l&&l.length?es(l,Yt(m)):n}var Ml=Xt(Ws);function Ws(l,m){return l&&l.length&&m&&m.length?Ba(l,m):l}function Tl(l,m,S){return l&&l.length&&m&&m.length?Ba(l,m,Ut(S,2)):l}function Il(l,m,S){return l&&l.length&&m&&m.length?Ba(l,m,n,S):l}var Cl=vn(function(l,m){var S=l==null?0:l.length,O=wa(l,m);return ns(l,Er(m,function(Y){return gn(Y,S)?+Y:Y}).sort(ps)),O});function Pl(l,m){var S=[];if(!(l&&l.length))return S;var O=-1,Y=[],ce=l.length;for(m=Ut(m,3);++O<ce;){var ye=l[O];m(ye,O,l)&&(S.push(ye),Y.push(O))}return ns(l,Y),S}function Ya(l){return l==null?l:Su.call(l)}function Rl(l,m,S){var O=l==null?0:l.length;return O?(S&&typeof S!="number"&&Nr(l,m,S)?(m=0,S=O):(m=m==null?0:Yt(m),S=S===n?O:Yt(S)),rn(l,m,S)):[]}function Ol(l,m){return Ni(l,m)}function Dl(l,m,S){return Ca(l,m,Ut(S,2))}function Fl(l,m){var S=l==null?0:l.length;if(S){var O=Ni(l,m);if(O<S&&fn(l[O],m))return O}return-1}function Ll(l,m){return Ni(l,m,!0)}function Nl(l,m,S){return Ca(l,m,Ut(S,2),!0)}function Ul(l,m){var S=l==null?0:l.length;if(S){var O=Ni(l,m,!0)-1;if(fn(l[O],m))return O}return-1}function ql(l){return l&&l.length?os(l):[]}function jl(l,m){return l&&l.length?os(l,Ut(m,2)):[]}function Kl(l){var m=l==null?0:l.length;return m?rn(l,1,m):[]}function Hl(l,m,S){return l&&l.length?(m=S||m===n?1:Yt(m),rn(l,0,m<0?0:m)):[]}function zl(l,m,S){var O=l==null?0:l.length;return O?(m=S||m===n?1:Yt(m),m=O-m,rn(l,m<0?0:m,O)):[]}function Wl(l,m){return l&&l.length?Ui(l,Ut(m,3),!1,!0):[]}function Gl(l,m){return l&&l.length?Ui(l,Ut(m,3)):[]}var Vl=Xt(function(l){return Mn(Or(l,1,Mr,!0))}),Yl=Xt(function(l){var m=nn(l);return Mr(m)&&(m=n),Mn(Or(l,1,Mr,!0),Ut(m,2))}),Ql=Xt(function(l){var m=nn(l);return m=typeof m=="function"?m:n,Mn(Or(l,1,Mr,!0),n,m)});function Xl(l){return l&&l.length?Mn(l):[]}function Jl(l,m){return l&&l.length?Mn(l,Ut(m,2)):[]}function Zl(l,m){return m=typeof m=="function"?m:n,l&&l.length?Mn(l,n,m):[]}function Qa(l){if(!(l&&l.length))return[];var m=0;return l=En(l,function(S){if(Mr(S))return m=Cr(S.length,m),!0}),da(m,function(S){return Er(l,ca(S))})}function Gs(l,m){if(!(l&&l.length))return[];var S=Qa(l);return m==null?S:Er(S,function(O){return zr(m,n,O)})}var eh=Xt(function(l,m){return Mr(l)?si(l,m):[]}),th=Xt(function(l){return Ra(En(l,Mr))}),nh=Xt(function(l){var m=nn(l);return Mr(m)&&(m=n),Ra(En(l,Mr),Ut(m,2))}),ih=Xt(function(l){var m=nn(l);return m=typeof m=="function"?m:n,Ra(En(l,Mr),n,m)}),ah=Xt(Qa);function oh(l,m){return cs(l||[],m||[],oi)}function fh(l,m){return cs(l||[],m||[],ci)}var uh=Xt(function(l){var m=l.length,S=m>1?l[m-1]:n;return S=typeof S=="function"?(l.pop(),S):n,Gs(l,S)});function Vs(l){var m=ae(l);return m.__chain__=!0,m}function ch(l,m){return m(l),l}function Yi(l,m){return m(l)}var lh=vn(function(l){var m=l.length,S=m?l[0]:0,O=this.__wrapped__,Y=function(ce){return wa(ce,l)};return m>1||this.__actions__.length||!(O instanceof nr)||!gn(S)?this.thru(Y):(O=O.slice(S,+S+(m?1:0)),O.__actions__.push({func:Yi,args:[Y],thisArg:n}),new en(O,this.__chain__).thru(function(ce){return m&&!ce.length&&ce.push(n),ce}))});function hh(){return Vs(this)}function ph(){return new en(this.value(),this.__chain__)}function yh(){this.__values__===n&&(this.__values__=uf(this.value()));var l=this.__index__>=this.__values__.length,m=l?n:this.__values__[this.__index__++];return{done:l,value:m}}function mh(){return this}function vh(l){for(var m,S=this;S instanceof Ri;){var O=qs(S);O.__index__=0,O.__values__=n,m?Y.__wrapped__=O:m=O;var Y=O;S=S.__wrapped__}return Y.__wrapped__=l,m}function gh(){var l=this.__wrapped__;if(l instanceof nr){var m=l;return this.__actions__.length&&(m=new nr(this)),m=m.reverse(),m.__actions__.push({func:Yi,args:[Ya],thisArg:n}),new en(m,this.__chain__)}return this.thru(Ya)}function bh(){return us(this.__wrapped__,this.__actions__)}var _h=qi(function(l,m,S){gr.call(l,S)?++l[S]:yn(l,S,1)});function wh(l,m,S){var O=Vt(l)?wo:sc;return S&&Nr(l,m,S)&&(m=n),O(l,Ut(m,3))}function xh(l,m){var S=Vt(l)?En:zo;return S(l,Ut(m,3))}var Eh=ws(js),Sh=ws(Ks);function $h(l,m){return Or(Qi(l,m),1)}function Ah(l,m){return Or(Qi(l,m),q)}function kh(l,m,S){return S=S===n?1:Yt(S),Or(Qi(l,m),S)}function Ys(l,m){var S=Vt(l)?Jr:kn;return S(l,Ut(m,3))}function Qs(l,m){var S=Vt(l)?qf:Ho;return S(l,Ut(m,3))}var Mh=qi(function(l,m,S){gr.call(l,S)?l[S].push(m):yn(l,S,[m])});function Bh(l,m,S,O){l=jr(l)?l:Zn(l),S=S&&!O?Yt(S):0;var Y=l.length;return S<0&&(S=Cr(Y+S,0)),ta(l)?S<=Y&&l.indexOf(m,S)>-1:!!Y&&qn(l,m,S)>-1}var Th=Xt(function(l,m,S){var O=-1,Y=typeof m=="function",ce=jr(l)?je(l.length):[];return kn(l,function(ye){ce[++O]=Y?zr(m,ye,S):fi(ye,m,S)}),ce}),Ih=qi(function(l,m,S){yn(l,S,m)});function Qi(l,m){var S=Vt(l)?Er:Xo;return S(l,Ut(m,3))}function Ch(l,m,S,O){return l==null?[]:(Vt(m)||(m=m==null?[]:[m]),S=O?n:S,Vt(S)||(S=S==null?[]:[S]),ts(l,m,S))}var Ph=qi(function(l,m,S){l[S?0:1].push(m)},function(){return[[],[]]});function Rh(l,m,S){var O=Vt(l)?fa:$o,Y=arguments.length<3;return O(l,Ut(m,4),S,Y,kn)}function Oh(l,m,S){var O=Vt(l)?jf:$o,Y=arguments.length<3;return O(l,Ut(m,4),S,Y,Ho)}function Dh(l,m){var S=Vt(l)?En:zo;return S(l,Zi(Ut(m,3)))}function Fh(l){var m=Vt(l)?Uo:$c;return m(l)}function Lh(l,m,S){(S?Nr(l,m,S):m===n)?m=1:m=Yt(m);var O=Vt(l)?rc:Ac;return O(l,m)}function Nh(l){var m=Vt(l)?nc:Mc;return m(l)}function Uh(l){if(l==null)return 0;if(jr(l))return ta(l)?Kn(l):l.length;var m=Fr(l);return m==Ge||m==Ie?l.size:ka(l).length}function qh(l,m,S){var O=Vt(l)?ua:Bc;return S&&Nr(l,m,S)&&(m=n),O(l,Ut(m,3))}var jh=Xt(function(l,m){if(l==null)return[];var S=m.length;return S>1&&Nr(l,m[0],m[1])?m=[]:S>2&&Nr(m[0],m[1],m[2])&&(m=[m[0]]),ts(l,Or(m,1),[])}),Xi=vu||function(){return Rr.Date.now()};function Hh(l,m){if(typeof m!="function")throw new Zr(c);return l=Yt(l),function(){if(--l<1)return m.apply(this,arguments)}}function Xs(l,m,S){return m=S?n:m,m=l&&m==null?l.length:m,mn(l,xe,n,n,n,n,m)}function Js(l,m){var S;if(typeof m!="function")throw new Zr(c);return l=Yt(l),function(){return--l>0&&(S=m.apply(this,arguments)),l<=1&&(m=n),S}}var Xa=Xt(function(l,m,S){var O=C;if(S.length){var Y=$n(S,Xn(Xa));O|=re}return mn(l,O,m,S,Y)}),Zs=Xt(function(l,m,S){var O=C|P;if(S.length){var Y=$n(S,Xn(Zs));O|=re}return mn(m,O,l,S,Y)});function ef(l,m,S){m=S?n:m;var O=mn(l,J,n,n,n,n,n,m);return O.placeholder=ef.placeholder,O}function tf(l,m,S){m=S?n:m;var O=mn(l,X,n,n,n,n,n,m);return O.placeholder=tf.placeholder,O}function rf(l,m,S){var O,Y,ce,ye,Ee,Ce,Qe=0,Xe=!1,rt=!1,gt=!0;if(typeof l!="function")throw new Zr(c);m=an(m)||0,$r(S)&&(Xe=!!S.leading,rt="maxWait"in S,ce=rt?Cr(an(S.maxWait)||0,m):ce,gt="trailing"in S?!!S.trailing:gt);function At(Br){var un=O,xn=Y;return O=Y=n,Qe=Br,ye=l.apply(xn,un),ye}function qt(Br){return Qe=Br,Ee=di(tr,m),Xe?At(Br):ye}function Qt(Br){var un=Br-Ce,xn=Br-Qe,xf=m-un;return rt?Dr(xf,ce-xn):xf}function jt(Br){var un=Br-Ce,xn=Br-Qe;return Ce===n||un>=m||un<0||rt&&xn>=ce}function tr(){var Br=Xi();if(jt(Br))return ir(Br);Ee=di(tr,Qt(Br))}function ir(Br){return Ee=n,gt&&O?At(Br):(O=Y=n,ye)}function Yr(){Ee!==n&&ls(Ee),Qe=0,O=Ce=Y=Ee=n}function Ur(){return Ee===n?ye:ir(Xi())}function Qr(){var Br=Xi(),un=jt(Br);if(O=arguments,Y=this,Ce=Br,un){if(Ee===n)return qt(Ce);if(rt)return ls(Ee),Ee=di(tr,m),At(Ce)}return Ee===n&&(Ee=di(tr,m)),ye}return Qr.cancel=Yr,Qr.flush=Ur,Qr}var zh=Xt(function(l,m){return Ko(l,1,m)}),Wh=Xt(function(l,m,S){return Ko(l,an(m)||0,S)});function Gh(l){return mn(l,Pe)}function Ji(l,m){if(typeof l!="function"||m!=null&&typeof m!="function")throw new Zr(c);var S=function(){var O=arguments,Y=m?m.apply(this,O):O[0],ce=S.cache;if(ce.has(Y))return ce.get(Y);var ye=l.apply(this,O);return S.cache=ce.set(Y,ye)||ce,ye};return S.cache=new(Ji.Cache||pn),S}Ji.Cache=pn;function Zi(l){if(typeof l!="function")throw new Zr(c);return function(){var m=arguments;switch(m.length){case 0:return!l.call(this);case 1:return!l.call(this,m[0]);case 2:return!l.call(this,m[0],m[1]);case 3:return!l.call(this,m[0],m[1],m[2])}return!l.apply(this,m)}}function Vh(l){return Js(2,l)}var Yh=Tc(function(l,m){m=m.length==1&&Vt(m[0])?Er(m[0],Wr(Ut())):Er(Or(m,1),Wr(Ut()));var S=m.length;return Xt(function(O){for(var Y=-1,ce=Dr(O.length,S);++Y<ce;)O[Y]=m[Y].call(this,O[Y]);return zr(l,this,O)})}),Ja=Xt(function(l,m){var S=$n(m,Xn(Ja));return mn(l,re,n,m,S)}),nf=Xt(function(l,m){var S=$n(m,Xn(nf));return mn(l,de,n,m,S)}),Qh=vn(function(l,m){return mn(l,$e,n,n,n,m)});function Xh(l,m){if(typeof l!="function")throw new Zr(c);return m=m===n?m:Yt(m),Xt(l,m)}function Jh(l,m){if(typeof l!="function")throw new Zr(c);return m=m==null?0:Cr(Yt(m),0),Xt(function(S){var O=S[m],Y=Tn(S,0,m);return O&&Sn(Y,O),zr(l,this,Y)})}function Zh(l,m,S){var O=!0,Y=!0;if(typeof l!="function")throw new Zr(c);return $r(S)&&(O="leading"in S?!!S.leading:O,Y="trailing"in S?!!S.trailing:Y),rf(l,m,{leading:O,maxWait:m,trailing:Y})}function ed(l){return Xs(l,1)}function td(l,m){return Ja(Da(m),l)}function rd(){if(!arguments.length)return[];var l=arguments[0];return Vt(l)?l:[l]}function nd(l){return tn(l,w)}function id(l,m){return m=typeof m=="function"?m:n,tn(l,w,m)}function ad(l){return tn(l,b|w)}function od(l,m){return m=typeof m=="function"?m:n,tn(l,b|w,m)}function sd(l,m){return m==null||jo(l,m,Pr(m))}function fn(l,m){return l===m||l!==l&&m!==m}var fd=zi(Sa),ud=zi(function(l,m){return l>=m}),Un=Vo(function(){return arguments}())?Vo:function(l){return Ar(l)&&gr.call(l,"callee")&&!Ro.call(l,"callee")},Vt=je.isArray,cd=yo?Wr(yo):dc;function jr(l){return l!=null&&ea(l.length)&&!_n(l)}function Mr(l){return Ar(l)&&jr(l)}function ld(l){return l===!0||l===!1||Ar(l)&&Lr(l)==Me}var In=bu||uo,hd=mo?Wr(mo):pc;function dd(l){return Ar(l)&&l.nodeType===1&&!pi(l)}function pd(l){if(l==null)return!0;if(jr(l)&&(Vt(l)||typeof l=="string"||typeof l.splice=="function"||In(l)||Jn(l)||Un(l)))return!l.length;var m=Fr(l);if(m==Ge||m==Ie)return!l.size;if(hi(l))return!ka(l).length;for(var S in l)if(gr.call(l,S))return!1;return!0}function yd(l,m){return ui(l,m)}function md(l,m,S){S=typeof S=="function"?S:n;var O=S?S(l,m):n;return O===n?ui(l,m,n,S):!!O}function Za(l){if(!Ar(l))return!1;var m=Lr(l);return m==le||m==Je||typeof l.message=="string"&&typeof l.name=="string"&&!pi(l)}function vd(l){return typeof l=="number"&&Do(l)}function _n(l){if(!$r(l))return!1;var m=Lr(l);return m==ue||m==qe||m==be||m==Q}function af(l){return typeof l=="number"&&l==Yt(l)}function ea(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=G}function $r(l){var m=typeof l;return l!=null&&(m=="object"||m=="function")}function Ar(l){return l!=null&&typeof l=="object"}var of=vo?Wr(vo):mc;function gd(l,m){return l===m||Aa(l,m,Ka(m))}function bd(l,m,S){return S=typeof S=="function"?S:n,Aa(l,m,Ka(m),S)}function _d(l){return sf(l)&&l!=+l}function wd(l){if(Zc(l))throw new Gt(u);return Yo(l)}function xd(l){return l===null}function Ed(l){return l==null}function sf(l){return typeof l=="number"||Ar(l)&&Lr(l)==ot}function pi(l){if(!Ar(l)||Lr(l)!=L)return!1;var m=ki(l);if(m===null)return!0;var S=gr.call(m,"constructor")&&m.constructor;return typeof S=="function"&&S instanceof S&&Ei.call(S)==du}var eo=go?Wr(go):vc;function Sd(l){return af(l)&&l>=-G&&l<=G}var ff=bo?Wr(bo):gc;function ta(l){return typeof l=="string"||!Vt(l)&&Ar(l)&&Lr(l)==Ke}function Vr(l){return typeof l=="symbol"||Ar(l)&&Lr(l)==dt}var Jn=_o?Wr(_o):bc;function $d(l){return l===n}function Ad(l){return Ar(l)&&Fr(l)==Te}function kd(l){return Ar(l)&&Lr(l)==Ue}var Md=zi(Ma),Bd=zi(function(l,m){return l<=m});function uf(l){if(!l)return[];if(jr(l))return ta(l)?on(l):qr(l);if(ti&&l[ti])return tu(l[ti]());var m=Fr(l),S=m==Ge?ya:m==Ie?_i:Zn;return S(l)}function wn(l){if(!l)return l===0?l:0;if(l=an(l),l===q||l===-q){var m=l<0?-1:1;return m*j}return l===l?l:0}function Yt(l){var m=wn(l),S=m%1;return m===m?S?m-S:m:0}function cf(l){return l?Dn(Yt(l),0,F):0}function an(l){if(typeof l=="number")return l;if(Vr(l))return T;if($r(l)){var m=typeof l.valueOf=="function"?l.valueOf():l;l=$r(m)?m+"":m}if(typeof l!="string")return l===0?l:+l;l=Ao(l);var S=Wt.test(l);return S||kt.test(l)?Lf(l.slice(2),S?2:8):nt.test(l)?T:+l}function lf(l){return ln(l,Kr(l))}function Td(l){return l?Dn(Yt(l),-G,G):l===0?l:0}function yr(l){return l==null?"":Gr(l)}var Id=Yn(function(l,m){if(hi(m)||jr(m)){ln(m,Pr(m),l);return}for(var S in m)gr.call(m,S)&&oi(l,S,m[S])}),hf=Yn(function(l,m){ln(m,Kr(m),l)}),ra=Yn(function(l,m,S,O){ln(m,Kr(m),l,O)}),Cd=Yn(function(l,m,S,O){ln(m,Pr(m),l,O)}),Pd=vn(wa);function Rd(l,m){var S=Vn(l);return m==null?S:qo(S,m)}var Od=Xt(function(l,m){l=br(l);var S=-1,O=m.length,Y=O>2?m[2]:n;for(Y&&Nr(m[0],m[1],Y)&&(O=1);++S<O;)for(var ce=m[S],ye=Kr(ce),Ee=-1,Ce=ye.length;++Ee<Ce;){var Qe=ye[Ee],Xe=l[Qe];(Xe===n||fn(Xe,zn[Qe])&&!gr.call(l,Qe))&&(l[Qe]=ce[Qe])}return l}),Dd=Xt(function(l){return l.push(n,Ms),zr(df,n,l)});function Fd(l,m){return xo(l,Ut(m,3),cn)}function Ld(l,m){return xo(l,Ut(m,3),Ea)}function Nd(l,m){return l==null?l:xa(l,Ut(m,3),Kr)}function Ud(l,m){return l==null?l:Wo(l,Ut(m,3),Kr)}function qd(l,m){return l&&cn(l,Ut(m,3))}function jd(l,m){return l&&Ea(l,Ut(m,3))}function Kd(l){return l==null?[]:Fi(l,Pr(l))}function Hd(l){return l==null?[]:Fi(l,Kr(l))}function to(l,m,S){var O=l==null?n:Fn(l,m);return O===n?S:O}function zd(l,m){return l!=null&&Is(l,m,uc)}function ro(l,m){return l!=null&&Is(l,m,cc)}var Wd=Es(function(l,m,S){m!=null&&typeof m.toString!="function"&&(m=Si.call(m)),l[m]=S},io(Hr)),Gd=Es(function(l,m,S){m!=null&&typeof m.toString!="function"&&(m=Si.call(m)),gr.call(l,m)?l[m].push(S):l[m]=[S]},Ut),Vd=Xt(fi);function Pr(l){return jr(l)?No(l):ka(l)}function Kr(l){return jr(l)?No(l,!0):_c(l)}function Yd(l,m){var S={};return m=Ut(m,3),cn(l,function(O,Y,ce){yn(S,m(O,Y,ce),O)}),S}function Qd(l,m){var S={};return m=Ut(m,3),cn(l,function(O,Y,ce){yn(S,Y,m(O,Y,ce))}),S}var Xd=Yn(function(l,m,S){Li(l,m,S)}),df=Yn(function(l,m,S,O){Li(l,m,S,O)}),Jd=vn(function(l,m){var S={};if(l==null)return S;var O=!1;m=Er(m,function(ce){return ce=Bn(ce,l),O||(O=ce.length>1),ce}),ln(l,qa(l),S),O&&(S=tn(S,b|_|w,qc));for(var Y=m.length;Y--;)Pa(S,m[Y]);return S});function Zd(l,m){return pf(l,Zi(Ut(m)))}var e0=vn(function(l,m){return l==null?{}:xc(l,m)});function pf(l,m){if(l==null)return{};var S=Er(qa(l),function(O){return[O]});return m=Ut(m),rs(l,S,function(O,Y){return m(O,Y[0])})}function t0(l,m,S){m=Bn(m,l);var O=-1,Y=m.length;for(Y||(Y=1,l=n);++O<Y;){var ce=l==null?n:l[hn(m[O])];ce===n&&(O=Y,ce=S),l=_n(ce)?ce.call(l):ce}return l}function r0(l,m,S){return l==null?l:ci(l,m,S)}function n0(l,m,S,O){return O=typeof O=="function"?O:n,l==null?l:ci(l,m,S,O)}var yf=As(Pr),mf=As(Kr);function i0(l,m,S){var O=Vt(l),Y=O||In(l)||Jn(l);if(m=Ut(m,4),S==null){var ce=l&&l.constructor;Y?S=O?new ce:[]:$r(l)?S=_n(ce)?Vn(ki(l)):{}:S={}}return(Y?Jr:cn)(l,function(ye,Ee,Ce){return m(S,ye,Ee,Ce)}),S}function a0(l,m){return l==null?!0:Pa(l,m)}function o0(l,m,S){return l==null?l:fs(l,m,Da(S))}function s0(l,m,S,O){return O=typeof O=="function"?O:n,l==null?l:fs(l,m,Da(S),O)}function Zn(l){return l==null?[]:pa(l,Pr(l))}function f0(l){return l==null?[]:pa(l,Kr(l))}function u0(l,m,S){return S===n&&(S=m,m=n),S!==n&&(S=an(S),S=S===S?S:0),m!==n&&(m=an(m),m=m===m?m:0),Dn(an(l),m,S)}function c0(l,m,S){return m=wn(m),S===n?(S=m,m=0):S=wn(S),l=an(l),lc(l,m,S)}function l0(l,m,S){if(S&&typeof S!="boolean"&&Nr(l,m,S)&&(m=S=n),S===n&&(typeof m=="boolean"?(S=m,m=n):typeof l=="boolean"&&(S=l,l=n)),l===n&&m===n?(l=0,m=1):(l=wn(l),m===n?(m=l,l=0):m=wn(m)),l>m){var O=l;l=m,m=O}if(S||l%1||m%1){var Y=Fo();return Dr(l+Y*(m-l+Ff("1e-"+((Y+"").length-1))),m)}return Ta(l,m)}var h0=Qn(function(l,m,S){return m=m.toLowerCase(),l+(S?vf(m):m)});function vf(l){return no(yr(l).toLowerCase())}function gf(l){return l=yr(l),l&&l.replace(Ot,Qf).replace(kf,"")}function d0(l,m,S){l=yr(l),m=Gr(m);var O=l.length;S=S===n?O:Dn(Yt(S),0,O);var Y=S;return S-=m.length,S>=0&&l.slice(S,Y)==m}function p0(l){return l=yr(l),l&&er.test(l)?l.replace(Ht,Xf):l}function y0(l){return l=yr(l),l&&pr.test(l)?l.replace($t,"\\$&"):l}var m0=Qn(function(l,m,S){return l+(S?"-":"")+m.toLowerCase()}),g0=Qn(function(l,m,S){return l+(S?" ":"")+m.toLowerCase()}),b0=_s("toLowerCase");function _0(l,m,S){l=yr(l),m=Yt(m);var O=m?Kn(l):0;if(!m||O>=m)return l;var Y=(m-O)/2;return Hi(Ii(Y),S)+l+Hi(Ti(Y),S)}function w0(l,m,S){l=yr(l),m=Yt(m);var O=m?Kn(l):0;return m&&O<m?l+Hi(m-O,S):l}function x0(l,m,S){l=yr(l),m=Yt(m);var O=m?Kn(l):0;return m&&O<m?Hi(m-O,S)+l:l}function E0(l,m,S){return S||m==null?m=0:m&&(m=+m),Eu(yr(l).replace(U,""),m||0)}function S0(l,m,S){return(S?Nr(l,m,S):m===n)?m=1:m=Yt(m),Ia(yr(l),m)}function $0(){var l=arguments,m=yr(l[0]);return l.length<3?m:m.replace(l[1],l[2])}var A0=Qn(function(l,m,S){return l+(S?"_":"")+m.toLowerCase()});function k0(l,m,S){return S&&typeof S!="number"&&Nr(l,m,S)&&(m=S=n),S=S===n?F:S>>>0,S?(l=yr(l),l&&(typeof m=="string"||m!=null&&!eo(m))&&(m=Gr(m),!m&&jn(l))?Tn(on(l),0,S):l.split(m,S)):[]}var M0=Qn(function(l,m,S){return l+(S?" ":"")+no(m)});function B0(l,m,S){return l=yr(l),S=S==null?0:Dn(Yt(S),0,l.length),m=Gr(m),l.slice(S,S+m.length)==m}function T0(l,m,S){var O=ae.templateSettings;S&&Nr(l,m,S)&&(m=n),l=yr(l),m=ra({},m,O,ks);var Y=ra({},m.imports,O.imports,ks),ce=Pr(Y),ye=pa(Y,ce),Ee,Ce,Qe=0,Xe=m.interpolate||It,rt="__p += '",gt=ma((m.escape||It).source+"|"+Xe.source+"|"+(Xe===fr?Ye:It).source+"|"+(m.evaluate||It).source+"|$","g"),At="//# sourceURL="+(gr.call(m,"sourceURL")?(m.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Cf+"]")+`
`;l.replace(gt,function(jt,tr,ir,Yr,Ur,Qr){return ir||(ir=Yr),rt+=l.slice(Qe,Qr).replace(Mt,Jf),tr&&(Ee=!0,rt+=`' +
__e(`+tr+`) +
'`),Ur&&(Ce=!0,rt+=`';
`+Ur+`;
__p += '`),ir&&(rt+=`' +
((__t = (`+ir+`)) == null ? '' : __t) +
'`),Qe=Qr+jt.length,jt}),rt+=`';
`;var qt=gr.call(m,"variable")&&m.variable;if(!qt)rt=`with (obj) {
`+rt+`
}
`;else if(Ae.test(qt))throw new Gt(d);rt=(Ce?rt.replace(ar,""):rt).replace(Lt,"$1").replace(Jt,"$1;"),rt="function("+(qt||"obj")+`) {
`+(qt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Ee?", __e = _.escape":"")+(Ce?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+rt+`return __p
}`;var Qt=_f(function(){return lr(ce,At+"return "+rt).apply(n,ye)});if(Qt.source=rt,Za(Qt))throw Qt;return Qt}function I0(l){return yr(l).toLowerCase()}function C0(l){return yr(l).toUpperCase()}function P0(l,m,S){if(l=yr(l),l&&(S||m===n))return Ao(l);if(!l||!(m=Gr(m)))return l;var O=on(l),Y=on(m),ce=ko(O,Y),ye=Mo(O,Y)+1;return Tn(O,ce,ye).join("")}function R0(l,m,S){if(l=yr(l),l&&(S||m===n))return l.slice(0,To(l)+1);if(!l||!(m=Gr(m)))return l;var O=on(l),Y=Mo(O,on(m))+1;return Tn(O,0,Y).join("")}function O0(l,m,S){if(l=yr(l),l&&(S||m===n))return l.replace(U,"");if(!l||!(m=Gr(m)))return l;var O=on(l),Y=ko(O,on(m));return Tn(O,Y).join("")}function D0(l,m){var S=it,O=fe;if($r(m)){var Y="separator"in m?m.separator:Y;S="length"in m?Yt(m.length):S,O="omission"in m?Gr(m.omission):O}l=yr(l);var ce=l.length;if(jn(l)){var ye=on(l);ce=ye.length}if(S>=ce)return l;var Ee=S-Kn(O);if(Ee<1)return O;var Ce=ye?Tn(ye,0,Ee).join(""):l.slice(0,Ee);if(Y===n)return Ce+O;if(ye&&(Ee+=Ce.length-Ee),eo(Y)){if(l.slice(Ee).search(Y)){var Qe,Xe=Ce;for(Y.global||(Y=ma(Y.source,yr(st.exec(Y))+"g")),Y.lastIndex=0;Qe=Y.exec(Xe);)var rt=Qe.index;Ce=Ce.slice(0,rt===n?Ee:rt)}}else if(l.indexOf(Gr(Y),Ee)!=Ee){var gt=Ce.lastIndexOf(Y);gt>-1&&(Ce=Ce.slice(0,gt))}return Ce+O}function F0(l){return l=yr(l),l&&hr.test(l)?l.replace(ur,au):l}var L0=Qn(function(l,m,S){return l+(S?" ":"")+m.toUpperCase()}),no=_s("toUpperCase");function bf(l,m,S){return l=yr(l),m=S?n:m,m===n?eu(l)?fu(l):zf(l):l.match(m)||[]}var _f=Xt(function(l,m){try{return zr(l,n,m)}catch(S){return Za(S)?S:new Gt(S)}}),N0=vn(function(l,m){return Jr(m,function(S){S=hn(S),yn(l,S,Xa(l[S],l))}),l});function U0(l){var m=l==null?0:l.length,S=Ut();return l=m?Er(l,function(O){if(typeof O[1]!="function")throw new Zr(c);return[S(O[0]),O[1]]}):[],Xt(function(O){for(var Y=-1;++Y<m;){var ce=l[Y];if(zr(ce[0],this,O))return zr(ce[1],this,O)}})}function q0(l){return oc(tn(l,b))}function io(l){return function(){return l}}function j0(l,m){return l==null||l!==l?m:l}var K0=xs(),H0=xs(!0);function Hr(l){return l}function ao(l){return Qo(typeof l=="function"?l:tn(l,b))}function z0(l){return Jo(tn(l,b))}function W0(l,m){return Zo(l,tn(m,b))}var G0=Xt(function(l,m){return function(S){return fi(S,l,m)}}),V0=Xt(function(l,m){return function(S){return fi(l,S,m)}});function oo(l,m,S){var O=Pr(m),Y=Fi(m,O);S==null&&!($r(m)&&(Y.length||!O.length))&&(S=m,m=l,l=this,Y=Fi(m,Pr(m)));var ce=!($r(S)&&"chain"in S)||!!S.chain,ye=_n(l);return Jr(Y,function(Ee){var Ce=m[Ee];l[Ee]=Ce,ye&&(l.prototype[Ee]=function(){var Qe=this.__chain__;if(ce||Qe){var Xe=l(this.__wrapped__),rt=Xe.__actions__=qr(this.__actions__);return rt.push({func:Ce,args:arguments,thisArg:l}),Xe.__chain__=Qe,Xe}return Ce.apply(l,Sn([this.value()],arguments))})}),l}function Y0(){return Rr._===this&&(Rr._=pu),this}function so(){}function Q0(l){return l=Yt(l),Xt(function(m){return es(m,l)})}var X0=La(Er),J0=La(wo),Z0=La(ua);function wf(l){return za(l)?ca(hn(l)):Ec(l)}function ep(l){return function(m){return l==null?n:Fn(l,m)}}var tp=Ss(),rp=Ss(!0);function fo(){return[]}function uo(){return!1}function np(){return{}}function ip(){return""}function ap(){return!0}function op(l,m){if(l=Yt(l),l<1||l>G)return[];var S=F,O=Dr(l,F);m=Ut(m),l-=F;for(var Y=da(O,m);++S<l;)m(S);return Y}function sp(l){return Vt(l)?Er(l,hn):Vr(l)?[l]:qr(Us(yr(l)))}function fp(l){var m=++hu;return yr(l)+m}var up=Ki(function(l,m){return l+m},0),cp=Na("ceil"),lp=Ki(function(l,m){return l/m},1),hp=Na("floor");function dp(l){return l&&l.length?Di(l,Hr,Sa):n}function pp(l,m){return l&&l.length?Di(l,Ut(m,2),Sa):n}function yp(l){return So(l,Hr)}function mp(l,m){return So(l,Ut(m,2))}function vp(l){return l&&l.length?Di(l,Hr,Ma):n}function gp(l,m){return l&&l.length?Di(l,Ut(m,2),Ma):n}var bp=Ki(function(l,m){return l*m},1),_p=Na("round"),wp=Ki(function(l,m){return l-m},0);function xp(l){return l&&l.length?ha(l,Hr):0}function Ep(l,m){return l&&l.length?ha(l,Ut(m,2)):0}return ae.after=Hh,ae.ary=Xs,ae.assign=Id,ae.assignIn=hf,ae.assignInWith=ra,ae.assignWith=Cd,ae.at=Pd,ae.before=Js,ae.bind=Xa,ae.bindAll=N0,ae.bindKey=Zs,ae.castArray=rd,ae.chain=Vs,ae.chunk=ol,ae.compact=sl,ae.concat=fl,ae.cond=U0,ae.conforms=q0,ae.constant=io,ae.countBy=_h,ae.create=Rd,ae.curry=ef,ae.curryRight=tf,ae.debounce=rf,ae.defaults=Od,ae.defaultsDeep=Dd,ae.defer=zh,ae.delay=Wh,ae.difference=ul,ae.differenceBy=cl,ae.differenceWith=ll,ae.drop=hl,ae.dropRight=dl,ae.dropRightWhile=pl,ae.dropWhile=yl,ae.fill=ml,ae.filter=xh,ae.flatMap=$h,ae.flatMapDeep=Ah,ae.flatMapDepth=kh,ae.flatten=Hs,ae.flattenDeep=vl,ae.flattenDepth=gl,ae.flip=Gh,ae.flow=K0,ae.flowRight=H0,ae.fromPairs=bl,ae.functions=Kd,ae.functionsIn=Hd,ae.groupBy=Mh,ae.initial=wl,ae.intersection=xl,ae.intersectionBy=El,ae.intersectionWith=Sl,ae.invert=Wd,ae.invertBy=Gd,ae.invokeMap=Th,ae.iteratee=ao,ae.keyBy=Ih,ae.keys=Pr,ae.keysIn=Kr,ae.map=Qi,ae.mapKeys=Yd,ae.mapValues=Qd,ae.matches=z0,ae.matchesProperty=W0,ae.memoize=Ji,ae.merge=Xd,ae.mergeWith=df,ae.method=G0,ae.methodOf=V0,ae.mixin=oo,ae.negate=Zi,ae.nthArg=Q0,ae.omit=Jd,ae.omitBy=Zd,ae.once=Vh,ae.orderBy=Ch,ae.over=X0,ae.overArgs=Yh,ae.overEvery=J0,ae.overSome=Z0,ae.partial=Ja,ae.partialRight=nf,ae.partition=Ph,ae.pick=e0,ae.pickBy=pf,ae.property=wf,ae.propertyOf=ep,ae.pull=Ml,ae.pullAll=Ws,ae.pullAllBy=Tl,ae.pullAllWith=Il,ae.pullAt=Cl,ae.range=tp,ae.rangeRight=rp,ae.rearg=Qh,ae.reject=Dh,ae.remove=Pl,ae.rest=Xh,ae.reverse=Ya,ae.sampleSize=Lh,ae.set=r0,ae.setWith=n0,ae.shuffle=Nh,ae.slice=Rl,ae.sortBy=jh,ae.sortedUniq=ql,ae.sortedUniqBy=jl,ae.split=k0,ae.spread=Jh,ae.tail=Kl,ae.take=Hl,ae.takeRight=zl,ae.takeRightWhile=Wl,ae.takeWhile=Gl,ae.tap=ch,ae.throttle=Zh,ae.thru=Yi,ae.toArray=uf,ae.toPairs=yf,ae.toPairsIn=mf,ae.toPath=sp,ae.toPlainObject=lf,ae.transform=i0,ae.unary=ed,ae.union=Vl,ae.unionBy=Yl,ae.unionWith=Ql,ae.uniq=Xl,ae.uniqBy=Jl,ae.uniqWith=Zl,ae.unset=a0,ae.unzip=Qa,ae.unzipWith=Gs,ae.update=o0,ae.updateWith=s0,ae.values=Zn,ae.valuesIn=f0,ae.without=eh,ae.words=bf,ae.wrap=td,ae.xor=th,ae.xorBy=nh,ae.xorWith=ih,ae.zip=ah,ae.zipObject=oh,ae.zipObjectDeep=fh,ae.zipWith=uh,ae.entries=yf,ae.entriesIn=mf,ae.extend=hf,ae.extendWith=ra,oo(ae,ae),ae.add=up,ae.attempt=_f,ae.camelCase=h0,ae.capitalize=vf,ae.ceil=cp,ae.clamp=u0,ae.clone=nd,ae.cloneDeep=ad,ae.cloneDeepWith=od,ae.cloneWith=id,ae.conformsTo=sd,ae.deburr=gf,ae.defaultTo=j0,ae.divide=lp,ae.endsWith=d0,ae.eq=fn,ae.escape=p0,ae.escapeRegExp=y0,ae.every=wh,ae.find=Eh,ae.findIndex=js,ae.findKey=Fd,ae.findLast=Sh,ae.findLastIndex=Ks,ae.findLastKey=Ld,ae.floor=hp,ae.forEach=Ys,ae.forEachRight=Qs,ae.forIn=Nd,ae.forInRight=Ud,ae.forOwn=qd,ae.forOwnRight=jd,ae.get=to,ae.gt=fd,ae.gte=ud,ae.has=zd,ae.hasIn=ro,ae.head=zs,ae.identity=Hr,ae.includes=Bh,ae.indexOf=_l,ae.inRange=c0,ae.invoke=Vd,ae.isArguments=Un,ae.isArray=Vt,ae.isArrayBuffer=cd,ae.isArrayLike=jr,ae.isArrayLikeObject=Mr,ae.isBoolean=ld,ae.isBuffer=In,ae.isDate=hd,ae.isElement=dd,ae.isEmpty=pd,ae.isEqual=yd,ae.isEqualWith=md,ae.isError=Za,ae.isFinite=vd,ae.isFunction=_n,ae.isInteger=af,ae.isLength=ea,ae.isMap=of,ae.isMatch=gd,ae.isMatchWith=bd,ae.isNaN=_d,ae.isNative=wd,ae.isNil=Ed,ae.isNull=xd,ae.isNumber=sf,ae.isObject=$r,ae.isObjectLike=Ar,ae.isPlainObject=pi,ae.isRegExp=eo,ae.isSafeInteger=Sd,ae.isSet=ff,ae.isString=ta,ae.isSymbol=Vr,ae.isTypedArray=Jn,ae.isUndefined=$d,ae.isWeakMap=Ad,ae.isWeakSet=kd,ae.join=$l,ae.kebabCase=m0,ae.last=nn,ae.lastIndexOf=Al,ae.lowerCase=g0,ae.lowerFirst=b0,ae.lt=Md,ae.lte=Bd,ae.max=dp,ae.maxBy=pp,ae.mean=yp,ae.meanBy=mp,ae.min=vp,ae.minBy=gp,ae.stubArray=fo,ae.stubFalse=uo,ae.stubObject=np,ae.stubString=ip,ae.stubTrue=ap,ae.multiply=bp,ae.nth=kl,ae.noConflict=Y0,ae.noop=so,ae.now=Xi,ae.pad=_0,ae.padEnd=w0,ae.padStart=x0,ae.parseInt=E0,ae.random=l0,ae.reduce=Rh,ae.reduceRight=Oh,ae.repeat=S0,ae.replace=$0,ae.result=t0,ae.round=_p,ae.runInContext=Be,ae.sample=Fh,ae.size=Uh,ae.snakeCase=A0,ae.some=qh,ae.sortedIndex=Ol,ae.sortedIndexBy=Dl,ae.sortedIndexOf=Fl,ae.sortedLastIndex=Ll,ae.sortedLastIndexBy=Nl,ae.sortedLastIndexOf=Ul,ae.startCase=M0,ae.startsWith=B0,ae.subtract=wp,ae.sum=xp,ae.sumBy=Ep,ae.template=T0,ae.times=op,ae.toFinite=wn,ae.toInteger=Yt,ae.toLength=cf,ae.toLower=I0,ae.toNumber=an,ae.toSafeInteger=Td,ae.toString=yr,ae.toUpper=C0,ae.trim=P0,ae.trimEnd=R0,ae.trimStart=O0,ae.truncate=D0,ae.unescape=F0,ae.uniqueId=fp,ae.upperCase=L0,ae.upperFirst=no,ae.each=Ys,ae.eachRight=Qs,ae.first=zs,oo(ae,function(){var l={};return cn(ae,function(m,S){gr.call(ae.prototype,S)||(l[S]=m)}),l}(),{chain:!1}),ae.VERSION=a,Jr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){ae[l].placeholder=ae}),Jr(["drop","take"],function(l,m){nr.prototype[l]=function(S){S=S===n?1:Cr(Yt(S),0);var O=this.__filtered__&&!m?new nr(this):this.clone();return O.__filtered__?O.__takeCount__=Dr(S,O.__takeCount__):O.__views__.push({size:Dr(S,F),type:l+(O.__dir__<0?"Right":"")}),O},nr.prototype[l+"Right"]=function(S){return this.reverse()[l](S).reverse()}}),Jr(["filter","map","takeWhile"],function(l,m){var S=m+1,O=S==x||S==D;nr.prototype[l]=function(Y){var ce=this.clone();return ce.__iteratees__.push({iteratee:Ut(Y,3),type:S}),ce.__filtered__=ce.__filtered__||O,ce}}),Jr(["head","last"],function(l,m){var S="take"+(m?"Right":"");nr.prototype[l]=function(){return this[S](1).value()[0]}}),Jr(["initial","tail"],function(l,m){var S="drop"+(m?"":"Right");nr.prototype[l]=function(){return this.__filtered__?new nr(this):this[S](1)}}),nr.prototype.compact=function(){return this.filter(Hr)},nr.prototype.find=function(l){return this.filter(l).head()},nr.prototype.findLast=function(l){return this.reverse().find(l)},nr.prototype.invokeMap=Xt(function(l,m){return typeof l=="function"?new nr(this):this.map(function(S){return fi(S,l,m)})}),nr.prototype.reject=function(l){return this.filter(Zi(Ut(l)))},nr.prototype.slice=function(l,m){l=Yt(l);var S=this;return S.__filtered__&&(l>0||m<0)?new nr(S):(l<0?S=S.takeRight(-l):l&&(S=S.drop(l)),m!==n&&(m=Yt(m),S=m<0?S.dropRight(-m):S.take(m-l)),S)},nr.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},nr.prototype.toArray=function(){return this.take(F)},cn(nr.prototype,function(l,m){var S=/^(?:filter|find|map|reject)|While$/.test(m),O=/^(?:head|last)$/.test(m),Y=ae[O?"take"+(m=="last"?"Right":""):m],ce=O||/^find/.test(m);Y&&(ae.prototype[m]=function(){var ye=this.__wrapped__,Ee=O?[1]:arguments,Ce=ye instanceof nr,Qe=Ee[0],Xe=Ce||Vt(ye),rt=function(tr){var ir=Y.apply(ae,Sn([tr],Ee));return O&&gt?ir[0]:ir};Xe&&S&&typeof Qe=="function"&&Qe.length!=1&&(Ce=Xe=!1);var gt=this.__chain__,At=!!this.__actions__.length,qt=ce&&!gt,Qt=Ce&&!At;if(!ce&&Xe){ye=Qt?ye:new nr(this);var jt=l.apply(ye,Ee);return jt.__actions__.push({func:Yi,args:[rt],thisArg:n}),new en(jt,gt)}return qt&&Qt?l.apply(this,Ee):(jt=this.thru(rt),qt?O?jt.value()[0]:jt.value():jt)})}),Jr(["pop","push","shift","sort","splice","unshift"],function(l){var m=wi[l],S=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",O=/^(?:pop|shift)$/.test(l);ae.prototype[l]=function(){var Y=arguments;if(O&&!this.__chain__){var ce=this.value();return m.apply(Vt(ce)?ce:[],Y)}return this[S](function(ye){return m.apply(Vt(ye)?ye:[],Y)})}}),cn(nr.prototype,function(l,m){var S=ae[m];if(S){var O=S.name+"";gr.call(Gn,O)||(Gn[O]=[]),Gn[O].push({name:m,func:S})}}),Gn[ji(n,P).name]=[{name:"wrapper",func:n}],nr.prototype.clone=Tu,nr.prototype.reverse=Iu,nr.prototype.value=Cu,ae.prototype.at=lh,ae.prototype.chain=hh,ae.prototype.commit=ph,ae.prototype.next=yh,ae.prototype.plant=vh,ae.prototype.reverse=gh,ae.prototype.toJSON=ae.prototype.valueOf=ae.prototype.value=bh,ae.prototype.first=ae.prototype.head,ti&&(ae.prototype[ti]=mh),ae},Hn=uu();Cn?((Cn.exports=Hn)._=Hn,aa._=Hn):Rr._=Hn}).call(commonjsGlobal)})(lodash,lodash.exports);var lodashExports=lodash.exports;function eq(t,e){return t===e||t!==t&&e!==e}var lodash_eq=eq,INFINITY=1/0,MAX_INTEGER=17976931348623157e292,NAN=0/0,symbolTag="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function baseFindIndex(t,e,n,a){for(var o=t.length,u=n+(a?1:-1);a?u--:++u<o;)if(e(t[u],u,t))return u;return-1}function baseIndexOf(t,e,n){if(e!==e)return baseFindIndex(t,baseIsNaN,n);for(var a=n-1,o=t.length;++a<o;)if(t[a]===e)return a;return-1}function baseIsNaN(t){return t!==t}var objectProto=Object.prototype,objectToString=objectProto.toString,nativeMax=Math.max;function indexOf(t,e,n){var a=t?t.length:0;if(!a)return-1;var o=n==null?0:toInteger(n);return o<0&&(o=nativeMax(a+o,0)),baseIndexOf(t,e,o)}function isObject(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function isObjectLike(t){return!!t&&typeof t=="object"}function isSymbol(t){return typeof t=="symbol"||isObjectLike(t)&&objectToString.call(t)==symbolTag}function toFinite(t){if(!t)return t===0?t:0;if(t=toNumber(t),t===INFINITY||t===-INFINITY){var e=t<0?-1:1;return e*MAX_INTEGER}return t===t?t:0}function toInteger(t){var e=toFinite(t),n=e%1;return e===e?n?e-n:e:0}function toNumber(t){if(typeof t=="number")return t;if(isSymbol(t))return NAN;if(isObject(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=isObject(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(reTrim,"");var n=reIsBinary.test(t);return n||reIsOctal.test(t)?freeParseInt(t.slice(2),n?2:8):reIsBadHex.test(t)?NAN:+t}var lodash_indexof=indexOf;const FILTER_SIZE=1024,HASH_COUNT=16,SATURATION_THRESHOLD=320,createBare=async(t,e)=>{const n="0".repeat(FILTER_SIZE/4);return addToBare(t,n,legacyEncodingMistake(e,"base64pad"))},addToBare=async(t,e,n)=>{const a=fromHex(e),o=await t.hash.sha256(n);return a.add(toString$2(o,"hex")),await toHex(a)},addRevision=async(t,e,n,a)=>{const o=toString$2(n,"base64pad"),u=fromString$2(`${a}${o}`,"utf8");return await addToBare(t,e,u)},toPrivateName=async(t,e)=>{const n=await saturateFilter(t,fromHex(e));return toHash(t,n)},toHash=async(t,e)=>{const n=e.toBytes(),a=await t.hash.sha256(n);return fromBytes(a)},saturate=async(t,e,n=SATURATION_THRESHOLD)=>{const a=await saturateFilter(t,fromHex(e),n);return await toHex(a)},saturateFilter=async(t,e,n=SATURATION_THRESHOLD)=>{if(n>e.toBytes().byteLength*8)throw new Error("threshold is bigger than filter size");if(countOnes(e)>=n)return e;const o=e.toBytes();let u=o;do{const c=await t.hash.sha256(u);e.add(fromBytes(c)),u=c}while(bufEquals(o,e.toBytes()));return saturateFilter(t,e,n)},countOnes=t=>{const e=new Uint32Array(t.toBytes());let n=0;for(let a=0;a<e.length;a++)n+=bitCount32(e[a]);return n},toHex=t=>fromBytes(t.toBytes()),fromHex=t=>{const e=toBytes(t);return BloomFilter.fromBytes(e,HASH_COUNT)},bufEquals=(t,e)=>{if(t.byteLength!==e.byteLength)return!1;const n=new Uint8Array(t),a=new Uint8Array(e);for(let o=0;o<n.length;o++)if(n[o]!==a[o])return!1;return!0},bitCount32=t=>{const e=t-(t>>1&1431655765),n=(e&858993459)+(e>>2&858993459);return(n+(n>>4)&252645135)*16843009>>24};function legacyEncodingMistake(t,e){return fromString$2(toString$2(t,e),"utf8")}const addNode=async(t,e,n,a,o)=>{const{cid:u,size:c}=await putEncryptedFile(t,e,a,o),d=await addRevision(e,a.bareNameFilter,o,a.revision),p=await toPrivateName(e,d);if(await n.add(p,u),isPrivateFileInfo(a)){const b=fromString$2(a.key,"base64pad"),_=await addToBare(e,a.bareNameFilter,legacyEncodingMistake(b,"base64pad")),w=await addRevision(e,_,b,a.revision),E=await toPrivateName(e,w);await n.add(E,decodeCID(a.content))}const[v,y]=isPrivateFileInfo(a)?[{},!0]:[a.skeleton,!1];return{cid:u,name:p,key:o,size:c,isFile:y,skeleton:v}},readNode=async(t,e,n,a)=>{const o=await getEncryptedFile(t,e,n,a),u=JSON.parse(toString$2(o,"utf8"));if(!isDecryptedNode(u))throw new Error(`Could not parse a valid filesystem object: ${u}`);return u},getByName=async(t,e,n,a,o)=>{const u=await n.get(a);return u===null?null:getByCID(t,e,u,o)},getByCID=async(t,e,n,a)=>await readNode(t,e,n,a),getLatestByName=async(t,e,n,a,o)=>{const u=await n.get(a);return u===null?null:getLatestByCID(t,e,n,u,o)},getLatestByCID=async(t,e,n,a,o)=>{const u=await getByCID(t,e,a,o),c=await findLatestRevision(e,n,u.bareNameFilter,o,u.revision);return c?.cid?await getByCID(t,e,decodeCID(c?.cid),o):u},getLatestByBareNameFilter=async(t,e,n,a,o)=>{const u=await addRevision(e,a,o,1),c=await toPrivateName(e,u);return getLatestByName(t,e,n,c,o)},findLatestRevision=async(t,e,n,a,o)=>{let u=o,c=null,d=0,p=null;for(;c===null;){const v=o+Math.pow(2,d),y=await getRevision(t,e,n,a,v);y!==null?(p=y,u=v):c=v,d++}for(;u<c-1;){const v=Math.floor((c+u)/2),y=await getRevision(t,e,n,a,v);y!==null?(p=y,u=v):c=v}return p},getRevision=async(t,e,n,a,o)=>{const u=await addRevision(t,n,a,o),c=await toPrivateName(t,u),d=await e.get(c);return d?{cid:d,name:c,number:o}:null};async function namefilter(t,{bareFilter:e,shareKey:n}){const a=await t.hash.sha256(fromString$2(n,"base64pad"));return saturate(t,await addToBare(t,e,legacyEncodingMistake(a,"hex")))}async function create$1(t,{counter:e,recipientExchangeDid:n,senderRootDid:a}){const o=fromString$2(`${n}${a}${e}`,"utf8");return toString$2(await t.hash.sha256(o),"base64pad")}function payload({entryIndexCid:t,symmKey:e,symmKeyAlgo:n}){const a=t;return{algo:n,key:typeof e=="string"?fromString$2(e,"base64pad"):e,cid:a}}class BaseFile{constructor(e){this.content=e,this.readOnly=!1}async put(){const{cid:e}=await this.putDetailed();return e}async updateContent(e){if(this.readOnly)throw new Error("File is read-only");return this.content=e,this}}class BareFile extends BaseFile{constructor(e,n){super(n),this.depot=e}static create(e,n){return new BareFile(e,n)}static async fromCID(e,n){const a=await getFile(e,n);return new BareFile(e,a)}static instanceOf(e){return isObject$1(e)&&hasProp(e,"content")}async put(){const{cid:e}=await this.putDetailed();return e}async putDetailed(){return putFile$1(this.depot,this.content)}}class BaseTree{constructor(){this.readOnly=!1}async put(){const{cid:e}=await this.putDetailed();return e}async ls(e){const n=await this.get(e);if(n===null)throw new Error("Path does not exist");if(isFile(n))throw new Error("Can not `ls` a file");return n.getLinks()}async cat(e){const n=await this.get(e);if(n===null)throw new Error("Path does not exist");if(!isFile(n))throw new Error("Can not `cat` a directory");return n.content}async mkdir(e){return this.mkdirRecurse(e,()=>this.put())}async mkdirRecurse(e,n){const[a,...o]=e;if(!a)throw new Error("Invalid path: empty");const u=await this.getOrCreateDirectChild(a,n);if(isFile(u))throw new Error(`There is a file along the given path: ${log(e)}`);return o.length&&await u.mkdirRecurse(o,()=>this.updateDirectChild(u,a,n)),this}async add(e,n){return await this.addRecurse(e,n,()=>this.put()),this}async addRecurse(e,n,a){const[o,...u]=e;if(!o)throw new Error("Invalid path: empty");if(u.length===0)await this.createOrUpdateChildFile(n,o,a);else{const c=await this.getOrCreateDirectChild(o,a);if(isFile(c))throw new Error(`There is a file along the given path: ${log(e)}`);await c.addRecurse(u,n,async()=>{await this.updateDirectChild(c,o,a)})}return this}async rm(e){return await this.rmRecurse(e,()=>this.put()),this}async rmRecurse(e,n){const[a,...o]=e;if(!a)throw new Error("Invalid path: empty");if(o.length===0)this.removeDirectChild(a),n&&await n();else{const u=await this.getDirectChild(a);if(u===null)throw new Error("Invalid path: does not exist");if(isFile(u))throw new Error(`There is a file along the given path: ${log(e)}`);await u.rmRecurse(o,async()=>{await this.updateDirectChild(u,a,n)})}return this}async mv(e,n){const a=await this.get(e);if(a===null)throw new Error(`Path does not exist: ${log(e)}`);if(n.length<1)throw new Error(`Path does not exist: ${log(n)}`);const o=n.slice(0,-1);let u=await this.get(o);if(!u)await this.mkdir(o),u=await this.get(o);else if(isFile(u))throw new Error(`Can not \`mv\` to a file: ${log(o)}`);return await this.rm(e),await[...n].reverse().reduce((c,d,p)=>c.then(async v=>{const y=n.slice(0,-(p+1)),b=y.length?await this.get(y):this;if(b&&!isFile(b))return await b.updateDirectChild(v,d,null),b;throw new Error("Failed to update tree while moving node")}),Promise.resolve(a)),this}async exists(e){return await this.get(e)!==null}read(e){return this.get(e)}write(e,n){return this.add(e,n)}async getOrCreateDirectChild(e,n){const a=await this.getDirectChild(e);return a!==null?a:this.createChildTree(e,n)}async updateChild(e,n){const a=[];return await n.reduce(async(o,u,c)=>{const d=await o;if(a.push([u,d]),c+1===n.length)return d;const p=await d.getDirectChild(u);if(!isTree(p)){const v=n.slice(c+1);throw new Error(`Expected a tree at the given path: ${log(v)}`)}return p},Promise.resolve(this)),await a.reverse().reduce(async(o,[u,c])=>(await c.updateDirectChild(await o,u,null),c),Promise.resolve(e)),this}}class BareTree extends BaseTree{constructor(e,n){super(),this.type="BareTree",this.links=n,this.children={},this.depot=e}static async empty(e){return new BareTree(e,{})}static async fromCID(e,n){const a=arrToMap(await e.getUnixDirectory(n));return new BareTree(e,a)}static fromLinks(e,n){return new BareTree(e,n)}static instanceOf(e){return isObject$1(e)&&hasProp(e,"links")&&hasProp(e,"children")&&hasProp(e,"type")&&e.type==="BareTree"}async createChildTree(e,n){const a=await BareTree.empty(this.depot),o=this.children[e];if(o){if(isFile(o))throw new Error(`There is a file at the given path: ${e}`);return o}return await this.updateDirectChild(a,e,n),a}async createOrUpdateChildFile(e,n,a){const o=await this.getDirectChild(n);let u;if(o===null)u=await BareFile.create(this.depot,e);else if(BareFile.instanceOf(o))u=await o.updateContent(e);else throw new Error(`There is already a directory with that name: ${n}`);return await this.updateDirectChild(u,n,a),u}async putDetailed(){return putLinks(this.depot,this.links)}async putAndUpdateLink(e,n,a){const o=await e.putDetailed();return this.updateLink(n,o),a&&await a(),this}async updateDirectChild(e,n,a){return this.children[n]=e,this.putAndUpdateLink(e,n,a)}removeDirectChild(e){return delete this.links[e],this.children[e]&&delete this.children[e],this}async getDirectChild(e){if(this.children[e])return this.children[e];const n=this.links[e]||null;if(n===null)return null;const a=decodeCID(n.cid),o=n.isFile?await BareFile.fromCID(this.depot,a):await BareTree.fromCID(this.depot,a);return this.children[e]?this.children[e]:(this.children[e]=o,o)}async get(e){const[n,...a]=e;if(!n)return this;const o=await this.getDirectChild(n);if(a.length){if(o===null||isFile(o))return null}else return o;return o.get(a)}updateLink(e,n){const{cid:a,size:o,isFile:u}=n;return this.links[e]=make(e,a,u,o),this}getLinks(){return this.links}}const nibbles={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,a:!0,b:!0,c:!0,d:!0,e:!0,f:!0},isNibble=t=>nibbles[t]===!0;class MMPT{constructor(e,n){this.links=n,this.children={},this.depot=e}static create(e){return new MMPT(e,{})}static async fromCID(e,n){const a=await getSimpleLinks(e,n);return new MMPT(e,a)}async putDetailed(){return putLinks(this.depot,this.links)}async put(){const{cid:e}=await this.putDetailed();return e}async add(e,n){if(!isNibble(e[0]))throw new Error("Not a valid name, must be hexadecimal");const a=this.nextTreeOrSiblingName(e);if(e!==a)if(a===null)this.links[e]=make(e,n,!0,0);else if(a.length===1)await(await this.getDirectChild(a)).add(e.slice(1),n),await this.putAndUpdateChildLink(a);else{const o=this.addEmptyChild(e[0]),u=this.links[a].cid;this.removeChild(a),await Promise.all([o.add(e.slice(1),n),o.add(a.slice(1),decodeCID(u))]),await this.putAndUpdateChildLink(e[0])}}async putAndUpdateChildLink(e){const n=this.links[e]?.cid,{cid:a,size:o}=await this.children[e].putDetailed(),u=this.links[e]?.cid;if(n!=u)return await this.putAndUpdateChildLink(e);this.links[e]=make(e,a,!1,o)}addEmptyChild(e){const n=MMPT.create(this.depot);return this.children[e]=n,n}async get(e){const n=this.nextTreeName(e);return n===null?null:n.length>1?decodeCID(this.links[n].cid):(await this.getDirectChild(n)).get(e.slice(1))}async exists(e){return await this.get(e)!==null}async members(){return(await Promise.all(Object.values(this.links).map(async({name:n,cid:a})=>n.length>1?[{name:n,cid:decodeCID(a)}]:(await(await MMPT.fromCID(this.depot,decodeCID(a))).members()).map(c=>({...c,name:n+c.name}))))).reduce((n,a)=>n.concat(a))}async getDirectChild(e){if(this.children[e])return this.children[e];const n=await MMPT.fromCID(this.depot,decodeCID(this.links[e].cid));return this.children[e]?this.children[e]:(this.children[e]=n,n)}removeChild(e){delete this.links[e],this.children[e]&&delete this.children[e]}directChildExists(e){return this.links[e]!==void 0||this.children[e]!==void 0}nextTreeName(e){return this.directChildExists(e[0])?e[0]:this.directChildExists(e)?e:null}nextTreeOrSiblingName(e){const n=e[0];return this.directChildExists(n)?n:Object.keys(this.links).find(a=>n===a[0])||null}}var UnixNodeType;(function(t){t.Raw="raw",t.Directory="dir",t.File="file",t.Metadata="metadata",t.Symlink="symlink",t.HAMTShard="hamtShard"})(UnixNodeType||(UnixNodeType={}));const emptyUnix=t=>({mtime:Date.now(),ctime:Date.now(),mode:t?644:755,_type:t?UnixNodeType.File:UnixNodeType.Directory}),empty=(t,e)=>({isFile:t,version:e,unixMeta:emptyUnix(t)}),updateMtime=t=>({...t,unixMeta:{...t.unixMeta,mtime:Date.now()}}),encode=(t,e,n)=>({major:t,minor:e,patch:n}),fromString$1=t=>{const e=t.split(".").map(n=>parseInt(n));return e.length!==3||e.some(n=>typeof n!="number")?null:{major:e[0],minor:e[1],patch:e[2]}},toString$1=t=>{const{major:e,minor:n,patch:a}=t;return`${e}.${n}.${a}`},equals=(t,e)=>t.major===e.major&&t.minor===e.minor&&t.patch===e.patch,isSmallerThan=(t,e)=>t.major!=e.major?t.major<e.major:t.minor!=e.minor?t.minor<e.minor:t.patch<e.patch,isBiggerThan=(t,e)=>isSmallerThan(e,t);function isBiggerThanOrEqualTo(t,e){return isSmallerThan(e,t)||equals(t,e)}const isSupported$1=t=>isSmallerThan(t,latest)?"too-low":isBiggerThan(t,wnfsWasm)?"too-high":!0,v0=encode(0,0,0),latest=encode(2,0,0),wnfsWasm=encode(3,0,0),supported=[latest,wnfsWasm];class PrivateHistory{constructor(e,n,a){this.crypto=e,this.depot=n,this.node=a}async back(e=-1){const n=Math.min(e,-1),a=this.node.header?.revision;return a&&await this._getRevision(a+n)||null}async prior(e){return this.node.header.metadata.unixMeta.mtime<e?this.node:this._prior(this.node.header.revision-1,e)}async list(e=5){const n=this.node.header.revision;return Promise.all(Array.from({length:e},(a,o)=>{const u=o+1;return this._getRevisionInfoFromNumber(n-u).then(c=>({revisionInfo:c,delta:-u}))})).then(a=>a.filter(o=>!!o.revisionInfo)).then(a=>a.map(o=>{const u=o.revisionInfo.metadata.unixMeta.mtime;return{delta:o.delta,timestamp:u}}))}async _getRevision(e){const n=await this._getRevisionInfoFromNumber(e);return n&&await this.node.fromInfo(this.node.mmpt,this.node.key,n)}_getRevisionInfo(e){return readNode(this.depot,this.crypto,decodeCID(e.cid),this.node.key)}async _getRevisionInfoFromNumber(e){const{mmpt:n}=this.node,{bareNameFilter:a}=this.node.header,o=this.node.key,u=await getRevision(this.crypto,n,a,o,e);return u&&this._getRevisionInfo(u)}async _prior(e,n){const a=await this._getRevisionInfoFromNumber(e);return a?.revision?a.metadata.unixMeta.mtime<n?this._getRevision(a.revision):this._prior(a.revision-1,n):null}}class PrivateFile extends BaseFile{constructor({crypto:e,depot:n,content:a,mmpt:o,key:u,header:c}){super(a),this.crypto=e,this.depot=n,this.header=c,this.key=u,this.mmpt=o,this.history=new PrivateHistory(e,n,d(this));function d(p){return{...p,fromInfo:async(v,y,b)=>d(await PrivateFile.fromInfo(e,n,v,y,b))}}}static instanceOf(e){return isObject$1(e)&&hasProp(e,"content")&&hasProp(e,"mmpt")&&hasProp(e,"header")&&isPrivateFileInfo(e.header)}static async create(e,n,a,o,u,c){const d=await e.aes.exportKey(await e.aes.genKey(DEFAULT_AES_ALG)),p=await addToBare(e,u,legacyEncodingMistake(c,"base64pad")),v=await putEncryptedFile(n,e,o,d);return new PrivateFile({crypto:e,depot:n,content:o,mmpt:a,key:c,header:{bareNameFilter:p,key:toString$2(d,"base64pad"),revision:1,metadata:empty(!0,latest),content:encodeCID(v.cid)}})}static async fromBareNameFilter(e,n,a,o,u){const c=await getLatestByBareNameFilter(n,e,a,o,u);return this.fromInfo(e,n,a,u,c)}static async fromLatestName(e,n,a,o,u){const c=await getLatestByName(n,e,a,o,u);return PrivateFile.fromInfo(e,n,a,u,c)}static async fromName(e,n,a,o,u){const c=await getByName(n,e,a,o,u);return PrivateFile.fromInfo(e,n,a,u,c)}static async fromInfo(e,n,a,o,u){if(!isPrivateFileInfo(u))throw new Error("Could not parse a valid private file using the given key");const c=await getEncryptedFile(n,e,decodeCID(u.content),fromString$2(u.key,"base64pad"));return new PrivateFile({crypto:e,depot:n,content:c,key:o,mmpt:a,header:u})}async getName(){const{bareNameFilter:e,revision:n}=this.header,a=await addRevision(this.crypto,e,this.key,n);return toPrivateName(this.crypto,a)}async updateParentNameFilter(e){return this.header.bareNameFilter=await addToBare(this.crypto,e,legacyEncodingMistake(fromString$2(this.header.key,"base64pad"),"base64pad")),this}async updateContent(e){const n=await putEncryptedFile(this.depot,this.crypto,e,fromString$2(this.header.key,"base64pad"));return this.content=e,this.header={...this.header,revision:this.header.revision+1,content:encodeCID(n.cid)},this}async putDetailed(){return addNode(this.depot,this.crypto,this.mmpt,{...this.header,metadata:updateMtime(this.header.metadata)},this.key)}}class PrivateTree extends BaseTree{constructor({crypto:e,depot:n,manners:a,reference:o,mmpt:u,key:c,header:d}){super(),this.crypto=e,this.depot=n,this.manners=a,this.reference=o,this.children={},this.header=d,this.key=c,this.mmpt=u,this.history=new PrivateHistory(e,n,p(this));function p(v){return{...v,fromInfo:async(y,b,_)=>p(await PrivateTree.fromInfo(e,n,a,o,y,b,_))}}}static instanceOf(e){return isObject$1(e)&&hasProp(e,"mmpt")&&hasProp(e,"header")&&isPrivateTreeInfo(e.header)}static async create(e,n,a,o,u,c,d){const p=d?await addToBare(e,d,legacyEncodingMistake(c,"base64pad")):await createBare(e,c);return new PrivateTree({crypto:e,depot:n,manners:a,reference:o,mmpt:u,key:c,header:{metadata:empty(!1,latest),bareNameFilter:p,revision:1,links:{},skeleton:{}}})}static async fromBaseKey(e,n,a,o,u,c){const d=await createBare(e,c);return this.fromBareNameFilter(e,n,a,o,u,d,c)}static async fromBareNameFilter(e,n,a,o,u,c,d){const p=await getLatestByBareNameFilter(n,e,u,c,d);return this.fromInfo(e,n,a,o,u,d,p)}static async fromLatestName(e,n,a,o,u,c,d){const p=await getLatestByName(n,e,u,c,d);return this.fromInfo(e,n,a,o,u,d,p)}static async fromName(e,n,a,o,u,c,d){const p=await getByName(n,e,u,c,d);return this.fromInfo(e,n,a,o,u,d,p)}static async fromInfo(e,n,a,o,u,c,d){if(!isPrivateTreeInfo(d))throw new Error("Could not parse a valid private tree using the given key");return new PrivateTree({crypto:e,depot:n,manners:a,reference:o,mmpt:u,key:c,header:d})}async createChildTree(e,n){const a=await this.crypto.aes.genKey(DEFAULT_AES_ALG).then(this.crypto.aes.exportKey),o=await PrivateTree.create(this.crypto,this.depot,this.manners,this.reference,this.mmpt,a,this.header.bareNameFilter),u=this.children[e];if(u){if(PrivateFile.instanceOf(u))throw new Error(`There is a file at the given path: ${e}`);return u}return await this.updateDirectChild(o,e,n),o}async createOrUpdateChildFile(e,n,a){const o=await this.getDirectChild(n);let u;if(o===null){const c=await this.crypto.aes.genKey(DEFAULT_AES_ALG).then(this.crypto.aes.exportKey);u=await PrivateFile.create(this.crypto,this.depot,this.mmpt,e,this.header.bareNameFilter,c)}else if(PrivateFile.instanceOf(o))u=await o.updateContent(e);else throw new Error(`There is already a directory with that name: ${n}`);return await this.updateDirectChild(u,n,a),u}async putDetailed(){const e=Object.assign({},this.header);return e.skeleton=ensureSkeletonStringCIDs(e.skeleton),addNode(this.depot,this.crypto,this.mmpt,e,this.key)}async updateDirectChild(e,n,a){if(this.readOnly)throw new Error("Tree is read-only");await e.updateParentNameFilter(this.header.bareNameFilter),this.children[n]=e;const o=await e.putDetailed();return this.updateLink(n,o),a&&await a(),this}removeDirectChild(e){return this.header={...this.header,revision:this.header.revision+1,links:removeKeyFromObj(this.header.links,e),skeleton:removeKeyFromObj(this.header.skeleton,e)},this.children[e]&&delete this.children[e],this}async getDirectChild(e){let n=null;if(this.children[e])return this.children[e];const a=this.header.links[e];if(a===void 0)return null;if(isPrivateLink(a)){const o=fromString$2(a.key,"base64pad");n=a.isFile?await PrivateFile.fromLatestName(this.crypto,this.depot,this.mmpt,a.pointer,o):await PrivateTree.fromLatestName(this.crypto,this.depot,this.manners,this.reference,this.mmpt,a.pointer,o)}else if(isSoftLink(a))return PrivateTree.resolveSoftLink(this.crypto,this.depot,this.manners,this.reference,a);return this.children[e]?this.children[e]:(n&&(this.children[e]=n),n)}async getName(){const{bareNameFilter:e,revision:n}=this.header,a=await addRevision(this.crypto,e,this.key,n);return toPrivateName(this.crypto,a)}async updateParentNameFilter(e){return this.header.bareNameFilter=await addToBare(this.crypto,e,legacyEncodingMistake(this.key,"base64pad")),this}async get(e){if(e.length===0)return this;const[n,...a]=e,o=this.header.skeleton[n];return o===void 0?null:this.getRecurse(o,a)}async getRecurse(e,n){const[a,...o]=n;if(isSoftLink(e)){const p=await PrivateTree.resolveSoftLink(this.crypto,this.depot,this.manners,this.reference,e);if(!p)return null;if(a===void 0)return p;if(PrivateTree.instanceOf(p))return p.get(n).then(makeReadOnly$1);throw new Error("Was expecting a directory at: "+log(n))}if(a===void 0)return getNode(this.crypto,this.depot,this.manners,this.reference,this.mmpt,e);const u=e.subSkeleton[a];if(u!==void 0)return this.getRecurse(u,o);const c=await getLatestByCID(this.depot,this.crypto,this.mmpt,decodeCID(e.cid),fromString$2(e.key,"base64pad"));if(!isPrivateTreeInfo(c))return null;const d=c.skeleton[a];return d===void 0?null:this.getRecurse(d,o)}assignLink({name:e,link:n,skeleton:a}){this.header.links[e]=n,this.header.skeleton[e]=a,this.header.revision=this.header.revision+1,this.header.metadata.unixMeta.mtime=Date.now()}static async resolveSoftLink(e,n,a,o,u){const c=u.ipns.split("/")[0];if(!u.privateName||!u.key)throw new Error("Mixing public and private soft links is not supported yet.");const d=await o.dns.lookupDnsLink(c);if(!d)throw new Error(`Failed to resolve the soft link: ${u.ipns} - Could not resolve DNSLink`);const p=(await getSimpleLinks(n,decodeCID(d))).private.cid,v=await MMPT.fromCID(n,decodeCID(p)),y=fromString$2(u.key,"base64pad"),b=await getLatestByName(n,e,v,u.privateName,y);if(!b)return null;const _=b.metadata.isFile?await PrivateFile.fromInfo(e,n,v,y,b):await PrivateTree.fromInfo(e,n,a,o,v,y,b);return _&&(_.readOnly=!0),_}getLinks(){return mapObj(this.header.links,e=>{if(isSoftLink(e))return{...e};{const{key:n,...a}=e;return{...a}}})}updateLink(e,n){const{cid:a,size:o,isFile:u,skeleton:c}=n,d=toString$2(n.key,"base64pad"),p=n.name;return this.assignLink({name:e,link:{name:e,key:d,pointer:p,size:o,isFile:u},skeleton:{cid:encodeCID(a),key:d,subSkeleton:c}}),this}insertSoftLink({name:e,key:n,privateName:a,username:o}){const u={ipns:this.reference.dataRoot.domain(o),name:e,privateName:a,key:toString$2(n,"base64pad")};return this.assignLink({name:e,link:u,skeleton:u}),this}}async function getNode(t,e,n,a,o,u){const c=fromString$2(u.key,"base64pad"),d=await getLatestByCID(e,t,o,decodeCID(u.cid),c);return isPrivateFileInfo(d)?await PrivateFile.fromInfo(t,e,o,c,d):await PrivateTree.fromInfo(t,e,n,a,o,c,d)}function ensureSkeletonStringCIDs(t){return Object.entries(t).reduce((e,[n,a])=>{let o=a;return isPrivateSkeletonInfo(a)&&(a.cid=decodeCID(a.cid).toString(),a.subSkeleton=ensureSkeletonStringCIDs(a.subSkeleton)),{...e,[n]:o}},{})}function makeReadOnly$1(t){return t&&(t.readOnly=!0),t}const EXCHANGE_PATH=directory("public",".well-known","exchange");async function privateNode(t,e,n,a,o,u,{shareWith:c,sharedBy:d}){const p=Array.isArray(c)?c:c.startsWith("did:")?[c]:await listExchangeDIDs(e,a,c),v=o.sharedCounter||1,y=o.mmpt,b=await Promise.all(p.map(async J=>[J,await create$1(t,{counter:v,recipientExchangeDid:J,senderRootDid:d.rootDid})])),_=await t.aes.genKey(SymmAlg.AES_GCM).then(t.aes.exportKey),w=await PrivateTree.create(t,e,n,a,y,_,null);await Promise.all(u.map(async([J,X])=>{const re=await X.getName();return w.insertSoftLink({key:X.key,name:J,privateName:re,username:d.username})}));const E=SymmAlg.AES_GCM,$=Object.assign({},w.header),C=await putFile$1(e,await t.aes.encrypt(fromString$2(JSON.stringify($),"utf8"),w.key,E));if(b.length){const J=await namefilter(t,{bareFilter:$.bareNameFilter,shareKey:b[0][1]});await y.add(J,C.cid)}const P=encode$2(payload({entryIndexCid:encodeCID(C.cid),symmKey:w.key,symmKeyAlgo:E})),z=await Promise.all(b.map(async([J,X])=>{const{publicKey:re}=didToPublicKey(t,J),de=await t.rsa.encrypt(P,re),xe=await e.putChunked(de);return{name:X,cid:xe.cid,size:xe.size}}));return await o.addShares(z),{shareId:v.toString(),sharedBy:d}}async function listExchangeDIDs(t,e,n){const a=await e.dataRoot.lookup(n);if(!a)throw new Error("This person doesn't have a filesystem yet.");const u=(await getSimpleLinks(t,a))[RootBranch.Pretty]?.cid||null;if(!u)throw new Error("This person's filesystem doesn't have a pretty tree.");const c=await BareTree.fromCID(t,decodeCID(u)),d=unwrap(removePartition(EXCHANGE_PATH)),p=await c.get(d);return p&&p instanceof BareTree?Object.keys(p.getLinks()):[]}async function addSampleData(t){await t.mkdir(directory("private","Apps")),await t.mkdir(directory("private","Audio")),await t.mkdir(directory("private","Documents")),await t.mkdir(directory("private","Photos")),await t.mkdir(directory("private","Video")),await t.write(file("private","Welcome.txt"),new TextEncoder().encode("Welcome to your personal transportable encrypted file system 👋"))}async function addPublicExchangeKey(t,e){const n=await exchange(t);await e.mkdir(combine(EXCHANGE_PATH,directory(n)))}async function hasPublicExchangeKey(t,e){const n=await exchange(t);return e.exists(combine(EXCHANGE_PATH,directory(n)))}async function retrieve({crypto:t,accountDID:e}){const n=await identifier(t,e);return t.keystore.exportSymmKey(n)}async function store({crypto:t,accountDID:e,readKey:n}){const a=await identifier(t,e);return t.keystore.importSymmKey(n,a)}function fromString(t){return fromString$2(t,"base64pad")}function identifier(t,e){const n=directory(RootBranch.Private);return readKey({crypto:t,path:n,accountDID:e})}var __classPrivateFieldSet=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,a,o){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?o.call(t,n):o?o.value=n:e.set(t,n),n},__classPrivateFieldGet=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(t):a?a.value:e.get(t)},_Session_crypto,_Session_storage,_Session_eventEmitter;class Session{constructor(e){_Session_crypto.set(this,void 0),_Session_storage.set(this,void 0),_Session_eventEmitter.set(this,void 0),__classPrivateFieldSet(this,_Session_crypto,e.crypto,"f"),__classPrivateFieldSet(this,_Session_storage,e.storage,"f"),__classPrivateFieldSet(this,_Session_eventEmitter,e.eventEmitter,"f"),this.fs=e.fs,this.type=e.type,this.username=e.username,__classPrivateFieldGet(this,_Session_eventEmitter,"f").emit("session:create",{session:this})}async destroy(){__classPrivateFieldGet(this,_Session_eventEmitter,"f").emit("session:destroy",{username:this.username}),await __classPrivateFieldGet(this,_Session_storage,"f").removeItem(__classPrivateFieldGet(this,_Session_storage,"f").KEYS.ACCOUNT_UCAN),await __classPrivateFieldGet(this,_Session_storage,"f").removeItem(__classPrivateFieldGet(this,_Session_storage,"f").KEYS.CID_LOG),await __classPrivateFieldGet(this,_Session_storage,"f").removeItem(__classPrivateFieldGet(this,_Session_storage,"f").KEYS.SESSION),await __classPrivateFieldGet(this,_Session_storage,"f").removeItem(__classPrivateFieldGet(this,_Session_storage,"f").KEYS.UCANS),await __classPrivateFieldGet(this,_Session_crypto,"f").keystore.clearStore(),this.fs&&this.fs.deactivate()}}_Session_crypto=new WeakMap,_Session_storage=new WeakMap,_Session_eventEmitter=new WeakMap;function isSessionInfo(t){return isObject$1(t)&&hasProp(t,"username")&&hasProp(t,"type")}async function restore(t){return t.getItem(t.KEYS.SESSION).then(e=>e||null).then(e=>e?JSON.parse(e):null).then(e=>isSessionInfo(e)?e:null)}function provide(t,e){return t.setItem(t.KEYS.SESSION,JSON.stringify({type:e.type,username:e.username}))}const TYPE="webCrypto";async function canDelegateAccount$1(t,e){const n=await t.reference.didRoot.lookup(e),a=await t.storage.getItem(t.storage.KEYS.ACCOUNT_UCAN);if(a){const o=rootIssuer(a),u=decode$2(a),{ptc:c}=u.payload;return n===o&&c==="SUPER_USER"}else{const o=await write(t.crypto);return n===o}}async function delegateAccount$2(t,e,n){const a=await t.storage.getItem(t.storage.KEYS.ACCOUNT_UCAN)??void 0,o=await build({dependencies:t,audience:n,issuer:await write(t.crypto),lifetimeInSeconds:60*60*24*30*12*1e3,potency:"SUPER_USER",proof:a});return{token:encode$3(o)}}async function linkDevice$2(t,e,n){const{token:a}=n,o=decode$2(a);await isValid(t.crypto,o)&&(await t.storage.setItem(t.storage.KEYS.ACCOUNT_UCAN,a),await provide(t.storage,{type:TYPE,username:e}))}async function register(t,e){return await provide(t.storage,{type:e.type||TYPE,username:e.username}),{success:!0}}async function session$1(t,e,n,a){return e?new Session({crypto:t.crypto,storage:t.storage,eventEmitter:a.session,type:TYPE,username:e}):null}function implementation$5(t){return{type:TYPE,canDelegateAccount:(...e)=>canDelegateAccount$1(t,...e),delegateAccount:(...e)=>delegateAccount$2(t,...e),linkDevice:(...e)=>linkDevice$2(t,...e),register:(...e)=>register(t,...e),session:session$1,createChannel:()=>{throw new Error("Not implemented")},isUsernameValid:()=>{throw new Error("Not implemented")},isUsernameAvailable:()=>{throw new Error("Not implemented")}}}var LinkingStep;(function(t){t.Broadcast="BROADCAST",t.Negotiation="NEGOTIATION",t.Delegation="DELEGATION"})(LinkingStep||(LinkingStep={}));class LinkingError extends Error{constructor(e){super(e),this.name="LinkingError"}}class LinkingWarning extends Error{constructor(e){super(e),this.name="LinkingWarning"}}const handleLinkingError=(t,e)=>{switch(e.name){case"LinkingWarning":t.warn(e.message);break;case"LinkingError":throw e;default:throw e}},tryParseMessage=(t,e,n)=>{try{const a=JSON.parse(t);return e(a)?{ok:!0,value:a}:{ok:!1,error:new LinkingWarning(`${n.participant} received an unexpected message in ${n.callSite}: ${t}. Ignoring message.`)}}catch{return{ok:!1,error:new LinkingWarning(`${n.participant} received a message in ${n.callSite} that it could not parse: ${t}. Ignoring message.`)}}},createConsumer=async(t,e)=>{const{username:n}=e,a=y=>handleLinkingError(t.manners,y);let o=new EventEmitter;const u={username:n,sessionKey:null,temporaryRsaPair:null,step:LinkingStep.Broadcast},c=async y=>{const{data:b}=y,_=b.arrayBuffer?new TextDecoder().decode(await b.arrayBuffer()):b;switch(u.step){case LinkingStep.Broadcast:return a(new LinkingWarning("Consumer is not ready to start linking"));case LinkingStep.Negotiation:if(u.sessionKey)a(new LinkingWarning("Consumer already received a session key"));else if(!u.temporaryRsaPair||!u.temporaryRsaPair.privateKey)a(new LinkingError("Consumer missing RSA key pair when handling session key message"));else{const w=await handleSessionKey(t.crypto,u.temporaryRsaPair.privateKey,_);if(w.ok){u.sessionKey=w.value;const{pin:E,challenge:$}=await generateUserChallenge(t.crypto,u.sessionKey);p.send($),o?.emit("challenge",{pin:Array.from(E)}),u.step=LinkingStep.Delegation}else a(w.error)}break;case LinkingStep.Delegation:if(!u.sessionKey)a(new LinkingError("Consumer was missing session key when linking device"));else if(!u.username)a(new LinkingError("Consumer was missing username when linking device"));else{const w=await linkDevice$1(t.auth,t.crypto,u.sessionKey,u.username,_);if(w.ok){const{approved:E}=w.value;o?.emit("link",{approved:E,username:u.username}),await d()}else a(w.error)}break}},d=async()=>{o?.emit("done",void 0),o=null,p.close(),clearInterval(v)},p=await t.auth.createChannel({handleMessage:c,username:n}),v=setInterval(async()=>{if(u.sessionKey)clearInterval(v);else{const{temporaryRsaPair:y,temporaryDID:b}=await generateTemporaryExchangeKey(t.crypto);u.temporaryRsaPair=y,u.step=LinkingStep.Negotiation,p.send(b)}},2e3);return{on:(...y)=>o?.on(...y),cancel:d}},generateTemporaryExchangeKey=async t=>{const e=await t.rsa.genKey(),n=await t.rsa.exportPublicKey(e.publicKey),a=publicKeyToDid(t,n,"rsa");return{temporaryRsaPair:e,temporaryDID:a}},handleSessionKey=async(t,e,n)=>{const o=tryParseMessage(n,u=>isObject$1(u)&&"iv"in u&&typeof u.iv=="string"&&"msg"in u&&typeof u.msg=="string"&&"sessionKey"in u&&typeof u.sessionKey=="string",{participant:"Consumer",callSite:"handleSessionKey"});if(o.ok){const{iv:u,msg:c,sessionKey:d}=o.value,p=fromString$2(u,"base64pad");let v;try{const E=fromString$2(d,"base64pad");v=await t.rsa.decrypt(E,e)}catch{return{ok:!1,error:new LinkingWarning(`Consumer received a session key in handleSessionKey that it could not decrypt: ${n}. Ignoring message`)}}let y=null;try{y=await t.aes.decrypt(fromString$2(c,"base64pad"),v,SymmAlg.AES_GCM,p)}catch{return{ok:!1,error:new LinkingError("Consumer could not decrypt closed UCAN with provided session key.")}}const b=decode$2(toString$2(y,"utf8"));if(await isValid(t,b)===!1)return{ok:!1,error:new LinkingError("Consumer received an invalid closed UCAN")};if(b.payload.ptc)return{ok:!1,error:new LinkingError("Consumer received a closed UCAN with potency. Closed UCAN must not have potency.")};const _=b.payload.fct[0]&&b.payload.fct[0].sessionKey;if(!_)return{ok:!1,error:new LinkingError("Consumer received a closed UCAN that was missing a session key in facts.")};const w=toString$2(v,"base64pad");return _!==w?{ok:!1,error:new LinkingError("Consumer received a closed UCAN session key does not match the session key")}:{ok:!0,value:v}}else return o},generateUserChallenge=async(t,e)=>{const n=Array.from(t.misc.randomNumbers({amount:6})).map(c=>c%9),a=t.misc.randomNumbers({amount:16}),o=await t.aes.encrypt(fromString$2(JSON.stringify({did:await write(t),pin:n}),"utf8"),e,SymmAlg.AES_GCM,a),u=JSON.stringify({iv:toString$2(a,"base64pad"),msg:toString$2(o,"base64pad")});return{pin:n,challenge:u}},linkDevice$1=async(t,e,n,a,o)=>{const c=tryParseMessage(o,d=>isObject$1(d)&&"iv"in d&&typeof d.iv=="string"&&"msg"in d&&typeof d.msg=="string",{participant:"Consumer",callSite:"linkDevice"});if(c.ok){const{iv:d,msg:p}=c.value,v=fromString$2(d,"base64");let y=null;try{y=await e.aes.decrypt(fromString$2(p,"base64pad"),n,SymmAlg.AES_GCM,v)}catch{return{ok:!1,error:new LinkingWarning("Consumer ignoring message that could not be decrypted in linkDevice.")}}const b=tryParseMessage(toString$2(y,"utf8"),isObject$1,{participant:"Consumer",callSite:"linkDevice"});return b.ok?b?.value.linkStatus==="DENIED"?{ok:!0,value:{approved:!1}}:(await t.linkDevice(a,b.value),{ok:!0,value:{approved:!0}}):b}else return c},createProducer=async(t,e)=>{const{username:n}=e,a=_=>handleLinkingError(t.manners,_);if(!await t.auth.canDelegateAccount(n))throw new LinkingError(`Producer cannot delegate account for username ${n}`);let u=new EventEmitter;const c={username:n,sessionKey:null,step:LinkingStep.Broadcast},d=async _=>{const{data:w}=_,E=w.arrayBuffer?new TextDecoder().decode(await w.arrayBuffer()):w;switch(c.step){case LinkingStep.Broadcast:{const{sessionKey:$,sessionKeyMessage:C}=await generateSessionKey(t.crypto,E);return c.sessionKey=$,c.step=LinkingStep.Negotiation,b.send(C)}case LinkingStep.Negotiation:if(c.sessionKey){const $=await handleUserChallenge(t.crypto,c.sessionKey,E);if(c.step=LinkingStep.Delegation,$.ok){const{pin:C,audience:P}=$.value,z=()=>{let re=!1;return{confirmPin:async()=>{re||(re=!0,c.sessionKey?await delegateAccount$1(t.auth,t.crypto,c.sessionKey,n,P,p):a(new LinkingError("Producer missing session key when delegating account")))},rejectPin:async()=>{re||(re=!0,c.sessionKey?await declineDelegation(t.crypto,c.sessionKey,p):a(new LinkingError("Producer missing session key when declining account delegation")))}}},{confirmPin:J,rejectPin:X}=z();u?.emit("challenge",{pin:C,confirmPin:J,rejectPin:X})}else a($.error)}else a(new LinkingError("Producer missing session key when handling user challenge"));break;case LinkingStep.Delegation:return a(new LinkingWarning("Producer received an unexpected message while delegating an account. The message will be ignored."))}},p=async(_,w)=>{await b.send(_),c.username!=null&&(u?.emit("link",{approved:w,username:c.username}),v())},v=()=>{c.sessionKey=null,c.step=LinkingStep.Broadcast},y=async()=>{u?.emit("done",void 0),u=null,b.close()},b=await t.auth.createChannel({username:n,handleMessage:d});return{on:(..._)=>u?.on(..._),cancel:y}},generateSessionKey=async(t,e)=>{const n=await t.aes.genKey(SymmAlg.AES_GCM),a=await t.aes.exportKey(n),{publicKey:o}=didToPublicKey(t,e),u=await t.rsa.encrypt(a,o),c=await build({dependencies:{crypto:t},issuer:await write(t),audience:e,lifetimeInSeconds:60*5,facts:[{sessionKey:toString$2(a,"base64pad")}],potency:null}),d=t.misc.randomNumbers({amount:16}),p=await t.aes.encrypt(fromString$2(encode$3(c),"utf8"),n,SymmAlg.AES_GCM,d),v=JSON.stringify({iv:toString$2(d,"base64pad"),msg:toString$2(p,"base64pad"),sessionKey:toString$2(u,"base64pad")});return{sessionKey:n,sessionKeyMessage:v}},handleUserChallenge=async(t,e,n)=>{const o=tryParseMessage(n,u=>isObject$1(u)&&"iv"in u&&typeof u.iv=="string"&&"msg"in u&&typeof u.msg=="string",{participant:"Producer",callSite:"handleUserChallenge"});if(o.ok){const{iv:u,msg:c}=o.value,d=fromString$2(u,"base64pad");let p=null;try{p=await t.aes.decrypt(fromString$2(c,"base64pad"),e,SymmAlg.AES_GCM,d)}catch{return{ok:!1,error:new LinkingWarning("Ignoring message that could not be decrypted.")}}const v=JSON.parse(toString$2(p,"utf8")),y=v.pin??null,b=v.did??null;return y!==null&&b!==null?{ok:!0,value:{pin:y,audience:b}}:{ok:!1,error:new LinkingError(`Producer received invalid pin ${v.pin} or audience ${v.audience}`)}}else return o},delegateAccount$1=async(t,e,n,a,o,u)=>{const c=await t.delegateAccount(a,o),d=JSON.stringify(c),p=e.misc.randomNumbers({amount:16}),v=await e.aes.encrypt(fromString$2(d,"utf8"),n,SymmAlg.AES_GCM,p),y=JSON.stringify({iv:toString$2(p,"base64pad"),msg:toString$2(v,"base64pad")});await u(y,!0)},declineDelegation=async(t,e,n)=>{const a=JSON.stringify({linkStatus:"DENIED"}),o=t.misc.randomNumbers({amount:16}),u=await t.aes.encrypt(fromString$2(a,"utf8"),e,SymmAlg.AES_GCM,o),c=JSON.stringify({iv:toString$2(o,"base64pad"),msg:toString$2(u,"base64pad")});await n(c,!1)};function namespace(t){return isString(t.namespace)?t.namespace:appId(t.namespace)}function throttle(t,e,n,a){var o,u=!1,c=0;function d(){o&&clearTimeout(o)}function p(){d(),u=!0}typeof e!="boolean"&&(a=n,n=e,e=void 0);function v(){for(var y=arguments.length,b=new Array(y),_=0;_<y;_++)b[_]=arguments[_];var w=this,E=Date.now()-c;if(u)return;function $(){c=Date.now(),n.apply(w,b)}function C(){o=void 0}a&&!o&&$(),d(),a===void 0&&E>t?$():e!==!0&&(o=setTimeout(a?C:$,a===void 0?t-E:t))}return v.cancel=p,v}class NoPermissionError extends Error{constructor(e){super(e),this.name="NoPermissionError"}}function nextNonEmpty(t){const e=t.slice(1);return e.length<1?null:e}class PublicHistory{constructor(e){this.node=e}back(e=-1){const n=Math.abs(Math.min(e,-1));return Array.from({length:n},(a,o)=>o).reduce(a=>a.then(o=>o?PublicHistory._getPreviousVersion(o):null),Promise.resolve(this.node))}async prior(e){return PublicHistory._prior(this.node,e)}async list(e=5){const{acc:n}=await Array.from({length:e},(a,o)=>o).reduce((a,o)=>a.then(({node:u,acc:c})=>u?PublicHistory._getPreviousVersion(u).then(d=>({node:d,acc:[...c,{delta:-(o+1),timestamp:u.header.metadata.unixMeta.mtime}]})):Promise.resolve({node:null,acc:c})),PublicHistory._getPreviousVersion(this.node).then(a=>({node:a,acc:[]})));return n}static async _getPreviousVersion(e){return e.header.previous?e.fromCID(decodeCID(e.header.previous)):Promise.resolve(null)}static async _prior(e,n){if(e.header.metadata.unixMeta.mtime<n)return e;const a=await PublicHistory._getPreviousVersion(e);return a?PublicHistory._prior(a,n):null}}let PublicFile$1=class yi extends BaseFile{constructor({depot:e,content:n,header:a,cid:o}){super(n),this.depot=e,this.cid=o,this.header=a,this.history=new PublicHistory(u(this));function u(c){return{...c,fromCID:async d=>u(await yi.fromCID(e,d))}}}static instanceOf(e){return isObject$1(e)&&hasProp(e,"content")&&hasProp(e,"header")&&isFileHeader(e.header)}static async create(e,n){return new yi({depot:e,content:n,header:{metadata:empty(!0,latest)},cid:null})}static async fromCID(e,n){const a=await get$1(e,n);return yi.fromInfo(e,a,n)}static async fromInfo(e,n,a){const{userland:o,metadata:u,previous:c}=n,d=await getFile(e,decodeCID(o));return new yi({depot:e,content:d,header:{metadata:u,previous:c},cid:a})}async putDetailed(){const e=await putFile(this.depot,this.content,updateMtime(this.header.metadata),this.cid);return this.cid=e.cid,e}};class PublicTree extends BaseTree{constructor({depot:e,reference:n,links:a,header:o,cid:u}){super(),this.depot=e,this.reference=n,this.children={},this.cid=u,this.links=a,this.header=o,this.history=new PublicHistory(c(this));function c(d){return{...d,fromCID:async p=>c(await PublicTree.fromCID(e,n,p))}}}static async empty(e,n){return new PublicTree({depot:e,reference:n,links:{},header:{metadata:empty(!1,latest),skeleton:{}},cid:null})}static async fromCID(e,n,a){const o=await get$1(e,a);if(!isTreeInfo(o))throw new Error(`Could not parse a valid public tree at: ${a}`);return PublicTree.fromInfo(e,n,o,a)}static async fromInfo(e,n,a,o){const{userland:u,metadata:c,previous:d,skeleton:p}=a,v=await getFileSystemLinks(e,decodeCID(u));return new PublicTree({depot:e,reference:n,links:v,header:{metadata:c,previous:d,skeleton:p},cid:o})}static instanceOf(e){return hasProp(e,"links")&&hasProp(e,"header")&&isLinks(e.links)&&isTreeHeader(e.header)}async createChildTree(e,n){const a=await PublicTree.empty(this.depot,this.reference),o=this.children[e];if(o){if(PublicFile$1.instanceOf(o))throw new Error(`There is a file at the given path: ${e}`);if(PublicTree.instanceOf(o))return o;throw new Error(`Not a public tree at the given path: ${e}`)}return await this.updateDirectChild(a,e,n),a}async createOrUpdateChildFile(e,n,a){const o=await this.getDirectChild(n);let u;if(o===null)u=await PublicFile$1.create(this.depot,e);else if(PublicFile$1.instanceOf(o))u=await o.updateContent(e);else throw new Error(`There is already a directory with that name: ${n}`);return await this.updateDirectChild(u,n,a),u}async putDetailed(){const e=await putTree(this.depot,this.links,this.header.skeleton,this.header.metadata,this.cid);return this.header.previous=this.cid||void 0,this.cid=e.cid,e}async updateDirectChild(e,n,a){if(this.readOnly)throw new Error("Tree is read-only");this.children[n]=e;const o=await e.putDetailed();return this.updateLink(n,o),a&&await a(),this}removeDirectChild(e){return delete this.links[e],delete this.header.skeleton[e],this.children[e]&&delete this.children[e],this}async getDirectChild(e){let n=null;if(this.children[e])return this.children[e];const a=this.header.skeleton[e]||null;if(a===null)return null;if(isSkeletonInfo(a)){const o=decodeCID(a.cid);n=a.isFile?await PublicFile$1.fromCID(this.depot,o):await PublicTree.fromCID(this.depot,this.reference,o)}else if(isSoftLink(a))return PublicTree.resolveSoftLink(this.depot,this.reference,a);return this.children[e]?this.children[e]:(n&&(this.children[e]=n),n)}async get(e){if(e.length<1)return this;const n=await this.getRecurse(this.header.skeleton,e);if(isSkeletonInfo(n)){const a=decodeCID(n.cid),o=await get$1(this.depot,a);return isFileInfo(o)?PublicFile$1.fromInfo(this.depot,o,a):PublicTree.fromInfo(this.depot,this.reference,o,a)}return n}async getRecurse(e,n){const a=n[0],o=e[a]||null,u=nextNonEmpty(n);if(isSoftLink(o)){const c=await PublicTree.resolveSoftLink(this.depot,this.reference,o);return u?PublicTree.instanceOf(c)?c.get(u).then(makeReadOnly):null:c}else return o===null||u===null?o:o.subSkeleton?this.getRecurse(o.subSkeleton,u):null}assignLink({name:e,link:n,skeleton:a}){this.links[e]=n,this.header.skeleton[e]=a,this.header.metadata.unixMeta.mtime=Date.now()}static async resolveSoftLink(e,n,a){const[o,...u]=a.ipns.split("/"),c=fromPosix(u.join("/"));if(!(isOnRootBranch(RootBranch.Public,c)||isOnRootBranch(RootBranch.Pretty,c)))throw new Error("Mixing public and private soft links is not supported yet.");const p=await n.dns.lookupDnsLink(o);if(!p)throw new Error(`Failed to resolve the soft link: ${a.ipns} - Could not resolve DNSLink`);const v=(await getSimpleLinks(e,decodeCID(p))).public.cid,y=removePartition(c),_=await(await PublicTree.fromCID(e,n,decodeCID(v))).get(unwrap(y));return _&&(_.readOnly=!0),_}getLinks(){return Object.values(this.links).reduce((e,n)=>{const a=this.header.skeleton[n.name];return{...e,[n.name]:a&&a.isFile!==void 0?{...n,isFile:a.isFile}:{...n}}},{})}updateLink(e,n){const{cid:a,metadata:o,userland:u,size:c,isFile:d,skeleton:p}=n;return this.assignLink({name:e,link:make(e,a,!1,c),skeleton:{cid:encodeCID(a),metadata:o,userland:u,subSkeleton:p,isFile:d}}),this}insertSoftLink({name:e,path:n,username:a}){const o={ipns:this.reference.dataRoot.domain(a)+`/public/${toPosix(n)}`,name:e};return this.assignLink({name:e,link:o,skeleton:o}),this}}function makeReadOnly(t){return t&&(t.readOnly=!0),t}let wasm;const heap=new Array(32).fill(void 0);heap.push(void 0,null,!0,!1);function getObject(t){return heap[t]}let WASM_VECTOR_LEN=0,cachedUint8Memory0;function getUint8Memory0(){return cachedUint8Memory0.byteLength===0&&(cachedUint8Memory0=new Uint8Array(wasm.memory.buffer)),cachedUint8Memory0}const cachedTextEncoder=new TextEncoder("utf-8"),encodeString=typeof cachedTextEncoder.encodeInto=="function"?function(t,e){return cachedTextEncoder.encodeInto(t,e)}:function(t,e){const n=cachedTextEncoder.encode(t);return e.set(n),{read:t.length,written:n.length}};function passStringToWasm0(t,e,n){if(n===void 0){const d=cachedTextEncoder.encode(t),p=e(d.length);return getUint8Memory0().subarray(p,p+d.length).set(d),WASM_VECTOR_LEN=d.length,p}let a=t.length,o=e(a);const u=getUint8Memory0();let c=0;for(;c<a;c++){const d=t.charCodeAt(c);if(d>127)break;u[o+c]=d}if(c!==a){c!==0&&(t=t.slice(c)),o=n(o,a,a=c+t.length*3);const d=getUint8Memory0().subarray(o+c,o+a),p=encodeString(t,d);c+=p.written}return WASM_VECTOR_LEN=c,o}function isLikeNone(t){return t==null}let cachedInt32Memory0;function getInt32Memory0(){return cachedInt32Memory0.byteLength===0&&(cachedInt32Memory0=new Int32Array(wasm.memory.buffer)),cachedInt32Memory0}let heap_next=heap.length;function dropObject(t){t<36||(heap[t]=heap_next,heap_next=t)}function takeObject(t){const e=getObject(t);return dropObject(t),e}const cachedTextDecoder=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});cachedTextDecoder.decode();function getStringFromWasm0(t,e){return cachedTextDecoder.decode(getUint8Memory0().subarray(t,t+e))}function addHeapObject(t){heap_next===heap.length&&heap.push(heap.length+1);const e=heap_next;return heap_next=heap[e],heap[e]=t,e}function debugString(t){const e=typeof t;if(e=="number"||e=="boolean"||t==null)return`${t}`;if(e=="string")return`"${t}"`;if(e=="symbol"){const o=t.description;return o==null?"Symbol":`Symbol(${o})`}if(e=="function"){const o=t.name;return typeof o=="string"&&o.length>0?`Function(${o})`:"Function"}if(Array.isArray(t)){const o=t.length;let u="[";o>0&&(u+=debugString(t[0]));for(let c=1;c<o;c++)u+=", "+debugString(t[c]);return u+="]",u}const n=/\[object ([^\]]+)\]/.exec(toString.call(t));let a;if(n.length>1)a=n[1];else return toString.call(t);if(a=="Object")try{return"Object("+JSON.stringify(t)+")"}catch{return"Object"}return t instanceof Error?`${t.name}: ${t.message}
${t.stack}`:a}const CLOSURE_DTORS=new FinalizationRegistry(t=>{wasm.__wbindgen_export_2.get(t.dtor)(t.a,t.b)});function makeMutClosure(t,e,n,a){const o={a:t,b:e,cnt:1,dtor:n},u=(...c)=>{o.cnt++;const d=o.a;o.a=0;try{return a(d,o.b,...c)}finally{--o.cnt===0?(wasm.__wbindgen_export_2.get(o.dtor)(d,o.b),CLOSURE_DTORS.unregister(o)):o.a=d}};return u.original=o,CLOSURE_DTORS.register(u,o,o),u}function __wbg_adapter_20(t,e,n){wasm._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__ha1ec3a5271c97341(t,e,addHeapObject(n))}let stack_pointer=32;function addBorrowedObject(t){if(stack_pointer==1)throw new Error("out of js stack");return heap[--stack_pointer]=t,stack_pointer}function passArray8ToWasm0(t,e){const n=e(t.length*1);return getUint8Memory0().set(t,n/1),WASM_VECTOR_LEN=t.length,n}function _assertClass(t,e){if(!(t instanceof e))throw new Error(`expected instance of ${e.name}`);return t.ptr}function getArrayU8FromWasm0(t,e){return getUint8Memory0().subarray(t/1,t/1+e)}function handleError(t,e){try{return t.apply(this,e)}catch(n){wasm.__wbindgen_exn_store(addHeapObject(n))}}function __wbg_adapter_82(t,e,n,a){wasm.wasm_bindgen__convert__closures__invoke2_mut__h1338dfb1e5ae1cd8(t,e,addHeapObject(n),addHeapObject(a))}new FinalizationRegistry(t=>wasm.__wbg_foreignblockstore_free(t));const PublicDirectoryFinalization=new FinalizationRegistry(t=>wasm.__wbg_publicdirectory_free(t));class PublicDirectory{static __wrap(e){const n=Object.create(PublicDirectory.prototype);return n.ptr=e,PublicDirectoryFinalization.register(n,n.ptr,n),n}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,PublicDirectoryFinalization.unregister(this),e}free(){const e=this.__destroy_into_raw();wasm.__wbg_publicdirectory_free(e)}constructor(e){try{const n=wasm.publicdirectory_new(addBorrowedObject(e));return PublicDirectory.__wrap(n)}finally{heap[stack_pointer++]=void 0}}getNode(e,n){try{const c=wasm.__wbindgen_add_to_stack_pointer(-16);wasm.publicdirectory_getNode(c,this.ptr,addBorrowedObject(e),addHeapObject(n));var a=getInt32Memory0()[c/4+0],o=getInt32Memory0()[c/4+1],u=getInt32Memory0()[c/4+2];if(u)throw takeObject(o);return takeObject(a)}finally{wasm.__wbindgen_add_to_stack_pointer(16),heap[stack_pointer++]=void 0}}lookupNode(e,n){try{const c=wasm.__wbindgen_add_to_stack_pointer(-16),d=passStringToWasm0(e,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),p=WASM_VECTOR_LEN;wasm.publicdirectory_lookupNode(c,this.ptr,d,p,addHeapObject(n));var a=getInt32Memory0()[c/4+0],o=getInt32Memory0()[c/4+1],u=getInt32Memory0()[c/4+2];if(u)throw takeObject(o);return takeObject(a)}finally{wasm.__wbindgen_add_to_stack_pointer(16)}}store(e){try{const u=wasm.__wbindgen_add_to_stack_pointer(-16);wasm.publicdirectory_store(u,this.ptr,addHeapObject(e));var n=getInt32Memory0()[u/4+0],a=getInt32Memory0()[u/4+1],o=getInt32Memory0()[u/4+2];if(o)throw takeObject(a);return takeObject(n)}finally{wasm.__wbindgen_add_to_stack_pointer(16)}}static load(e,n){try{const c=wasm.__wbindgen_add_to_stack_pointer(-16),d=passArray8ToWasm0(e,wasm.__wbindgen_malloc),p=WASM_VECTOR_LEN;wasm.publicdirectory_load(c,d,p,addHeapObject(n));var a=getInt32Memory0()[c/4+0],o=getInt32Memory0()[c/4+1],u=getInt32Memory0()[c/4+2];if(u)throw takeObject(o);return takeObject(a)}finally{wasm.__wbindgen_add_to_stack_pointer(16)}}read(e,n){try{const c=wasm.__wbindgen_add_to_stack_pointer(-16);wasm.publicdirectory_read(c,this.ptr,addBorrowedObject(e),addHeapObject(n));var a=getInt32Memory0()[c/4+0],o=getInt32Memory0()[c/4+1],u=getInt32Memory0()[c/4+2];if(u)throw takeObject(o);return takeObject(a)}finally{wasm.__wbindgen_add_to_stack_pointer(16),heap[stack_pointer++]=void 0}}ls(e,n){try{const c=wasm.__wbindgen_add_to_stack_pointer(-16);wasm.publicdirectory_ls(c,this.ptr,addBorrowedObject(e),addHeapObject(n));var a=getInt32Memory0()[c/4+0],o=getInt32Memory0()[c/4+1],u=getInt32Memory0()[c/4+2];if(u)throw takeObject(o);return takeObject(a)}finally{wasm.__wbindgen_add_to_stack_pointer(16),heap[stack_pointer++]=void 0}}rm(e,n){try{const c=wasm.__wbindgen_add_to_stack_pointer(-16);wasm.publicdirectory_rm(c,this.ptr,addBorrowedObject(e),addHeapObject(n));var a=getInt32Memory0()[c/4+0],o=getInt32Memory0()[c/4+1],u=getInt32Memory0()[c/4+2];if(u)throw takeObject(o);return takeObject(a)}finally{wasm.__wbindgen_add_to_stack_pointer(16),heap[stack_pointer++]=void 0}}write(e,n,a,o){try{const p=wasm.__wbindgen_add_to_stack_pointer(-16),v=passArray8ToWasm0(n,wasm.__wbindgen_malloc),y=WASM_VECTOR_LEN;wasm.publicdirectory_write(p,this.ptr,addBorrowedObject(e),v,y,addBorrowedObject(a),addHeapObject(o));var u=getInt32Memory0()[p/4+0],c=getInt32Memory0()[p/4+1],d=getInt32Memory0()[p/4+2];if(d)throw takeObject(c);return takeObject(u)}finally{wasm.__wbindgen_add_to_stack_pointer(16),heap[stack_pointer++]=void 0,heap[stack_pointer++]=void 0}}basicMv(e,n,a,o){try{const p=wasm.__wbindgen_add_to_stack_pointer(-16);wasm.publicdirectory_basicMv(p,this.ptr,addBorrowedObject(e),addBorrowedObject(n),addBorrowedObject(a),addHeapObject(o));var u=getInt32Memory0()[p/4+0],c=getInt32Memory0()[p/4+1],d=getInt32Memory0()[p/4+2];if(d)throw takeObject(c);return takeObject(u)}finally{wasm.__wbindgen_add_to_stack_pointer(16),heap[stack_pointer++]=void 0,heap[stack_pointer++]=void 0,heap[stack_pointer++]=void 0}}mkdir(e,n,a){try{const d=wasm.__wbindgen_add_to_stack_pointer(-16);wasm.publicdirectory_mkdir(d,this.ptr,addBorrowedObject(e),addBorrowedObject(n),addHeapObject(a));var o=getInt32Memory0()[d/4+0],u=getInt32Memory0()[d/4+1],c=getInt32Memory0()[d/4+2];if(c)throw takeObject(u);return takeObject(o)}finally{wasm.__wbindgen_add_to_stack_pointer(16),heap[stack_pointer++]=void 0,heap[stack_pointer++]=void 0}}baseHistoryOn(e,n){try{const c=wasm.__wbindgen_add_to_stack_pointer(-16);_assertClass(e,PublicDirectory),wasm.publicdirectory_baseHistoryOn(c,this.ptr,e.ptr,addHeapObject(n));var a=getInt32Memory0()[c/4+0],o=getInt32Memory0()[c/4+1],u=getInt32Memory0()[c/4+2];if(u)throw takeObject(o);return takeObject(a)}finally{wasm.__wbindgen_add_to_stack_pointer(16)}}previousCid(){const e=wasm.publicdirectory_previousCid(this.ptr);return takeObject(e)}metadata(){try{const o=wasm.__wbindgen_add_to_stack_pointer(-16);wasm.publicdirectory_metadata(o,this.ptr);var e=getInt32Memory0()[o/4+0],n=getInt32Memory0()[o/4+1],a=getInt32Memory0()[o/4+2];if(a)throw takeObject(n);return takeObject(e)}finally{wasm.__wbindgen_add_to_stack_pointer(16)}}asNode(){const e=wasm.publicdirectory_asNode(this.ptr);return PublicNode.__wrap(e)}getId(){try{const a=wasm.__wbindgen_add_to_stack_pointer(-16);wasm.publicdirectory_getId(a,this.ptr);var e=getInt32Memory0()[a/4+0],n=getInt32Memory0()[a/4+1];return getStringFromWasm0(e,n)}finally{wasm.__wbindgen_add_to_stack_pointer(16),wasm.__wbindgen_free(e,n)}}}const PublicFileFinalization=new FinalizationRegistry(t=>wasm.__wbg_publicfile_free(t));class PublicFile{static __wrap(e){const n=Object.create(PublicFile.prototype);return n.ptr=e,PublicFileFinalization.register(n,n.ptr,n),n}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,PublicFileFinalization.unregister(this),e}free(){const e=this.__destroy_into_raw();wasm.__wbg_publicfile_free(e)}constructor(e,n){try{const c=wasm.__wbindgen_add_to_stack_pointer(-16),d=passArray8ToWasm0(n,wasm.__wbindgen_malloc),p=WASM_VECTOR_LEN;wasm.publicfile_new(c,addBorrowedObject(e),d,p);var a=getInt32Memory0()[c/4+0],o=getInt32Memory0()[c/4+1],u=getInt32Memory0()[c/4+2];if(u)throw takeObject(o);return PublicFile.__wrap(a)}finally{wasm.__wbindgen_add_to_stack_pointer(16),heap[stack_pointer++]=void 0}}getId(){try{const a=wasm.__wbindgen_add_to_stack_pointer(-16);wasm.publicfile_getId(a,this.ptr);var e=getInt32Memory0()[a/4+0],n=getInt32Memory0()[a/4+1];return getStringFromWasm0(e,n)}finally{wasm.__wbindgen_add_to_stack_pointer(16),wasm.__wbindgen_free(e,n)}}store(e){try{const u=wasm.__wbindgen_add_to_stack_pointer(-16);wasm.publicfile_store(u,this.ptr,addHeapObject(e));var n=getInt32Memory0()[u/4+0],a=getInt32Memory0()[u/4+1],o=getInt32Memory0()[u/4+2];if(o)throw takeObject(a);return takeObject(n)}finally{wasm.__wbindgen_add_to_stack_pointer(16)}}static load(e,n){try{const c=wasm.__wbindgen_add_to_stack_pointer(-16),d=passArray8ToWasm0(e,wasm.__wbindgen_malloc),p=WASM_VECTOR_LEN;wasm.publicfile_load(c,d,p,addHeapObject(n));var a=getInt32Memory0()[c/4+0],o=getInt32Memory0()[c/4+1],u=getInt32Memory0()[c/4+2];if(u)throw takeObject(o);return takeObject(a)}finally{wasm.__wbindgen_add_to_stack_pointer(16)}}previousCid(){const e=wasm.publicfile_previousCid(this.ptr);return takeObject(e)}metadata(){try{const o=wasm.__wbindgen_add_to_stack_pointer(-16);wasm.publicfile_metadata(o,this.ptr);var e=getInt32Memory0()[o/4+0],n=getInt32Memory0()[o/4+1],a=getInt32Memory0()[o/4+2];if(a)throw takeObject(n);return takeObject(e)}finally{wasm.__wbindgen_add_to_stack_pointer(16)}}contentCid(){try{const o=wasm.__wbindgen_add_to_stack_pointer(-16);wasm.publicfile_contentCid(o,this.ptr);var e=getInt32Memory0()[o/4+0],n=getInt32Memory0()[o/4+1],a=getArrayU8FromWasm0(e,n).slice();return wasm.__wbindgen_free(e,n*1),a}finally{wasm.__wbindgen_add_to_stack_pointer(16)}}}const PublicNodeFinalization=new FinalizationRegistry(t=>wasm.__wbg_publicnode_free(t));class PublicNode{static __wrap(e){const n=Object.create(PublicNode.prototype);return n.ptr=e,PublicNodeFinalization.register(n,n.ptr,n),n}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,PublicNodeFinalization.unregister(this),e}free(){const e=this.__destroy_into_raw();wasm.__wbg_publicnode_free(e)}asDir(){try{const o=wasm.__wbindgen_add_to_stack_pointer(-16);wasm.publicnode_asDir(o,this.ptr);var e=getInt32Memory0()[o/4+0],n=getInt32Memory0()[o/4+1],a=getInt32Memory0()[o/4+2];if(a)throw takeObject(n);return PublicDirectory.__wrap(e)}finally{wasm.__wbindgen_add_to_stack_pointer(16)}}asFile(){try{const o=wasm.__wbindgen_add_to_stack_pointer(-16);wasm.publicnode_asFile(o,this.ptr);var e=getInt32Memory0()[o/4+0],n=getInt32Memory0()[o/4+1],a=getInt32Memory0()[o/4+2];if(a)throw takeObject(n);return PublicFile.__wrap(e)}finally{wasm.__wbindgen_add_to_stack_pointer(16)}}isDir(){return wasm.publicnode_isDir(this.ptr)!==0}isFile(){return wasm.publicnode_isFile(this.ptr)!==0}getId(){try{const a=wasm.__wbindgen_add_to_stack_pointer(-16);wasm.publicnode_getId(a,this.ptr);var e=getInt32Memory0()[a/4+0],n=getInt32Memory0()[a/4+1];return getStringFromWasm0(e,n)}finally{wasm.__wbindgen_add_to_stack_pointer(16),wasm.__wbindgen_free(e,n)}}}async function load(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(a){if(t.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",a);else throw a}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}else{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}function getImports(){const t={};return t.wbg={},t.wbg.__wbindgen_string_get=function(e,n){const a=getObject(n),o=typeof a=="string"?a:void 0;var u=isLikeNone(o)?0:passStringToWasm0(o,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),c=WASM_VECTOR_LEN;getInt32Memory0()[e/4+1]=c,getInt32Memory0()[e/4+0]=u},t.wbg.__wbindgen_object_drop_ref=function(e){takeObject(e)},t.wbg.__wbg_publicdirectory_new=function(e){const n=PublicDirectory.__wrap(e);return addHeapObject(n)},t.wbg.__wbg_publicfile_new=function(e){const n=PublicFile.__wrap(e);return addHeapObject(n)},t.wbg.__wbg_publicnode_new=function(e){const n=PublicNode.__wrap(e);return addHeapObject(n)},t.wbg.__wbindgen_string_new=function(e,n){const a=getStringFromWasm0(e,n);return addHeapObject(a)},t.wbg.__wbg_putBlock_88cdb3be9020efb7=function(e,n,a,o){var u=getArrayU8FromWasm0(n,a).slice();wasm.__wbindgen_free(n,a*1);const c=getObject(e).putBlock(u,o>>>0);return addHeapObject(c)},t.wbg.__wbg_getBlock_ef67031e09d5c6fd=function(e,n,a){var o=getArrayU8FromWasm0(n,a).slice();wasm.__wbindgen_free(n,a*1);const u=getObject(e).getBlock(o);return addHeapObject(u)},t.wbg.__wbindgen_bigint_new=function(e,n){const a=BigInt(getStringFromWasm0(e,n));return addHeapObject(a)},t.wbg.__wbindgen_number_new=function(e){return addHeapObject(e)},t.wbg.__wbindgen_cb_drop=function(e){const n=takeObject(e).original;return n.cnt--==1?(n.a=0,!0):!1},t.wbg.__wbg_new_693216e109162396=function(){const e=new Error;return addHeapObject(e)},t.wbg.__wbg_stack_0ddaca5d1abfb52f=function(e,n){const a=getObject(n).stack,o=passStringToWasm0(a,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),u=WASM_VECTOR_LEN;getInt32Memory0()[e/4+1]=u,getInt32Memory0()[e/4+0]=o},t.wbg.__wbg_error_09919627ac0992f5=function(e,n){try{console.error(getStringFromWasm0(e,n))}finally{wasm.__wbindgen_free(e,n)}},t.wbg.__wbg_get_f0f4f1608ebf633e=function(e,n){const a=getObject(e)[n>>>0];return addHeapObject(a)},t.wbg.__wbg_length_93debb0e2e184ab6=function(e){return getObject(e).length},t.wbg.__wbg_new_2ab697f1555e0dbc=function(){const e=new Array;return addHeapObject(e)},t.wbg.__wbg_new_306ce8d57919e6ae=function(){const e=new Object;return addHeapObject(e)},t.wbg.__wbg_push_811c8b08bf4ff9d5=function(e,n){return getObject(e).push(getObject(n))},t.wbg.__wbg_new_651776e932b7e9c7=function(e,n){const a=new Error(getStringFromWasm0(e,n));return addHeapObject(a)},t.wbg.__wbg_call_9855a4612eb496cb=function(){return handleError(function(e,n,a){const o=getObject(e).call(getObject(n),getObject(a));return addHeapObject(o)},arguments)},t.wbg.__wbg_getTime_7c8d3b79f51e2b87=function(e){return getObject(e).getTime()},t.wbg.__wbg_new_78403b138428b684=function(e,n){try{var a={a:e,b:n},o=(c,d)=>{const p=a.a;a.a=0;try{return __wbg_adapter_82(p,a.b,c,d)}finally{a.a=p}};const u=new Promise(o);return addHeapObject(u)}finally{a.a=a.b=0}},t.wbg.__wbg_resolve_f269ce174f88b294=function(e){const n=Promise.resolve(getObject(e));return addHeapObject(n)},t.wbg.__wbg_then_1c698eedca15eed6=function(e,n){const a=getObject(e).then(getObject(n));return addHeapObject(a)},t.wbg.__wbg_then_4debc41d4fc92ce5=function(e,n,a){const o=getObject(e).then(getObject(n),getObject(a));return addHeapObject(o)},t.wbg.__wbg_buffer_de1150f91b23aa89=function(e){const n=getObject(e).buffer;return addHeapObject(n)},t.wbg.__wbg_newwithbyteoffsetandlength_9ca61320599a2c84=function(e,n,a){const o=new Uint8Array(getObject(e),n>>>0,a>>>0);return addHeapObject(o)},t.wbg.__wbg_new_97cf52648830a70d=function(e){const n=new Uint8Array(getObject(e));return addHeapObject(n)},t.wbg.__wbg_set_a0172b213e2469e9=function(e,n,a){getObject(e).set(getObject(n),a>>>0)},t.wbg.__wbg_length_e09c0b925ab8de5d=function(e){return getObject(e).length},t.wbg.__wbg_set_b12cd0ab82903c2f=function(){return handleError(function(e,n,a){return Reflect.set(getObject(e),getObject(n),getObject(a))},arguments)},t.wbg.__wbindgen_debug_string=function(e,n){const a=debugString(getObject(n)),o=passStringToWasm0(a,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),u=WASM_VECTOR_LEN;getInt32Memory0()[e/4+1]=u,getInt32Memory0()[e/4+0]=o},t.wbg.__wbindgen_throw=function(e,n){throw new Error(getStringFromWasm0(e,n))},t.wbg.__wbindgen_memory=function(){const e=wasm.memory;return addHeapObject(e)},t.wbg.__wbindgen_closure_wrapper945=function(e,n,a){const o=makeMutClosure(e,n,417,__wbg_adapter_20);return addHeapObject(o)},t}function finalizeInit(t,e){return wasm=t.exports,init.__wbindgen_wasm_module=e,cachedInt32Memory0=new Int32Array(wasm.memory.buffer),cachedUint8Memory0=new Uint8Array(wasm.memory.buffer),wasm}async function init(t){typeof t>"u"&&(t=new URL("/minder-preview/Erudition/Minder/branch/master/assets/wasm_wnfs_bg-f3b54d92.wasm",self.location));const e=getImports();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:n,module:a}=await load(await t,e);return finalizeInit(n,a)}class DepotBlockStore{constructor(e){this.depot=e}async getBlock(e){const n=CID.decode(e);return await this.depot.getBlock(n)}async putBlock(e,n){if(!isIdentifier(n))throw new Error(`No codec was registered for the code: ${numberHex(n)}`);return(await this.depot.putBlock(e,n)).bytes}}let initialized=!1;async function loadWasm({manners:t}){if(initialized)return;initialized=!0,t.log("⏬ Loading WNFS WASM");const e=performance.now();await init(t.wnfsWasmLookup(WASM_WNFS_VERSION));const n=performance.now()-e;t.log(`🧪 Loaded WNFS WASM (${n.toFixed(0)}ms)`)}class PublicRootWasm{constructor(e,n,a,o){this.dependencies=e,this.root=Promise.resolve(n),this.lastRoot=n,this.store=a,this.readOnly=o}static async empty(e){await loadWasm(e);const n=new DepotBlockStore(e.depot),a=new PublicDirectory(new Date);return new PublicRootWasm(e,a,n,!1)}static async fromCID(e,n){await loadWasm(e);const a=new DepotBlockStore(e.depot),o=await PublicDirectory.load(n.bytes,a);return new PublicRootWasm(e,o,a,!1)}async atomically(e){const n=await this.root;this.root=e(n),await this.root}async withError(e,n){try{return await e}catch(a){throw console.error(`Error during WASM operation ${n}:`),a}}async ls(e){const n=await this.root,{result:a}=await this.withError(n.getNode(e,this.store),`ls(${e.join("/")})`);if(a==null)throw new Error(`Can't ls ${e.join("/")}: No such directory`);if(!a.isDir())throw new Error(`Can't ls ${e.join("/")}: Not a directory`);const o=a.asDir(),{result:u}=await this.withError(n.ls(e,this.store),`ls(${e.join("/")})`),c={};for(const d of u){const p=await o.lookupNode(d.name,this.store),v=p.isFile()?CID.decode(await p.asFile().store(this.store)):CID.decode(await p.asDir().store(this.store));c[d.name]={name:d.name,isFile:d.metadata.unixMeta.kind==="file",size:0,cid:v}}return c}async mkdir(e){return await this.atomically(async n=>{const{rootDir:a}=await this.withError(n.mkdir(e,new Date,this.store),`mkdir(${e.join("/")})`);return a}),this}async cat(e){const n=await this.root,{result:a}=await this.withError(n.read(e,this.store),`read(${e.join("/")})`),o=CID.decode(a);return this.dependencies.depot.getUnixFile(o)}async add(e,n){const{cid:a}=await this.dependencies.depot.putChunked(n);return await this.atomically(async o=>{const{rootDir:u}=await this.withError(o.write(e,a.bytes,new Date,this.store),`write(${e.join("/")})`);return u}),this}async rm(e){return await this.atomically(async n=>{const{rootDir:a}=await this.withError(n.rm(e,this.store),`rm(${e.join("/")})`);return a}),this}async mv(e,n){return await this.atomically(async a=>{const{rootDir:o}=await this.withError(a.basicMv(e,n,new Date,this.store),`basicMv(${e.join("/")}, ${n.join("/")})`);return o}),this}async get(e){const n=await this.root,{result:a}=await this.withError(n.getNode(e,this.store),`getNode(${e.join("/")})`);if(a==null)return null;if(a.isFile()){const o=a.asFile(),u=await this.cat(e),c=e.slice(0,-1),d=e[e.length-1];return new PublicFileWasm(u,c,d,this,o)}else if(a.isDir()){const o=a.asDir();return new PublicDirectoryWasm(this.readOnly,e,this,o)}throw new Error("Unknown node type. Can only handle files and directories.")}async exists(e){const n=await this.root;try{return await n.getNode(e,this.store),!0}catch{return!1}}async historyStep(){return await this.atomically(async e=>{const{rootDir:n}=await e.baseHistoryOn(this.lastRoot,this.store);return this.lastRoot=e,n}),await this.root}async put(){const n=await(await this.historyStep()).store(this.store);return CID.decode(n)}async putDetailed(){return{cid:await this.put(),size:0,isFile:!1}}}class PublicDirectoryWasm{constructor(e,n,a,o){this.readOnly=e,this.directory=n,this.publicRoot=a,this.cachedDir=o}checkMutability(e){if(this.readOnly)throw new Error(`Directory is read-only. Cannot ${e}`)}async updateCache(){const n=await(await this.publicRoot.root).getNode(this.directory,this.publicRoot.store);this.cachedDir=n.asDir()}get header(){return nodeHeader(this.cachedDir)}async ls(e){return await this.publicRoot.ls([...this.directory,...e])}async mkdir(e){return this.checkMutability(`mkdir at ${[...this.directory,...e].join("/")}`),await this.publicRoot.mkdir([...this.directory,...e]),await this.updateCache(),this}async cat(e){return await this.publicRoot.cat([...this.directory,...e])}async add(e,n){return this.checkMutability(`write at ${[...this.directory,...e].join("/")}`),await this.publicRoot.add([...this.directory,...e],n),await this.updateCache(),this}async rm(e){return this.checkMutability(`remove at ${[...this.directory,...e].join("/")}`),await this.publicRoot.rm([...this.directory,...e]),await this.updateCache(),this}async mv(e,n){return this.checkMutability(`mv from ${[...this.directory,...e].join("/")} to ${[...this.directory,...n].join("/")}`),await this.publicRoot.mv([...this.directory,...e],[...this.directory,...n]),await this.updateCache(),this}async get(e){return await this.publicRoot.get([...this.directory,...e])}async exists(e){return await this.publicRoot.exists([...this.directory,...e])}async put(){await this.publicRoot.put();const n=await(await this.publicRoot.root).store(this.publicRoot.store);return CID.decode(n)}async putDetailed(){return{isFile:!1,size:0,cid:await this.put()}}}class PublicFileWasm extends BaseFile{constructor(e,n,a,o,u){super(e),this.directory=n,this.filename=a,this.publicRoot=o,this.cachedFile=u}async updateCache(){const n=await(await this.publicRoot.root).getNode([...this.directory,this.filename],this.publicRoot.store);this.cachedFile=n.asFile()}get header(){return nodeHeader(this.cachedFile)}async updateContent(e){return await super.updateContent(e),await this.updateCache(),this}async putDetailed(){const e=await this.publicRoot.root,n=[...this.directory,this.filename],{result:a}=await e.getNode(n,this.publicRoot.store);if(a==null)throw new Error(`No file at /${n.join("/")}.`);if(!a.isFile())throw new Error(`Not a file at /${n.join("/")}`);const o=a.asFile();return{isFile:!0,size:0,cid:CID.decode(await o.store(this.publicRoot.store))}}}function nodeHeader(t){const e=t.metadata(),n={isFile:e.unixMeta.kind==="file",version:e.version,unixMeta:{_type:e.unixMeta.kind,ctime:Number(e.unixMeta.created),mtime:Number(e.unixMeta.modified),mode:e.unixMeta.mode}},a=t.previousCid();return a==null?{metadata:n}:{metadata:n,previous:CID.decode(a)}}class RootTree{constructor({dependencies:e,links:n,mmpt:a,privateLog:o,sharedCounter:u,sharedLinks:c,publicTree:d,prettyTree:p,privateNodes:v}){this.dependencies=e,this.links=n,this.mmpt=a,this.privateLog=o,this.sharedCounter=u,this.sharedLinks=c,this.publicTree=d,this.prettyTree=p,this.privateNodes=v}static async empty({accountDID:e,dependencies:n,rootKey:a,wnfsWasm:o}){o&&n.manners.log("⚠️ Running an EXPERIMENTAL new version of the file system: 3.0.0");const u=o?await PublicRootWasm.empty(n):await PublicTree.empty(n.depot,n.reference),c=await BareTree.empty(n.depot),d=MMPT.create(n.depot),p=toPosix(directory(RootBranch.Private)),v=await PrivateTree.create(n.crypto,n.depot,n.manners,n.reference,d,a,null);await v.put();const y=new RootTree({dependencies:n,links:{},mmpt:d,privateLog:[],sharedCounter:1,sharedLinks:{},publicTree:u,prettyTree:c,privateNodes:{[p]:v}});return await store({accountDID:e,crypto:n.crypto,readKey:a}),await y.setVersion(o?wnfsWasm:latest),await Promise.all([y.updatePuttable(RootBranch.Public,u),y.updatePuttable(RootBranch.Pretty,c),y.updatePuttable(RootBranch.Private,d)]),y}static async fromCID({accountDID:e,dependencies:n,cid:a,permissions:o}){const{crypto:u,depot:c,manners:d}=n,p=await getSimpleLinks(n.depot,a),v=await permissionKeys(u,e,o||ROOT_FILESYSTEM_PERMISSIONS),y=await parseVersionFromLinks(n.depot,p),b=equals(y,wnfsWasm);b&&n.manners.log("⚠️ Running an EXPERIMENTAL new version of the file system: 3.0.0");const _=p[RootBranch.Public]?.cid||null,w=_===null?await PublicTree.empty(n.depot,n.reference):b?await PublicRootWasm.fromCID({depot:c,manners:d},decodeCID(_)):await PublicTree.fromCID(n.depot,n.reference,decodeCID(_)),E=p[RootBranch.Pretty]?await BareTree.fromCID(n.depot,decodeCID(p[RootBranch.Pretty].cid)):await BareTree.empty(n.depot),$=p[RootBranch.Private]?.cid||null;let C,P;$===null?(C=MMPT.create(n.depot),P={}):(C=await MMPT.fromCID(n.depot,decodeCID($)),P=await loadPrivateNodes(n,e,v,C));const z=p[RootBranch.PrivateLog]?.cid,J=z?await getPB(c,decodeCID(z)).then(Pe=>Pe.Links.map(fromDAGLink)).then(Pe=>Pe.sort((it,fe)=>parseInt(it.name,10)-parseInt(fe.name,10))):[],X=p[RootBranch.Shared]?.cid||null,re=X?await this.getSharedLinks(c,decodeCID(X)):{},de=p[RootBranch.SharedCounter]?.cid||null,xe=de?await getFile(n.depot,decodeCID(de)).then(Pe=>JSON.parse(toString$2(Pe,"utf8"))):1,$e=new RootTree({dependencies:n,links:p,mmpt:C,privateLog:J,sharedCounter:xe,sharedLinks:re,publicTree:w,prettyTree:E,privateNodes:P});return p[RootBranch.Version]==null&&await $e.setVersion(latest),$e}async put(){const{cid:e}=await this.putDetailed();return e}async putDetailed(){return putLinks(this.dependencies.depot,this.links)}updateLink(e,n){const{cid:a,size:o,isFile:u}=n;return this.links[e]=make(e,a,u,o),this}async updatePuttable(e,n){return this.updateLink(e,await n.putDetailed())}findPrivateNode(e){return findPrivateNode(this.privateNodes,e)}async addPrivateLogEntry(e,n){const a=[...this.privateLog];let o=Math.max(0,a.length-1),u=a[o]?.cid?await e.getUnixFile(decodeCID(a[o].cid)).then(b=>toString$2(b,"utf8")).then(b=>b.split(",")):[];u.length+1>RootTree.LOG_CHUNK_SIZE&&(o=o+1,u=[]);const d=await this.dependencies.crypto.hash.sha256(fromString$2(encodeCID(n),"utf8")),p=[...u,d],v=await putFile$1(this.dependencies.depot,fromString$2(p.join(","),"utf8"));a[o]={name:o.toString(),cid:v.cid,size:v.size};const y=await putPB(this.dependencies.depot,a.map(toDAGLink));this.updateLink(RootBranch.PrivateLog,{cid:y,isFile:!1,size:await this.dependencies.depot.size(y)}),this.privateLog=a}async addShares(e){this.sharedLinks=e.reduce((o,u)=>({...o,[u.name]:u}),this.sharedLinks);const n=Object.values(this.sharedLinks).reduce((o,{cid:u,name:c,size:d})=>({...o,[c]:{cid:u,name:c,size:d}}),{}),a=await this.dependencies.depot.putBlock(encode$2(n),code$1);return this.updateLink(RootBranch.Shared,{cid:a,isFile:!1,size:await this.dependencies.depot.size(a)}),this}static async getSharedLinks(e,n){const a=await e.getBlock(n),o=decode$1(a);if(!isObject$1(o))throw new Error("Invalid shared section, not an object");return Object.values(o).reduce((u,c)=>{if(!isObject$1(c))return u;const d=c.name?c.name:null,p=c.cid?decodeCID(c.cid):null;return!d||!p?u:{...u,[d]:{name:d,cid:p,size:c.size||0}}},{})}async setSharedCounter(e){this.sharedCounter=e;const{cid:n,size:a}=await putFile$1(this.dependencies.depot,fromString$2(JSON.stringify(e),"utf8"));return this.updateLink(RootBranch.SharedCounter,{cid:n,isFile:!0,size:a}),e}async bumpSharedCounter(){const e=this.sharedCounter+1;return this.setSharedCounter(e)}async setVersion(e){const n=fromString$2(toString$1(e),"utf8"),a=await putFile$1(this.dependencies.depot,n);return this.updateLink(RootBranch.Version,a)}async getVersion(){return await parseVersionFromLinks(this.dependencies.depot,this.links)}}RootTree.LOG_CHUNK_SIZE=1020;async function findBareNameFilter(t,e,n,a,o){const u=await bareNameFilter({accountDID:n,crypto:t,path:o}),c=await e.getItem(u);if(c)return c;const[d,p]=findPrivateNode(a,o);if(!p)return null;const y=unwrap(o).slice(unwrap(d).length);return PrivateFile.instanceOf(p)?y.length===0?p.header.bareNameFilter:null:(p.exists(y)||(isDirectory(o)?await p.mkdir(y):await p.add(y,new Uint8Array)),p.get(y).then(b=>b?b.header.bareNameFilter:null))}function findPrivateNode(t,e){const n=t[toPosix(e)];if(n)return[e,n];const a=parent(e);return a?findPrivateNode(t,a):[e,null]}function loadPrivateNodes(t,e,n,a){const{crypto:o,storage:u}=t;return sortedPathKeys(n).reduce((c,{path:d,key:p})=>c.then(async v=>{let y;const b=unwrap(d);if(b.length===1&&b[0]===RootBranch.Private)y=await PrivateTree.fromBaseKey(t.crypto,t.depot,t.manners,t.reference,a,p);else{const w=await findBareNameFilter(o,u,e,v,d);if(!w)throw new Error(`Was trying to load the PrivateTree for the path \`${d}\`, but couldn't find the bare name filter for it.`);isDirectory(d)?y=await PrivateTree.fromBareNameFilter(t.crypto,t.depot,t.manners,t.reference,a,w,p):y=await PrivateFile.fromBareNameFilter(t.crypto,t.depot,a,w,p)}const _=toPosix(d);return{...v,[_]:y}}),Promise.resolve({}))}async function parseVersionFromLinks(t,e){const n=await getFile(t,decodeCID(e[RootBranch.Version].cid));return fromString$1(toString$2(n))??v0}async function permissionKeys(t,e,n){return permissionPaths(n).reduce(async(a,o)=>{if(isPartition(RootBranch.Public,o))return a;const u=await readKey({accountDID:e,crypto:t,path:o}),c=await t.keystore.exportSymmKey(u),d={path:o,key:c};return a.then(p=>[...p,d])},Promise.resolve([]))}function sortedPathKeys(t){return t.sort((e,n)=>toPosix(e.path).localeCompare(toPosix(n.path)))}class FileSystem{constructor({account:e,dependencies:n,eventEmitter:a,root:o,localOnly:u}){this.account=e,this.dependencies=n,this.eventEmitter=a,this.localOnly=u||!1,this.proofs={},this.publishHooks=[],this.root=o,this._publishWhenOnline=[],this._publishing=!1,this._whenOnline=this._whenOnline.bind(this),this._beforeLeaving=this._beforeLeaving.bind(this);const c=async p=>{await this.dependencies.reference.repositories.cidLog.add(p),this.dependencies.manners.log("📓 Adding to the CID ledger:",p.toString())},d=throttle(3e3,!1,(p,v)=>{if(globalThis.navigator.onLine)return this._publishing=[p,!0],this.dependencies.reference.dataRoot.update(p,v).then(()=>{this._publishing&&this._publishing[0]===p&&(a.emit("fileSystem:publish",{root:p}),this._publishing=!1)});this._publishWhenOnline.push([p,v])},!1);this.publishHooks.push(c),this.publishHooks.push(d),this.localOnly||(globalThis.addEventListener("online",this._whenOnline),globalThis.addEventListener("beforeunload",this._beforeLeaving))}static async empty(e){const{account:n,dependencies:a,eventEmitter:o,localOnly:u}=e,c=e.rootKey||await a.crypto.aes.genKey(DEFAULT_AES_ALG).then(a.crypto.aes.exportKey),d=e.version===toString$1(wnfsWasm),p=await RootTree.empty({accountDID:n.rootDID,dependencies:a,rootKey:c,wnfsWasm:d});return new FileSystem({account:n,dependencies:a,eventEmitter:o,root:p,localOnly:u})}static async fromCID(e,n){const{account:a,dependencies:o,eventEmitter:u,permissions:c,localOnly:d}=n,p=await RootTree.fromCID({accountDID:a.rootDID,dependencies:o,cid:e,permissions:c});return new FileSystem({account:a,dependencies:o,eventEmitter:u,root:p,localOnly:d})}deactivate(){this.localOnly||(globalThis.removeEventListener("online",this._whenOnline),globalThis.removeEventListener("beforeunload",this._beforeLeaving))}async ls(e){if(isFile$1(e))throw new Error("`ls` only accepts directory paths");return this.runOnNode(e,{public:async(n,a)=>n.ls(a),private:async(n,a)=>{if(isFile(n))throw new Error("Tried to `ls` a file");return n.ls(a)}})}async mkdir(e,n={}){if(isFile$1(e))throw new Error("`mkdir` only accepts directory paths");return await this.runMutationOnNode(e,{public:async(a,o)=>{await a.mkdir(o)},private:async(a,o)=>{if(isFile(a))throw new Error("Tried to `mkdir` a file");await a.mkdir(o)}}),n.publish&&await this.publish(),this}async write(e,n,a={}){if(isSoftLink(n)||isSoftLinkDictionary(n)||isSoftLinkList(n)){if(isFile$1(e))throw new Error("Can't add soft links to a file");await this.runMutationOnNode(e,{public:async(u,c)=>{const d=Array.isArray(n)?n:isObject$1(n)?Object.values(n):[n];await this.runOnChildTree(u,c,async p=>(d.forEach(v=>{(PrivateTree.instanceOf(p)||PublicTree.instanceOf(p))&&p.assignLink({name:v.name,link:v,skeleton:v})}),p))},private:async(u,c)=>{const d=Array.isArray(n)?n:isObject$1(n)?Object.values(n):[n];await this.runOnChildTree(u,c,async p=>(d.forEach(v=>{(PrivateTree.instanceOf(p)||PublicTree.instanceOf(p))&&p.assignLink({name:v.name,link:v,skeleton:v})}),p))}})}else{if(isDirectory(e))throw new Error("`add` only accepts file paths when working with regular files");await this.runMutationOnNode(e,{public:async(u,c)=>{await u.add(c,n)},private:async(u,c)=>{isFile(u)?await u.updateContent(n):await u.add(c,n)}})}return a.publish&&await this.publish(),this}async read(e){if(isDirectory(e))throw new Error("`cat` only accepts file paths");return this.runOnNode(e,{public:async(n,a)=>await n.cat(a),private:async(n,a)=>isFile(n)?n.content:await n.cat(a)})}async exists(e){return this.runOnNode(e,{public:async(n,a)=>await n.exists(a),private:async(n,a)=>isFile(n)||await n.exists(a)})}async get(e){return this.runOnNode(e,{public:async(n,a)=>await n.get(a),private:async(n,a)=>isFile(n)?n:await n.get(a)})}async mv(e,n){const a=isSamePartition(e,n);if(!isSameKind(e,n)){const o=kind(e),u=kind(n);throw new Error(`Can't move to a different kind of path, from is a ${o} and to is a ${u}`)}if(!a)throw new Error("`mv` is only supported on the same tree for now");if(await this.exists(n))throw new Error("Destination already exists");return await this.runMutationOnNode(e,{public:async(o,u)=>{const[c,...d]=unwrap(n);await o.mv(u,d)},private:async(o,u)=>{if(isFile(o))throw new Error("Tried to `mv` within a file");const[c,...d]=unwrap(n);await o.mv(u,d)}}),this}resolveSymlink(e){return hasProp(e,"privateName")?PrivateTree.resolveSoftLink(this.dependencies.crypto,this.dependencies.depot,this.dependencies.manners,this.dependencies.reference,e):PublicTree.resolveSoftLink(this.dependencies.depot,this.dependencies.reference,e)}async rm(e){return await this.runMutationOnNode(e,{public:async(n,a)=>{await n.rm(a)},private:async(n,a)=>{if(isFile(n))throw new Error("Cannot `rm` a file you've asked permission for");await n.rm(a)}}),this}async symlink(e){const{at:n,name:a}=e,o=e.referringTo.path,u=e.referringTo.username||this.account.username;if(n==null)throw new Error("Missing parameter `symlink.at`");if(isFile$1(n))throw new Error("`symlink.at` only accepts directory paths");const c=isSamePartition(n,o);if(!u)throw new Error("I need a username in order to use this method");if(!c)throw new Error("`link` is only supported on the same tree for now");return await this.runMutationOnNode(n,{public:async(d,p)=>{if(!BareTree.instanceOf(d))if(PublicTree.instanceOf(d))await this.runOnChildTree(d,p,async v=>(PublicTree.instanceOf(v)&&v.insertSoftLink({path:removePartition(o),name:a,username:u}),v));else throw new Error("Symlinks not supported in WASM-WNFS yet.")},private:async(d,p)=>{if(isFile(d))throw new Error("Cannot add a soft link to a file");await this.runOnChildTree(d,p,async v=>{if(PrivateTree.instanceOf(v)){const y=await this.runOnNode(o,{public:async()=>{throw new Error("File system hit a public node within a private node. This is not supported/this should not happen.")},private:async(b,_)=>{const w=isFile(b)?b:await b.get(_);if(PrivateTree.instanceOf(w))return w;if(PrivateFile.instanceOf(w))return w;throw new Error("`symlink.referringTo` is not of the right type")}});if(!y)throw new Error("Could not find the item the symlink is referring to");v.insertSoftLink({name:a,username:u,key:y.key,privateName:await y.getName()})}return v})}}),this}async publish(){const e=Array.from(Object.entries(this.proofs));this.proofs={};const n=await this.root.put();return e.forEach(([a,o])=>{this.publishHooks.forEach(u=>u(n,o))}),n}async historyStep(){const e=this.root.publicTree;hasProp(e,"historyStep")&&typeof e.historyStep=="function"&&await e.historyStep()}async acceptShare({shareId:e,sharedBy:n}){const a=await this.loadShare({shareId:e,sharedBy:n});return await this.write(directory(RootBranch.Private,"Shared with me",n),await a.ls([]).then(Object.values).then(o=>o.filter(isSoftLink))),this}async loadShare({shareId:e,sharedBy:n}){const a=await exchange(this.dependencies.crypto),o=await this.dependencies.reference.didRoot.lookup(n),u=await create$1(this.dependencies.crypto,{counter:parseInt(e,10),recipientExchangeDid:a,senderRootDid:o}),c=await this.dependencies.reference.dataRoot.lookup(n);if(!c)throw new Error("This user doesn't have a filesystem yet.");const d=await getSimpleLinks(this.dependencies.depot,c),p=d[RootBranch.Shared]?.cid||null;if(!p)throw new Error("This user hasn't shared anything yet.");const v=await RootTree.getSharedLinks(this.dependencies.depot,decodeCID(p)),y=isObject$1(v)?v[u]:null;if(!y)throw new Error("Couldn't find a matching share.");const b=isObject$1(y)?y.cid:null;if(!b)throw new Error("Couldn't find a matching share.");const _=await this.dependencies.depot.getBlock(decodeCID(b)),w=await this.dependencies.crypto.keystore.decrypt(_),E=decode$1(w);if(!hasProp(E,"cid"))throw new Error("Share payload is missing the `cid` property");if(!hasProp(E,"key"))throw new Error("Share payload is missing the `key` property");if(!hasProp(E,"algo"))throw new Error("Share payload is missing the `algo` property");const $=E.cid,C=E.key,P=E.algo;if(!d[RootBranch.Private]?.cid)throw new Error("This user's filesystem doesn't have a private branch");const J=await MMPT.fromCID(this.dependencies.depot,decodeCID(d[RootBranch.Private]?.cid)),X=await this.dependencies.depot.getBlock(decodeCID($)),re=await this.dependencies.crypto.aes.decrypt(X,C,P),de=JSON.parse(toString$2(re,"utf8"));if(!isDecryptedNode(de))throw new Error("The share payload did not point to a valid entry index");return PrivateTree.fromInfo(this.dependencies.crypto,this.dependencies.depot,this.dependencies.manners,this.dependencies.reference,J,C,de)}async sharePrivate(e,{sharedBy:n,shareWith:a}){const o=e.filter(d=>isOnRootBranch(RootBranch.Private,d));if(!n){if(!this.account.username)throw new Error("I need a username in order to use this method");n={rootDid:this.account.rootDID,username:this.account.username}}const u=await o.reduce(async(d,p)=>{const v=await d,y=terminus(p),b=await this.get(p);return y&&(PrivateFile.instanceOf(b)||PrivateTree.instanceOf(b))?[...v,[y,b]]:v},Promise.resolve([]));if(!u.length)throw new Error("Didn't find any items to share");const c=await privateNode(this.dependencies.crypto,this.dependencies.depot,this.dependencies.manners,this.dependencies.reference,this.root,u,{shareWith:a,sharedBy:n});return await this.root.bumpSharedCounter(),await this.root.updatePuttable(RootBranch.Private,this.root.mmpt),await this.publish(),c}async checkMutationPermissionAndAddProof(e,n){const a=n?"make changes to":"query";if(!this.localOnly){const o=await this.dependencies.reference.repositories.ucans.lookupFilesystemUcan(e);if(!o||isExpired(o)||!o.signature)throw new NoPermissionError(`I don't have the necessary permissions to ${a} the file system at "${toPosix(e)}"`);this.proofs[o.signature]=o}}async runMutationOnNode(e,n){const a=unwrap(e),o=a[0],u=a.slice(1);if(await this.checkMutationPermissionAndAddProof(e,!0),o===RootBranch.Public)await n.public(this.root.publicTree,u),await n.public(this.root.prettyTree,u),await Promise.all([this.root.updatePuttable(RootBranch.Public,this.root.publicTree),this.root.updatePuttable(RootBranch.Pretty,this.root.prettyTree)]);else if(o===RootBranch.Private){const[c,d]=this.root.findPrivateNode(e);if(!d)throw new NoPermissionError(`I don't have the necessary permissions to make changes to the file system at "${toPosix(e)}"`);await n.private(d,a.slice(unwrap(c).length)),await d.put(),await this.root.updatePuttable(RootBranch.Private,this.root.mmpt);const p=await this.root.mmpt.put();await this.root.addPrivateLogEntry(this.dependencies.depot,p)}else throw o===RootBranch.Pretty?new Error("The pretty path is read only"):new Error("Not a valid FileSystem path");this.eventEmitter.emit("fileSystem:local-change",{root:await this.root.put(),path:e})}async runOnNode(e,n){const a=unwrap(e),o=a[0],u=a.slice(1);if(await this.checkMutationPermissionAndAddProof(e,!1),o===RootBranch.Public)return await n.public(this.root.publicTree,u);if(o===RootBranch.Private){const[c,d]=this.root.findPrivateNode(e);if(!d)throw new NoPermissionError(`I don't have the necessary permissions to query the file system at "${toPosix(e)}"`);return await n.private(d,a.slice(unwrap(c).length))}else{if(o===RootBranch.Pretty)return await n.public(this.root.prettyTree,u);throw new Error("Not a valid FileSystem path")}}async runOnChildTree(e,n,a){let o=e;if(n.length){await o.exists(n)||await o.mkdir(n);const u=await o.get(n);if(isTree(u))o=u;else throw new Error("Path does not point to a directory")}return o=await a(o),n.length?await e.updateChild(o,n):e}_whenOnline(){const e=[...this._publishWhenOnline];this._publishWhenOnline=[],e.forEach(([n,a])=>{this.publishHooks.forEach(o=>o(n,a))})}_beforeLeaving(e){const n="Are you sure you want to leave? We don't control the browser so you may lose your data.";if(this._publishing||this._publishWhenOnline.length)return(e||globalThis.event).returnValue=n,n}}async function loadFileSystem({config:t,dependencies:e,eventEmitter:n,rootKey:a,username:o}){const{crypto:u,depot:c,manners:d,reference:p,storage:v}=e;let y,b;const _=p.repositories.cidLog,w={username:o,rootDID:await p.didRoot.lookup(o)},E=navigator.onLine?await getDataRoot(p,o,{maxRetries:20}):null,$=E?_.indexOf(E):-1;if(navigator.onLine)if(!E)y=_.newest(),y?d.log("📓 No DNSLink, using local CID:",y.toString()):d.log("📓 Creating a new file system");else if($===_.length()-1)y=E,d.log("📓 DNSLink is up to date:",y.toString());else if($!==-1&&$<_.length()-1){y=_.newest();const z=_.length()-1-$,J=z===1?"1 newer local entry":z.toString()+" newer local entries";d.log("📓 DNSLink is outdated ("+J+"), using local CID:",y.toString())}else y=E,await _.add(y),d.log("📓 DNSLink is newer:",y.toString());else throw y=_.newest(),y&&d.log("📓 Working offline, using local CID:",y.toString()),new Error("Offline, don't have a filesystem to work with.");const C=t.permissions,P={crypto:u,depot:c,reference:p,storage:v};return y?(await checkFileSystemVersion(e.depot,t,y),await d.fileSystem.hooks.beforeLoadExisting(y,w,P),b=await FileSystem.fromCID(y,{account:w,dependencies:e,eventEmitter:n,permissions:C}),await d.fileSystem.hooks.afterLoadExisting(b,w,P),b):(await d.fileSystem.hooks.beforeLoadNew(w,P),b=await FileSystem.empty({account:w,dependencies:e,eventEmitter:n,rootKey:a,permissions:C,version:t.fileSystem?.version}),await d.fileSystem.hooks.afterLoadNew(b,w,P),b)}async function recoverFileSystem({auth:t,dependencies:e,oldUsername:n,newUsername:a,readKey:o}){const{crypto:u,reference:c,storage:d}=e,p=await write(u),{success:v}=await t.register({username:a});if(!v)throw new Error("Failed to register new user");const y=await d.getItem(d.KEYS.ACCOUNT_UCAN),b=await build({dependencies:e,potency:"APPEND",resource:"*",proof:y||void 0,lifetimeInSeconds:60*3,audience:p,issuer:p}),_=await c.dataRoot.lookup(n);if(!_)throw new Error("Failed to lookup oldUsername");return await c.dataRoot.update(_,b),await store({accountDID:p,crypto:u,readKey:o}),{success:!0}}const DEFAULT_USER_MESSAGES={versionMismatch:{newer:async()=>alertIfPossible(`Sorry, we can't sync your filesystem with this app. This app only understands older versions of filesystems.

Please try to hard refresh this site or let this app's developer know.

Feel free to contact Fission support: support@fission.codes`),older:async()=>alertIfPossible(`Sorry, we can't sync your filesystem with this app. Your filesystem version is out-dated and it needs to be migrated.

Run a migration (https://guide.fission.codes/accounts/account-signup/account-migration) or talk to Fission support: support@fission.codes`)}};async function checkFileSystemVersion(t,e,n){const a=await getSimpleLinks(t,n),o=a[RootBranch.Version]==null?"1.0.0":new TextDecoder().decode(await getFile(t,decodeCID(a[RootBranch.Version].cid))),u=async()=>(await(e.userMessages||DEFAULT_USER_MESSAGES).versionMismatch.newer(o),new Error(`Incompatible filesystem version. Version: ${o} Supported versions: ${supported.map(v=>toString$1(v)).join(", ")}. Please upgrade this app's ODD SDK version.`)),c=async()=>(await(e.userMessages||DEFAULT_USER_MESSAGES).versionMismatch.older(o),new Error(`Incompatible filesystem version. Version: ${o} Supported versions: ${supported.map(v=>toString$1(v)).join(", ")}. The user should migrate their filesystem.`)),d=fromString$1(o);if(d==null)throw await u();const p=isSupported$1(d);if(p==="too-high")throw await u();if(p==="too-low")throw await c()}function alertIfPossible(t){globalThis.alert!=null&&globalThis.alert(t)}async function getDataRoot(t,e,n={}){const a=n.maxRetries??0,o=n.retryInterval??500;let u=await t.dataRoot.lookup(e).catch(()=>null);return u?u.toString()===EMPTY_CID?null:u:new Promise((c,d)=>{let p=0;const v=setInterval(async()=>{if(u=await t.dataRoot.lookup(e).catch(()=>null),!u&&p<a){p++;return}else p>=a&&d("Failed to load data root");clearInterval(v),c(u?.toString()===EMPTY_CID?null:u)},o)})}const _globalReference=globalThis||window||self,webcrypto=_globalReference.crypto;var naclFast={exports:{}};(function(t){(function(e){var n=function(U){var Z,ee=new Float64Array(16);if(U)for(Z=0;Z<U.length;Z++)ee[Z]=U[Z];return ee},a=function(){throw new Error("no PRNG")},o=new Uint8Array(16),u=new Uint8Array(32);u[0]=9;var c=n(),d=n([1]),p=n([56129,1]),v=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),y=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),b=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),_=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),w=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function E(U,Z,ee,I){U[Z]=ee>>24&255,U[Z+1]=ee>>16&255,U[Z+2]=ee>>8&255,U[Z+3]=ee&255,U[Z+4]=I>>24&255,U[Z+5]=I>>16&255,U[Z+6]=I>>8&255,U[Z+7]=I&255}function $(U,Z,ee,I,ne){var Se,Ae=0;for(Se=0;Se<ne;Se++)Ae|=U[Z+Se]^ee[I+Se];return(1&Ae-1>>>8)-1}function C(U,Z,ee,I){return $(U,Z,ee,I,16)}function P(U,Z,ee,I){return $(U,Z,ee,I,32)}function z(U,Z,ee,I){for(var ne=I[0]&255|(I[1]&255)<<8|(I[2]&255)<<16|(I[3]&255)<<24,Se=ee[0]&255|(ee[1]&255)<<8|(ee[2]&255)<<16|(ee[3]&255)<<24,Ae=ee[4]&255|(ee[5]&255)<<8|(ee[6]&255)<<16|(ee[7]&255)<<24,Fe=ee[8]&255|(ee[9]&255)<<8|(ee[10]&255)<<16|(ee[11]&255)<<24,Ye=ee[12]&255|(ee[13]&255)<<8|(ee[14]&255)<<16|(ee[15]&255)<<24,st=I[4]&255|(I[5]&255)<<8|(I[6]&255)<<16|(I[7]&255)<<24,nt=Z[0]&255|(Z[1]&255)<<8|(Z[2]&255)<<16|(Z[3]&255)<<24,Wt=Z[4]&255|(Z[5]&255)<<8|(Z[6]&255)<<16|(Z[7]&255)<<24,pt=Z[8]&255|(Z[9]&255)<<8|(Z[10]&255)<<16|(Z[11]&255)<<24,kt=Z[12]&255|(Z[13]&255)<<8|(Z[14]&255)<<16|(Z[15]&255)<<24,Tt=I[8]&255|(I[9]&255)<<8|(I[10]&255)<<16|(I[11]&255)<<24,Ot=ee[16]&255|(ee[17]&255)<<8|(ee[18]&255)<<16|(ee[19]&255)<<24,It=ee[20]&255|(ee[21]&255)<<8|(ee[22]&255)<<16|(ee[23]&255)<<24,Mt=ee[24]&255|(ee[25]&255)<<8|(ee[26]&255)<<16|(ee[27]&255)<<24,St=ee[28]&255|(ee[29]&255)<<8|(ee[30]&255)<<16|(ee[31]&255)<<24,Bt=I[12]&255|(I[13]&255)<<8|(I[14]&255)<<16|(I[15]&255)<<24,ht=ne,wt=Se,ut=Ae,yt=Fe,mt=Ye,lt=st,Le=nt,Ne=Wt,Ze=pt,W=kt,se=Tt,te=Ot,pe=It,_e=Mt,ve=St,Oe=Bt,oe,He=0;He<20;He+=2)oe=ht+pe|0,mt^=oe<<7|oe>>>32-7,oe=mt+ht|0,Ze^=oe<<9|oe>>>32-9,oe=Ze+mt|0,pe^=oe<<13|oe>>>32-13,oe=pe+Ze|0,ht^=oe<<18|oe>>>32-18,oe=lt+wt|0,W^=oe<<7|oe>>>32-7,oe=W+lt|0,_e^=oe<<9|oe>>>32-9,oe=_e+W|0,wt^=oe<<13|oe>>>32-13,oe=wt+_e|0,lt^=oe<<18|oe>>>32-18,oe=se+Le|0,ve^=oe<<7|oe>>>32-7,oe=ve+se|0,ut^=oe<<9|oe>>>32-9,oe=ut+ve|0,Le^=oe<<13|oe>>>32-13,oe=Le+ut|0,se^=oe<<18|oe>>>32-18,oe=Oe+te|0,yt^=oe<<7|oe>>>32-7,oe=yt+Oe|0,Ne^=oe<<9|oe>>>32-9,oe=Ne+yt|0,te^=oe<<13|oe>>>32-13,oe=te+Ne|0,Oe^=oe<<18|oe>>>32-18,oe=ht+yt|0,wt^=oe<<7|oe>>>32-7,oe=wt+ht|0,ut^=oe<<9|oe>>>32-9,oe=ut+wt|0,yt^=oe<<13|oe>>>32-13,oe=yt+ut|0,ht^=oe<<18|oe>>>32-18,oe=lt+mt|0,Le^=oe<<7|oe>>>32-7,oe=Le+lt|0,Ne^=oe<<9|oe>>>32-9,oe=Ne+Le|0,mt^=oe<<13|oe>>>32-13,oe=mt+Ne|0,lt^=oe<<18|oe>>>32-18,oe=se+W|0,te^=oe<<7|oe>>>32-7,oe=te+se|0,Ze^=oe<<9|oe>>>32-9,oe=Ze+te|0,W^=oe<<13|oe>>>32-13,oe=W+Ze|0,se^=oe<<18|oe>>>32-18,oe=Oe+ve|0,pe^=oe<<7|oe>>>32-7,oe=pe+Oe|0,_e^=oe<<9|oe>>>32-9,oe=_e+pe|0,ve^=oe<<13|oe>>>32-13,oe=ve+_e|0,Oe^=oe<<18|oe>>>32-18;ht=ht+ne|0,wt=wt+Se|0,ut=ut+Ae|0,yt=yt+Fe|0,mt=mt+Ye|0,lt=lt+st|0,Le=Le+nt|0,Ne=Ne+Wt|0,Ze=Ze+pt|0,W=W+kt|0,se=se+Tt|0,te=te+Ot|0,pe=pe+It|0,_e=_e+Mt|0,ve=ve+St|0,Oe=Oe+Bt|0,U[0]=ht>>>0&255,U[1]=ht>>>8&255,U[2]=ht>>>16&255,U[3]=ht>>>24&255,U[4]=wt>>>0&255,U[5]=wt>>>8&255,U[6]=wt>>>16&255,U[7]=wt>>>24&255,U[8]=ut>>>0&255,U[9]=ut>>>8&255,U[10]=ut>>>16&255,U[11]=ut>>>24&255,U[12]=yt>>>0&255,U[13]=yt>>>8&255,U[14]=yt>>>16&255,U[15]=yt>>>24&255,U[16]=mt>>>0&255,U[17]=mt>>>8&255,U[18]=mt>>>16&255,U[19]=mt>>>24&255,U[20]=lt>>>0&255,U[21]=lt>>>8&255,U[22]=lt>>>16&255,U[23]=lt>>>24&255,U[24]=Le>>>0&255,U[25]=Le>>>8&255,U[26]=Le>>>16&255,U[27]=Le>>>24&255,U[28]=Ne>>>0&255,U[29]=Ne>>>8&255,U[30]=Ne>>>16&255,U[31]=Ne>>>24&255,U[32]=Ze>>>0&255,U[33]=Ze>>>8&255,U[34]=Ze>>>16&255,U[35]=Ze>>>24&255,U[36]=W>>>0&255,U[37]=W>>>8&255,U[38]=W>>>16&255,U[39]=W>>>24&255,U[40]=se>>>0&255,U[41]=se>>>8&255,U[42]=se>>>16&255,U[43]=se>>>24&255,U[44]=te>>>0&255,U[45]=te>>>8&255,U[46]=te>>>16&255,U[47]=te>>>24&255,U[48]=pe>>>0&255,U[49]=pe>>>8&255,U[50]=pe>>>16&255,U[51]=pe>>>24&255,U[52]=_e>>>0&255,U[53]=_e>>>8&255,U[54]=_e>>>16&255,U[55]=_e>>>24&255,U[56]=ve>>>0&255,U[57]=ve>>>8&255,U[58]=ve>>>16&255,U[59]=ve>>>24&255,U[60]=Oe>>>0&255,U[61]=Oe>>>8&255,U[62]=Oe>>>16&255,U[63]=Oe>>>24&255}function J(U,Z,ee,I){for(var ne=I[0]&255|(I[1]&255)<<8|(I[2]&255)<<16|(I[3]&255)<<24,Se=ee[0]&255|(ee[1]&255)<<8|(ee[2]&255)<<16|(ee[3]&255)<<24,Ae=ee[4]&255|(ee[5]&255)<<8|(ee[6]&255)<<16|(ee[7]&255)<<24,Fe=ee[8]&255|(ee[9]&255)<<8|(ee[10]&255)<<16|(ee[11]&255)<<24,Ye=ee[12]&255|(ee[13]&255)<<8|(ee[14]&255)<<16|(ee[15]&255)<<24,st=I[4]&255|(I[5]&255)<<8|(I[6]&255)<<16|(I[7]&255)<<24,nt=Z[0]&255|(Z[1]&255)<<8|(Z[2]&255)<<16|(Z[3]&255)<<24,Wt=Z[4]&255|(Z[5]&255)<<8|(Z[6]&255)<<16|(Z[7]&255)<<24,pt=Z[8]&255|(Z[9]&255)<<8|(Z[10]&255)<<16|(Z[11]&255)<<24,kt=Z[12]&255|(Z[13]&255)<<8|(Z[14]&255)<<16|(Z[15]&255)<<24,Tt=I[8]&255|(I[9]&255)<<8|(I[10]&255)<<16|(I[11]&255)<<24,Ot=ee[16]&255|(ee[17]&255)<<8|(ee[18]&255)<<16|(ee[19]&255)<<24,It=ee[20]&255|(ee[21]&255)<<8|(ee[22]&255)<<16|(ee[23]&255)<<24,Mt=ee[24]&255|(ee[25]&255)<<8|(ee[26]&255)<<16|(ee[27]&255)<<24,St=ee[28]&255|(ee[29]&255)<<8|(ee[30]&255)<<16|(ee[31]&255)<<24,Bt=I[12]&255|(I[13]&255)<<8|(I[14]&255)<<16|(I[15]&255)<<24,ht=ne,wt=Se,ut=Ae,yt=Fe,mt=Ye,lt=st,Le=nt,Ne=Wt,Ze=pt,W=kt,se=Tt,te=Ot,pe=It,_e=Mt,ve=St,Oe=Bt,oe,He=0;He<20;He+=2)oe=ht+pe|0,mt^=oe<<7|oe>>>32-7,oe=mt+ht|0,Ze^=oe<<9|oe>>>32-9,oe=Ze+mt|0,pe^=oe<<13|oe>>>32-13,oe=pe+Ze|0,ht^=oe<<18|oe>>>32-18,oe=lt+wt|0,W^=oe<<7|oe>>>32-7,oe=W+lt|0,_e^=oe<<9|oe>>>32-9,oe=_e+W|0,wt^=oe<<13|oe>>>32-13,oe=wt+_e|0,lt^=oe<<18|oe>>>32-18,oe=se+Le|0,ve^=oe<<7|oe>>>32-7,oe=ve+se|0,ut^=oe<<9|oe>>>32-9,oe=ut+ve|0,Le^=oe<<13|oe>>>32-13,oe=Le+ut|0,se^=oe<<18|oe>>>32-18,oe=Oe+te|0,yt^=oe<<7|oe>>>32-7,oe=yt+Oe|0,Ne^=oe<<9|oe>>>32-9,oe=Ne+yt|0,te^=oe<<13|oe>>>32-13,oe=te+Ne|0,Oe^=oe<<18|oe>>>32-18,oe=ht+yt|0,wt^=oe<<7|oe>>>32-7,oe=wt+ht|0,ut^=oe<<9|oe>>>32-9,oe=ut+wt|0,yt^=oe<<13|oe>>>32-13,oe=yt+ut|0,ht^=oe<<18|oe>>>32-18,oe=lt+mt|0,Le^=oe<<7|oe>>>32-7,oe=Le+lt|0,Ne^=oe<<9|oe>>>32-9,oe=Ne+Le|0,mt^=oe<<13|oe>>>32-13,oe=mt+Ne|0,lt^=oe<<18|oe>>>32-18,oe=se+W|0,te^=oe<<7|oe>>>32-7,oe=te+se|0,Ze^=oe<<9|oe>>>32-9,oe=Ze+te|0,W^=oe<<13|oe>>>32-13,oe=W+Ze|0,se^=oe<<18|oe>>>32-18,oe=Oe+ve|0,pe^=oe<<7|oe>>>32-7,oe=pe+Oe|0,_e^=oe<<9|oe>>>32-9,oe=_e+pe|0,ve^=oe<<13|oe>>>32-13,oe=ve+_e|0,Oe^=oe<<18|oe>>>32-18;U[0]=ht>>>0&255,U[1]=ht>>>8&255,U[2]=ht>>>16&255,U[3]=ht>>>24&255,U[4]=lt>>>0&255,U[5]=lt>>>8&255,U[6]=lt>>>16&255,U[7]=lt>>>24&255,U[8]=se>>>0&255,U[9]=se>>>8&255,U[10]=se>>>16&255,U[11]=se>>>24&255,U[12]=Oe>>>0&255,U[13]=Oe>>>8&255,U[14]=Oe>>>16&255,U[15]=Oe>>>24&255,U[16]=Le>>>0&255,U[17]=Le>>>8&255,U[18]=Le>>>16&255,U[19]=Le>>>24&255,U[20]=Ne>>>0&255,U[21]=Ne>>>8&255,U[22]=Ne>>>16&255,U[23]=Ne>>>24&255,U[24]=Ze>>>0&255,U[25]=Ze>>>8&255,U[26]=Ze>>>16&255,U[27]=Ze>>>24&255,U[28]=W>>>0&255,U[29]=W>>>8&255,U[30]=W>>>16&255,U[31]=W>>>24&255}function X(U,Z,ee,I){z(U,Z,ee,I)}function re(U,Z,ee,I){J(U,Z,ee,I)}var de=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function xe(U,Z,ee,I,ne,Se,Ae){var Fe=new Uint8Array(16),Ye=new Uint8Array(64),st,nt;for(nt=0;nt<16;nt++)Fe[nt]=0;for(nt=0;nt<8;nt++)Fe[nt]=Se[nt];for(;ne>=64;){for(X(Ye,Fe,Ae,de),nt=0;nt<64;nt++)U[Z+nt]=ee[I+nt]^Ye[nt];for(st=1,nt=8;nt<16;nt++)st=st+(Fe[nt]&255)|0,Fe[nt]=st&255,st>>>=8;ne-=64,Z+=64,I+=64}if(ne>0)for(X(Ye,Fe,Ae,de),nt=0;nt<ne;nt++)U[Z+nt]=ee[I+nt]^Ye[nt];return 0}function $e(U,Z,ee,I,ne){var Se=new Uint8Array(16),Ae=new Uint8Array(64),Fe,Ye;for(Ye=0;Ye<16;Ye++)Se[Ye]=0;for(Ye=0;Ye<8;Ye++)Se[Ye]=I[Ye];for(;ee>=64;){for(X(Ae,Se,ne,de),Ye=0;Ye<64;Ye++)U[Z+Ye]=Ae[Ye];for(Fe=1,Ye=8;Ye<16;Ye++)Fe=Fe+(Se[Ye]&255)|0,Se[Ye]=Fe&255,Fe>>>=8;ee-=64,Z+=64}if(ee>0)for(X(Ae,Se,ne,de),Ye=0;Ye<ee;Ye++)U[Z+Ye]=Ae[Ye];return 0}function Pe(U,Z,ee,I,ne){var Se=new Uint8Array(32);re(Se,I,ne,de);for(var Ae=new Uint8Array(8),Fe=0;Fe<8;Fe++)Ae[Fe]=I[Fe+16];return $e(U,Z,ee,Ae,Se)}function it(U,Z,ee,I,ne,Se,Ae){var Fe=new Uint8Array(32);re(Fe,Se,Ae,de);for(var Ye=new Uint8Array(8),st=0;st<8;st++)Ye[st]=Se[st+16];return xe(U,Z,ee,I,ne,Ye,Fe)}var fe=function(U){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var Z,ee,I,ne,Se,Ae,Fe,Ye;Z=U[0]&255|(U[1]&255)<<8,this.r[0]=Z&8191,ee=U[2]&255|(U[3]&255)<<8,this.r[1]=(Z>>>13|ee<<3)&8191,I=U[4]&255|(U[5]&255)<<8,this.r[2]=(ee>>>10|I<<6)&7939,ne=U[6]&255|(U[7]&255)<<8,this.r[3]=(I>>>7|ne<<9)&8191,Se=U[8]&255|(U[9]&255)<<8,this.r[4]=(ne>>>4|Se<<12)&255,this.r[5]=Se>>>1&8190,Ae=U[10]&255|(U[11]&255)<<8,this.r[6]=(Se>>>14|Ae<<2)&8191,Fe=U[12]&255|(U[13]&255)<<8,this.r[7]=(Ae>>>11|Fe<<5)&8065,Ye=U[14]&255|(U[15]&255)<<8,this.r[8]=(Fe>>>8|Ye<<8)&8191,this.r[9]=Ye>>>5&127,this.pad[0]=U[16]&255|(U[17]&255)<<8,this.pad[1]=U[18]&255|(U[19]&255)<<8,this.pad[2]=U[20]&255|(U[21]&255)<<8,this.pad[3]=U[22]&255|(U[23]&255)<<8,this.pad[4]=U[24]&255|(U[25]&255)<<8,this.pad[5]=U[26]&255|(U[27]&255)<<8,this.pad[6]=U[28]&255|(U[29]&255)<<8,this.pad[7]=U[30]&255|(U[31]&255)<<8};fe.prototype.blocks=function(U,Z,ee){for(var I=this.fin?0:2048,ne,Se,Ae,Fe,Ye,st,nt,Wt,pt,kt,Tt,Ot,It,Mt,St,Bt,ht,wt,ut,yt=this.h[0],mt=this.h[1],lt=this.h[2],Le=this.h[3],Ne=this.h[4],Ze=this.h[5],W=this.h[6],se=this.h[7],te=this.h[8],pe=this.h[9],_e=this.r[0],ve=this.r[1],Oe=this.r[2],oe=this.r[3],He=this.r[4],ze=this.r[5],Ve=this.r[6],et=this.r[7],vt=this.r[8],xt=this.r[9];ee>=16;)ne=U[Z+0]&255|(U[Z+1]&255)<<8,yt+=ne&8191,Se=U[Z+2]&255|(U[Z+3]&255)<<8,mt+=(ne>>>13|Se<<3)&8191,Ae=U[Z+4]&255|(U[Z+5]&255)<<8,lt+=(Se>>>10|Ae<<6)&8191,Fe=U[Z+6]&255|(U[Z+7]&255)<<8,Le+=(Ae>>>7|Fe<<9)&8191,Ye=U[Z+8]&255|(U[Z+9]&255)<<8,Ne+=(Fe>>>4|Ye<<12)&8191,Ze+=Ye>>>1&8191,st=U[Z+10]&255|(U[Z+11]&255)<<8,W+=(Ye>>>14|st<<2)&8191,nt=U[Z+12]&255|(U[Z+13]&255)<<8,se+=(st>>>11|nt<<5)&8191,Wt=U[Z+14]&255|(U[Z+15]&255)<<8,te+=(nt>>>8|Wt<<8)&8191,pe+=Wt>>>5|I,pt=0,kt=pt,kt+=yt*_e,kt+=mt*(5*xt),kt+=lt*(5*vt),kt+=Le*(5*et),kt+=Ne*(5*Ve),pt=kt>>>13,kt&=8191,kt+=Ze*(5*ze),kt+=W*(5*He),kt+=se*(5*oe),kt+=te*(5*Oe),kt+=pe*(5*ve),pt+=kt>>>13,kt&=8191,Tt=pt,Tt+=yt*ve,Tt+=mt*_e,Tt+=lt*(5*xt),Tt+=Le*(5*vt),Tt+=Ne*(5*et),pt=Tt>>>13,Tt&=8191,Tt+=Ze*(5*Ve),Tt+=W*(5*ze),Tt+=se*(5*He),Tt+=te*(5*oe),Tt+=pe*(5*Oe),pt+=Tt>>>13,Tt&=8191,Ot=pt,Ot+=yt*Oe,Ot+=mt*ve,Ot+=lt*_e,Ot+=Le*(5*xt),Ot+=Ne*(5*vt),pt=Ot>>>13,Ot&=8191,Ot+=Ze*(5*et),Ot+=W*(5*Ve),Ot+=se*(5*ze),Ot+=te*(5*He),Ot+=pe*(5*oe),pt+=Ot>>>13,Ot&=8191,It=pt,It+=yt*oe,It+=mt*Oe,It+=lt*ve,It+=Le*_e,It+=Ne*(5*xt),pt=It>>>13,It&=8191,It+=Ze*(5*vt),It+=W*(5*et),It+=se*(5*Ve),It+=te*(5*ze),It+=pe*(5*He),pt+=It>>>13,It&=8191,Mt=pt,Mt+=yt*He,Mt+=mt*oe,Mt+=lt*Oe,Mt+=Le*ve,Mt+=Ne*_e,pt=Mt>>>13,Mt&=8191,Mt+=Ze*(5*xt),Mt+=W*(5*vt),Mt+=se*(5*et),Mt+=te*(5*Ve),Mt+=pe*(5*ze),pt+=Mt>>>13,Mt&=8191,St=pt,St+=yt*ze,St+=mt*He,St+=lt*oe,St+=Le*Oe,St+=Ne*ve,pt=St>>>13,St&=8191,St+=Ze*_e,St+=W*(5*xt),St+=se*(5*vt),St+=te*(5*et),St+=pe*(5*Ve),pt+=St>>>13,St&=8191,Bt=pt,Bt+=yt*Ve,Bt+=mt*ze,Bt+=lt*He,Bt+=Le*oe,Bt+=Ne*Oe,pt=Bt>>>13,Bt&=8191,Bt+=Ze*ve,Bt+=W*_e,Bt+=se*(5*xt),Bt+=te*(5*vt),Bt+=pe*(5*et),pt+=Bt>>>13,Bt&=8191,ht=pt,ht+=yt*et,ht+=mt*Ve,ht+=lt*ze,ht+=Le*He,ht+=Ne*oe,pt=ht>>>13,ht&=8191,ht+=Ze*Oe,ht+=W*ve,ht+=se*_e,ht+=te*(5*xt),ht+=pe*(5*vt),pt+=ht>>>13,ht&=8191,wt=pt,wt+=yt*vt,wt+=mt*et,wt+=lt*Ve,wt+=Le*ze,wt+=Ne*He,pt=wt>>>13,wt&=8191,wt+=Ze*oe,wt+=W*Oe,wt+=se*ve,wt+=te*_e,wt+=pe*(5*xt),pt+=wt>>>13,wt&=8191,ut=pt,ut+=yt*xt,ut+=mt*vt,ut+=lt*et,ut+=Le*Ve,ut+=Ne*ze,pt=ut>>>13,ut&=8191,ut+=Ze*He,ut+=W*oe,ut+=se*Oe,ut+=te*ve,ut+=pe*_e,pt+=ut>>>13,ut&=8191,pt=(pt<<2)+pt|0,pt=pt+kt|0,kt=pt&8191,pt=pt>>>13,Tt+=pt,yt=kt,mt=Tt,lt=Ot,Le=It,Ne=Mt,Ze=St,W=Bt,se=ht,te=wt,pe=ut,Z+=16,ee-=16;this.h[0]=yt,this.h[1]=mt,this.h[2]=lt,this.h[3]=Le,this.h[4]=Ne,this.h[5]=Ze,this.h[6]=W,this.h[7]=se,this.h[8]=te,this.h[9]=pe},fe.prototype.finish=function(U,Z){var ee=new Uint16Array(10),I,ne,Se,Ae;if(this.leftover){for(Ae=this.leftover,this.buffer[Ae++]=1;Ae<16;Ae++)this.buffer[Ae]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(I=this.h[1]>>>13,this.h[1]&=8191,Ae=2;Ae<10;Ae++)this.h[Ae]+=I,I=this.h[Ae]>>>13,this.h[Ae]&=8191;for(this.h[0]+=I*5,I=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=I,I=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=I,ee[0]=this.h[0]+5,I=ee[0]>>>13,ee[0]&=8191,Ae=1;Ae<10;Ae++)ee[Ae]=this.h[Ae]+I,I=ee[Ae]>>>13,ee[Ae]&=8191;for(ee[9]-=8192,ne=(I^1)-1,Ae=0;Ae<10;Ae++)ee[Ae]&=ne;for(ne=~ne,Ae=0;Ae<10;Ae++)this.h[Ae]=this.h[Ae]&ne|ee[Ae];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,Se=this.h[0]+this.pad[0],this.h[0]=Se&65535,Ae=1;Ae<8;Ae++)Se=(this.h[Ae]+this.pad[Ae]|0)+(Se>>>16)|0,this.h[Ae]=Se&65535;U[Z+0]=this.h[0]>>>0&255,U[Z+1]=this.h[0]>>>8&255,U[Z+2]=this.h[1]>>>0&255,U[Z+3]=this.h[1]>>>8&255,U[Z+4]=this.h[2]>>>0&255,U[Z+5]=this.h[2]>>>8&255,U[Z+6]=this.h[3]>>>0&255,U[Z+7]=this.h[3]>>>8&255,U[Z+8]=this.h[4]>>>0&255,U[Z+9]=this.h[4]>>>8&255,U[Z+10]=this.h[5]>>>0&255,U[Z+11]=this.h[5]>>>8&255,U[Z+12]=this.h[6]>>>0&255,U[Z+13]=this.h[6]>>>8&255,U[Z+14]=this.h[7]>>>0&255,U[Z+15]=this.h[7]>>>8&255},fe.prototype.update=function(U,Z,ee){var I,ne;if(this.leftover){for(ne=16-this.leftover,ne>ee&&(ne=ee),I=0;I<ne;I++)this.buffer[this.leftover+I]=U[Z+I];if(ee-=ne,Z+=ne,this.leftover+=ne,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(ee>=16&&(ne=ee-ee%16,this.blocks(U,Z,ne),Z+=ne,ee-=ne),ee){for(I=0;I<ee;I++)this.buffer[this.leftover+I]=U[Z+I];this.leftover+=ee}};function B(U,Z,ee,I,ne,Se){var Ae=new fe(Se);return Ae.update(ee,I,ne),Ae.finish(U,Z),0}function k(U,Z,ee,I,ne,Se){var Ae=new Uint8Array(16);return B(Ae,0,ee,I,ne,Se),C(U,Z,Ae,0)}function x(U,Z,ee,I,ne){var Se;if(ee<32)return-1;for(it(U,0,Z,0,ee,I,ne),B(U,16,U,32,ee-32,U),Se=0;Se<16;Se++)U[Se]=0;return 0}function A(U,Z,ee,I,ne){var Se,Ae=new Uint8Array(32);if(ee<32||(Pe(Ae,0,32,I,ne),k(Z,16,Z,32,ee-32,Ae)!==0))return-1;for(it(U,0,Z,0,ee,I,ne),Se=0;Se<32;Se++)U[Se]=0;return 0}function D(U,Z){var ee;for(ee=0;ee<16;ee++)U[ee]=Z[ee]|0}function q(U){var Z,ee,I=1;for(Z=0;Z<16;Z++)ee=U[Z]+I+65535,I=Math.floor(ee/65536),U[Z]=ee-I*65536;U[0]+=I-1+37*(I-1)}function G(U,Z,ee){for(var I,ne=~(ee-1),Se=0;Se<16;Se++)I=ne&(U[Se]^Z[Se]),U[Se]^=I,Z[Se]^=I}function j(U,Z){var ee,I,ne,Se=n(),Ae=n();for(ee=0;ee<16;ee++)Ae[ee]=Z[ee];for(q(Ae),q(Ae),q(Ae),I=0;I<2;I++){for(Se[0]=Ae[0]-65517,ee=1;ee<15;ee++)Se[ee]=Ae[ee]-65535-(Se[ee-1]>>16&1),Se[ee-1]&=65535;Se[15]=Ae[15]-32767-(Se[14]>>16&1),ne=Se[15]>>16&1,Se[14]&=65535,G(Ae,Se,1-ne)}for(ee=0;ee<16;ee++)U[2*ee]=Ae[ee]&255,U[2*ee+1]=Ae[ee]>>8}function T(U,Z){var ee=new Uint8Array(32),I=new Uint8Array(32);return j(ee,U),j(I,Z),P(ee,0,I,0)}function F(U){var Z=new Uint8Array(32);return j(Z,U),Z[0]&1}function M(U,Z){var ee;for(ee=0;ee<16;ee++)U[ee]=Z[2*ee]+(Z[2*ee+1]<<8);U[15]&=32767}function V(U,Z,ee){for(var I=0;I<16;I++)U[I]=Z[I]+ee[I]}function ge(U,Z,ee){for(var I=0;I<16;I++)U[I]=Z[I]-ee[I]}function ke(U,Z,ee){var I,ne,Se=0,Ae=0,Fe=0,Ye=0,st=0,nt=0,Wt=0,pt=0,kt=0,Tt=0,Ot=0,It=0,Mt=0,St=0,Bt=0,ht=0,wt=0,ut=0,yt=0,mt=0,lt=0,Le=0,Ne=0,Ze=0,W=0,se=0,te=0,pe=0,_e=0,ve=0,Oe=0,oe=ee[0],He=ee[1],ze=ee[2],Ve=ee[3],et=ee[4],vt=ee[5],xt=ee[6],Pt=ee[7],Dt=ee[8],Nt=ee[9],Zt=ee[10],cr=ee[11],wr=ee[12],kr=ee[13],Sr=ee[14],Tr=ee[15];I=Z[0],Se+=I*oe,Ae+=I*He,Fe+=I*ze,Ye+=I*Ve,st+=I*et,nt+=I*vt,Wt+=I*xt,pt+=I*Pt,kt+=I*Dt,Tt+=I*Nt,Ot+=I*Zt,It+=I*cr,Mt+=I*wr,St+=I*kr,Bt+=I*Sr,ht+=I*Tr,I=Z[1],Ae+=I*oe,Fe+=I*He,Ye+=I*ze,st+=I*Ve,nt+=I*et,Wt+=I*vt,pt+=I*xt,kt+=I*Pt,Tt+=I*Dt,Ot+=I*Nt,It+=I*Zt,Mt+=I*cr,St+=I*wr,Bt+=I*kr,ht+=I*Sr,wt+=I*Tr,I=Z[2],Fe+=I*oe,Ye+=I*He,st+=I*ze,nt+=I*Ve,Wt+=I*et,pt+=I*vt,kt+=I*xt,Tt+=I*Pt,Ot+=I*Dt,It+=I*Nt,Mt+=I*Zt,St+=I*cr,Bt+=I*wr,ht+=I*kr,wt+=I*Sr,ut+=I*Tr,I=Z[3],Ye+=I*oe,st+=I*He,nt+=I*ze,Wt+=I*Ve,pt+=I*et,kt+=I*vt,Tt+=I*xt,Ot+=I*Pt,It+=I*Dt,Mt+=I*Nt,St+=I*Zt,Bt+=I*cr,ht+=I*wr,wt+=I*kr,ut+=I*Sr,yt+=I*Tr,I=Z[4],st+=I*oe,nt+=I*He,Wt+=I*ze,pt+=I*Ve,kt+=I*et,Tt+=I*vt,Ot+=I*xt,It+=I*Pt,Mt+=I*Dt,St+=I*Nt,Bt+=I*Zt,ht+=I*cr,wt+=I*wr,ut+=I*kr,yt+=I*Sr,mt+=I*Tr,I=Z[5],nt+=I*oe,Wt+=I*He,pt+=I*ze,kt+=I*Ve,Tt+=I*et,Ot+=I*vt,It+=I*xt,Mt+=I*Pt,St+=I*Dt,Bt+=I*Nt,ht+=I*Zt,wt+=I*cr,ut+=I*wr,yt+=I*kr,mt+=I*Sr,lt+=I*Tr,I=Z[6],Wt+=I*oe,pt+=I*He,kt+=I*ze,Tt+=I*Ve,Ot+=I*et,It+=I*vt,Mt+=I*xt,St+=I*Pt,Bt+=I*Dt,ht+=I*Nt,wt+=I*Zt,ut+=I*cr,yt+=I*wr,mt+=I*kr,lt+=I*Sr,Le+=I*Tr,I=Z[7],pt+=I*oe,kt+=I*He,Tt+=I*ze,Ot+=I*Ve,It+=I*et,Mt+=I*vt,St+=I*xt,Bt+=I*Pt,ht+=I*Dt,wt+=I*Nt,ut+=I*Zt,yt+=I*cr,mt+=I*wr,lt+=I*kr,Le+=I*Sr,Ne+=I*Tr,I=Z[8],kt+=I*oe,Tt+=I*He,Ot+=I*ze,It+=I*Ve,Mt+=I*et,St+=I*vt,Bt+=I*xt,ht+=I*Pt,wt+=I*Dt,ut+=I*Nt,yt+=I*Zt,mt+=I*cr,lt+=I*wr,Le+=I*kr,Ne+=I*Sr,Ze+=I*Tr,I=Z[9],Tt+=I*oe,Ot+=I*He,It+=I*ze,Mt+=I*Ve,St+=I*et,Bt+=I*vt,ht+=I*xt,wt+=I*Pt,ut+=I*Dt,yt+=I*Nt,mt+=I*Zt,lt+=I*cr,Le+=I*wr,Ne+=I*kr,Ze+=I*Sr,W+=I*Tr,I=Z[10],Ot+=I*oe,It+=I*He,Mt+=I*ze,St+=I*Ve,Bt+=I*et,ht+=I*vt,wt+=I*xt,ut+=I*Pt,yt+=I*Dt,mt+=I*Nt,lt+=I*Zt,Le+=I*cr,Ne+=I*wr,Ze+=I*kr,W+=I*Sr,se+=I*Tr,I=Z[11],It+=I*oe,Mt+=I*He,St+=I*ze,Bt+=I*Ve,ht+=I*et,wt+=I*vt,ut+=I*xt,yt+=I*Pt,mt+=I*Dt,lt+=I*Nt,Le+=I*Zt,Ne+=I*cr,Ze+=I*wr,W+=I*kr,se+=I*Sr,te+=I*Tr,I=Z[12],Mt+=I*oe,St+=I*He,Bt+=I*ze,ht+=I*Ve,wt+=I*et,ut+=I*vt,yt+=I*xt,mt+=I*Pt,lt+=I*Dt,Le+=I*Nt,Ne+=I*Zt,Ze+=I*cr,W+=I*wr,se+=I*kr,te+=I*Sr,pe+=I*Tr,I=Z[13],St+=I*oe,Bt+=I*He,ht+=I*ze,wt+=I*Ve,ut+=I*et,yt+=I*vt,mt+=I*xt,lt+=I*Pt,Le+=I*Dt,Ne+=I*Nt,Ze+=I*Zt,W+=I*cr,se+=I*wr,te+=I*kr,pe+=I*Sr,_e+=I*Tr,I=Z[14],Bt+=I*oe,ht+=I*He,wt+=I*ze,ut+=I*Ve,yt+=I*et,mt+=I*vt,lt+=I*xt,Le+=I*Pt,Ne+=I*Dt,Ze+=I*Nt,W+=I*Zt,se+=I*cr,te+=I*wr,pe+=I*kr,_e+=I*Sr,ve+=I*Tr,I=Z[15],ht+=I*oe,wt+=I*He,ut+=I*ze,yt+=I*Ve,mt+=I*et,lt+=I*vt,Le+=I*xt,Ne+=I*Pt,Ze+=I*Dt,W+=I*Nt,se+=I*Zt,te+=I*cr,pe+=I*wr,_e+=I*kr,ve+=I*Sr,Oe+=I*Tr,Se+=38*wt,Ae+=38*ut,Fe+=38*yt,Ye+=38*mt,st+=38*lt,nt+=38*Le,Wt+=38*Ne,pt+=38*Ze,kt+=38*W,Tt+=38*se,Ot+=38*te,It+=38*pe,Mt+=38*_e,St+=38*ve,Bt+=38*Oe,ne=1,I=Se+ne+65535,ne=Math.floor(I/65536),Se=I-ne*65536,I=Ae+ne+65535,ne=Math.floor(I/65536),Ae=I-ne*65536,I=Fe+ne+65535,ne=Math.floor(I/65536),Fe=I-ne*65536,I=Ye+ne+65535,ne=Math.floor(I/65536),Ye=I-ne*65536,I=st+ne+65535,ne=Math.floor(I/65536),st=I-ne*65536,I=nt+ne+65535,ne=Math.floor(I/65536),nt=I-ne*65536,I=Wt+ne+65535,ne=Math.floor(I/65536),Wt=I-ne*65536,I=pt+ne+65535,ne=Math.floor(I/65536),pt=I-ne*65536,I=kt+ne+65535,ne=Math.floor(I/65536),kt=I-ne*65536,I=Tt+ne+65535,ne=Math.floor(I/65536),Tt=I-ne*65536,I=Ot+ne+65535,ne=Math.floor(I/65536),Ot=I-ne*65536,I=It+ne+65535,ne=Math.floor(I/65536),It=I-ne*65536,I=Mt+ne+65535,ne=Math.floor(I/65536),Mt=I-ne*65536,I=St+ne+65535,ne=Math.floor(I/65536),St=I-ne*65536,I=Bt+ne+65535,ne=Math.floor(I/65536),Bt=I-ne*65536,I=ht+ne+65535,ne=Math.floor(I/65536),ht=I-ne*65536,Se+=ne-1+37*(ne-1),ne=1,I=Se+ne+65535,ne=Math.floor(I/65536),Se=I-ne*65536,I=Ae+ne+65535,ne=Math.floor(I/65536),Ae=I-ne*65536,I=Fe+ne+65535,ne=Math.floor(I/65536),Fe=I-ne*65536,I=Ye+ne+65535,ne=Math.floor(I/65536),Ye=I-ne*65536,I=st+ne+65535,ne=Math.floor(I/65536),st=I-ne*65536,I=nt+ne+65535,ne=Math.floor(I/65536),nt=I-ne*65536,I=Wt+ne+65535,ne=Math.floor(I/65536),Wt=I-ne*65536,I=pt+ne+65535,ne=Math.floor(I/65536),pt=I-ne*65536,I=kt+ne+65535,ne=Math.floor(I/65536),kt=I-ne*65536,I=Tt+ne+65535,ne=Math.floor(I/65536),Tt=I-ne*65536,I=Ot+ne+65535,ne=Math.floor(I/65536),Ot=I-ne*65536,I=It+ne+65535,ne=Math.floor(I/65536),It=I-ne*65536,I=Mt+ne+65535,ne=Math.floor(I/65536),Mt=I-ne*65536,I=St+ne+65535,ne=Math.floor(I/65536),St=I-ne*65536,I=Bt+ne+65535,ne=Math.floor(I/65536),Bt=I-ne*65536,I=ht+ne+65535,ne=Math.floor(I/65536),ht=I-ne*65536,Se+=ne-1+37*(ne-1),U[0]=Se,U[1]=Ae,U[2]=Fe,U[3]=Ye,U[4]=st,U[5]=nt,U[6]=Wt,U[7]=pt,U[8]=kt,U[9]=Tt,U[10]=Ot,U[11]=It,U[12]=Mt,U[13]=St,U[14]=Bt,U[15]=ht}function he(U,Z){ke(U,Z,Z)}function be(U,Z){var ee=n(),I;for(I=0;I<16;I++)ee[I]=Z[I];for(I=253;I>=0;I--)he(ee,ee),I!==2&&I!==4&&ke(ee,ee,Z);for(I=0;I<16;I++)U[I]=ee[I]}function Me(U,Z){var ee=n(),I;for(I=0;I<16;I++)ee[I]=Z[I];for(I=250;I>=0;I--)he(ee,ee),I!==1&&ke(ee,ee,Z);for(I=0;I<16;I++)U[I]=ee[I]}function Re(U,Z,ee){var I=new Uint8Array(32),ne=new Float64Array(80),Se,Ae,Fe=n(),Ye=n(),st=n(),nt=n(),Wt=n(),pt=n();for(Ae=0;Ae<31;Ae++)I[Ae]=Z[Ae];for(I[31]=Z[31]&127|64,I[0]&=248,M(ne,ee),Ae=0;Ae<16;Ae++)Ye[Ae]=ne[Ae],nt[Ae]=Fe[Ae]=st[Ae]=0;for(Fe[0]=nt[0]=1,Ae=254;Ae>=0;--Ae)Se=I[Ae>>>3]>>>(Ae&7)&1,G(Fe,Ye,Se),G(st,nt,Se),V(Wt,Fe,st),ge(Fe,Fe,st),V(st,Ye,nt),ge(Ye,Ye,nt),he(nt,Wt),he(pt,Fe),ke(Fe,st,Fe),ke(st,Ye,Wt),V(Wt,Fe,st),ge(Fe,Fe,st),he(Ye,Fe),ge(st,nt,pt),ke(Fe,st,p),V(Fe,Fe,nt),ke(st,st,Fe),ke(Fe,nt,pt),ke(nt,Ye,ne),he(Ye,Wt),G(Fe,Ye,Se),G(st,nt,Se);for(Ae=0;Ae<16;Ae++)ne[Ae+16]=Fe[Ae],ne[Ae+32]=st[Ae],ne[Ae+48]=Ye[Ae],ne[Ae+64]=nt[Ae];var kt=ne.subarray(32),Tt=ne.subarray(16);return be(kt,kt),ke(Tt,Tt,kt),j(U,Tt),0}function Je(U,Z){return Re(U,Z,u)}function le(U,Z){return a(Z,32),Je(U,Z)}function ue(U,Z,ee){var I=new Uint8Array(32);return Re(I,ee,Z),re(U,o,I,de)}var qe=x,Ge=A;function ot(U,Z,ee,I,ne,Se){var Ae=new Uint8Array(32);return ue(Ae,ne,Se),qe(U,Z,ee,I,Ae)}function ie(U,Z,ee,I,ne,Se){var Ae=new Uint8Array(32);return ue(Ae,ne,Se),Ge(U,Z,ee,I,Ae)}var L=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function N(U,Z,ee,I){for(var ne=new Int32Array(16),Se=new Int32Array(16),Ae,Fe,Ye,st,nt,Wt,pt,kt,Tt,Ot,It,Mt,St,Bt,ht,wt,ut,yt,mt,lt,Le,Ne,Ze,W,se,te,pe=U[0],_e=U[1],ve=U[2],Oe=U[3],oe=U[4],He=U[5],ze=U[6],Ve=U[7],et=Z[0],vt=Z[1],xt=Z[2],Pt=Z[3],Dt=Z[4],Nt=Z[5],Zt=Z[6],cr=Z[7],wr=0;I>=128;){for(mt=0;mt<16;mt++)lt=8*mt+wr,ne[mt]=ee[lt+0]<<24|ee[lt+1]<<16|ee[lt+2]<<8|ee[lt+3],Se[mt]=ee[lt+4]<<24|ee[lt+5]<<16|ee[lt+6]<<8|ee[lt+7];for(mt=0;mt<80;mt++)if(Ae=pe,Fe=_e,Ye=ve,st=Oe,nt=oe,Wt=He,pt=ze,kt=Ve,Tt=et,Ot=vt,It=xt,Mt=Pt,St=Dt,Bt=Nt,ht=Zt,wt=cr,Le=Ve,Ne=cr,Ze=Ne&65535,W=Ne>>>16,se=Le&65535,te=Le>>>16,Le=(oe>>>14|Dt<<32-14)^(oe>>>18|Dt<<32-18)^(Dt>>>41-32|oe<<32-(41-32)),Ne=(Dt>>>14|oe<<32-14)^(Dt>>>18|oe<<32-18)^(oe>>>41-32|Dt<<32-(41-32)),Ze+=Ne&65535,W+=Ne>>>16,se+=Le&65535,te+=Le>>>16,Le=oe&He^~oe&ze,Ne=Dt&Nt^~Dt&Zt,Ze+=Ne&65535,W+=Ne>>>16,se+=Le&65535,te+=Le>>>16,Le=L[mt*2],Ne=L[mt*2+1],Ze+=Ne&65535,W+=Ne>>>16,se+=Le&65535,te+=Le>>>16,Le=ne[mt%16],Ne=Se[mt%16],Ze+=Ne&65535,W+=Ne>>>16,se+=Le&65535,te+=Le>>>16,W+=Ze>>>16,se+=W>>>16,te+=se>>>16,ut=se&65535|te<<16,yt=Ze&65535|W<<16,Le=ut,Ne=yt,Ze=Ne&65535,W=Ne>>>16,se=Le&65535,te=Le>>>16,Le=(pe>>>28|et<<32-28)^(et>>>34-32|pe<<32-(34-32))^(et>>>39-32|pe<<32-(39-32)),Ne=(et>>>28|pe<<32-28)^(pe>>>34-32|et<<32-(34-32))^(pe>>>39-32|et<<32-(39-32)),Ze+=Ne&65535,W+=Ne>>>16,se+=Le&65535,te+=Le>>>16,Le=pe&_e^pe&ve^_e&ve,Ne=et&vt^et&xt^vt&xt,Ze+=Ne&65535,W+=Ne>>>16,se+=Le&65535,te+=Le>>>16,W+=Ze>>>16,se+=W>>>16,te+=se>>>16,kt=se&65535|te<<16,wt=Ze&65535|W<<16,Le=st,Ne=Mt,Ze=Ne&65535,W=Ne>>>16,se=Le&65535,te=Le>>>16,Le=ut,Ne=yt,Ze+=Ne&65535,W+=Ne>>>16,se+=Le&65535,te+=Le>>>16,W+=Ze>>>16,se+=W>>>16,te+=se>>>16,st=se&65535|te<<16,Mt=Ze&65535|W<<16,_e=Ae,ve=Fe,Oe=Ye,oe=st,He=nt,ze=Wt,Ve=pt,pe=kt,vt=Tt,xt=Ot,Pt=It,Dt=Mt,Nt=St,Zt=Bt,cr=ht,et=wt,mt%16===15)for(lt=0;lt<16;lt++)Le=ne[lt],Ne=Se[lt],Ze=Ne&65535,W=Ne>>>16,se=Le&65535,te=Le>>>16,Le=ne[(lt+9)%16],Ne=Se[(lt+9)%16],Ze+=Ne&65535,W+=Ne>>>16,se+=Le&65535,te+=Le>>>16,ut=ne[(lt+1)%16],yt=Se[(lt+1)%16],Le=(ut>>>1|yt<<32-1)^(ut>>>8|yt<<32-8)^ut>>>7,Ne=(yt>>>1|ut<<32-1)^(yt>>>8|ut<<32-8)^(yt>>>7|ut<<32-7),Ze+=Ne&65535,W+=Ne>>>16,se+=Le&65535,te+=Le>>>16,ut=ne[(lt+14)%16],yt=Se[(lt+14)%16],Le=(ut>>>19|yt<<32-19)^(yt>>>61-32|ut<<32-(61-32))^ut>>>6,Ne=(yt>>>19|ut<<32-19)^(ut>>>61-32|yt<<32-(61-32))^(yt>>>6|ut<<32-6),Ze+=Ne&65535,W+=Ne>>>16,se+=Le&65535,te+=Le>>>16,W+=Ze>>>16,se+=W>>>16,te+=se>>>16,ne[lt]=se&65535|te<<16,Se[lt]=Ze&65535|W<<16;Le=pe,Ne=et,Ze=Ne&65535,W=Ne>>>16,se=Le&65535,te=Le>>>16,Le=U[0],Ne=Z[0],Ze+=Ne&65535,W+=Ne>>>16,se+=Le&65535,te+=Le>>>16,W+=Ze>>>16,se+=W>>>16,te+=se>>>16,U[0]=pe=se&65535|te<<16,Z[0]=et=Ze&65535|W<<16,Le=_e,Ne=vt,Ze=Ne&65535,W=Ne>>>16,se=Le&65535,te=Le>>>16,Le=U[1],Ne=Z[1],Ze+=Ne&65535,W+=Ne>>>16,se+=Le&65535,te+=Le>>>16,W+=Ze>>>16,se+=W>>>16,te+=se>>>16,U[1]=_e=se&65535|te<<16,Z[1]=vt=Ze&65535|W<<16,Le=ve,Ne=xt,Ze=Ne&65535,W=Ne>>>16,se=Le&65535,te=Le>>>16,Le=U[2],Ne=Z[2],Ze+=Ne&65535,W+=Ne>>>16,se+=Le&65535,te+=Le>>>16,W+=Ze>>>16,se+=W>>>16,te+=se>>>16,U[2]=ve=se&65535|te<<16,Z[2]=xt=Ze&65535|W<<16,Le=Oe,Ne=Pt,Ze=Ne&65535,W=Ne>>>16,se=Le&65535,te=Le>>>16,Le=U[3],Ne=Z[3],Ze+=Ne&65535,W+=Ne>>>16,se+=Le&65535,te+=Le>>>16,W+=Ze>>>16,se+=W>>>16,te+=se>>>16,U[3]=Oe=se&65535|te<<16,Z[3]=Pt=Ze&65535|W<<16,Le=oe,Ne=Dt,Ze=Ne&65535,W=Ne>>>16,se=Le&65535,te=Le>>>16,Le=U[4],Ne=Z[4],Ze+=Ne&65535,W+=Ne>>>16,se+=Le&65535,te+=Le>>>16,W+=Ze>>>16,se+=W>>>16,te+=se>>>16,U[4]=oe=se&65535|te<<16,Z[4]=Dt=Ze&65535|W<<16,Le=He,Ne=Nt,Ze=Ne&65535,W=Ne>>>16,se=Le&65535,te=Le>>>16,Le=U[5],Ne=Z[5],Ze+=Ne&65535,W+=Ne>>>16,se+=Le&65535,te+=Le>>>16,W+=Ze>>>16,se+=W>>>16,te+=se>>>16,U[5]=He=se&65535|te<<16,Z[5]=Nt=Ze&65535|W<<16,Le=ze,Ne=Zt,Ze=Ne&65535,W=Ne>>>16,se=Le&65535,te=Le>>>16,Le=U[6],Ne=Z[6],Ze+=Ne&65535,W+=Ne>>>16,se+=Le&65535,te+=Le>>>16,W+=Ze>>>16,se+=W>>>16,te+=se>>>16,U[6]=ze=se&65535|te<<16,Z[6]=Zt=Ze&65535|W<<16,Le=Ve,Ne=cr,Ze=Ne&65535,W=Ne>>>16,se=Le&65535,te=Le>>>16,Le=U[7],Ne=Z[7],Ze+=Ne&65535,W+=Ne>>>16,se+=Le&65535,te+=Le>>>16,W+=Ze>>>16,se+=W>>>16,te+=se>>>16,U[7]=Ve=se&65535|te<<16,Z[7]=cr=Ze&65535|W<<16,wr+=128,I-=128}return I}function Q(U,Z,ee){var I=new Int32Array(8),ne=new Int32Array(8),Se=new Uint8Array(256),Ae,Fe=ee;for(I[0]=1779033703,I[1]=3144134277,I[2]=1013904242,I[3]=2773480762,I[4]=1359893119,I[5]=2600822924,I[6]=528734635,I[7]=1541459225,ne[0]=4089235720,ne[1]=2227873595,ne[2]=4271175723,ne[3]=1595750129,ne[4]=2917565137,ne[5]=725511199,ne[6]=4215389547,ne[7]=327033209,N(I,ne,Z,ee),ee%=128,Ae=0;Ae<ee;Ae++)Se[Ae]=Z[Fe-ee+Ae];for(Se[ee]=128,ee=256-128*(ee<112?1:0),Se[ee-9]=0,E(Se,ee-8,Fe/536870912|0,Fe<<3),N(I,ne,Se,ee),Ae=0;Ae<8;Ae++)E(U,8*Ae,I[Ae],ne[Ae]);return 0}function we(U,Z){var ee=n(),I=n(),ne=n(),Se=n(),Ae=n(),Fe=n(),Ye=n(),st=n(),nt=n();ge(ee,U[1],U[0]),ge(nt,Z[1],Z[0]),ke(ee,ee,nt),V(I,U[0],U[1]),V(nt,Z[0],Z[1]),ke(I,I,nt),ke(ne,U[3],Z[3]),ke(ne,ne,y),ke(Se,U[2],Z[2]),V(Se,Se,Se),ge(Ae,I,ee),ge(Fe,Se,ne),V(Ye,Se,ne),V(st,I,ee),ke(U[0],Ae,Fe),ke(U[1],st,Ye),ke(U[2],Ye,Fe),ke(U[3],Ae,st)}function Ie(U,Z,ee){var I;for(I=0;I<4;I++)G(U[I],Z[I],ee)}function Ke(U,Z){var ee=n(),I=n(),ne=n();be(ne,Z[2]),ke(ee,Z[0],ne),ke(I,Z[1],ne),j(U,I),U[31]^=F(ee)<<7}function dt(U,Z,ee){var I,ne;for(D(U[0],c),D(U[1],d),D(U[2],d),D(U[3],c),ne=255;ne>=0;--ne)I=ee[ne/8|0]>>(ne&7)&1,Ie(U,Z,I),we(Z,U),we(U,U),Ie(U,Z,I)}function me(U,Z){var ee=[n(),n(),n(),n()];D(ee[0],b),D(ee[1],_),D(ee[2],d),ke(ee[3],b,_),dt(U,ee,Z)}function Te(U,Z,ee){var I=new Uint8Array(64),ne=[n(),n(),n(),n()],Se;for(ee||a(Z,32),Q(I,Z,32),I[0]&=248,I[31]&=127,I[31]|=64,me(ne,I),Ke(U,ne),Se=0;Se<32;Se++)Z[Se+32]=U[Se];return 0}var Ue=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function De(U,Z){var ee,I,ne,Se;for(I=63;I>=32;--I){for(ee=0,ne=I-32,Se=I-12;ne<Se;++ne)Z[ne]+=ee-16*Z[I]*Ue[ne-(I-32)],ee=Math.floor((Z[ne]+128)/256),Z[ne]-=ee*256;Z[ne]+=ee,Z[I]=0}for(ee=0,ne=0;ne<32;ne++)Z[ne]+=ee-(Z[31]>>4)*Ue[ne],ee=Z[ne]>>8,Z[ne]&=255;for(ne=0;ne<32;ne++)Z[ne]-=ee*Ue[ne];for(I=0;I<32;I++)Z[I+1]+=Z[I]>>8,U[I]=Z[I]&255}function tt(U){var Z=new Float64Array(64),ee;for(ee=0;ee<64;ee++)Z[ee]=U[ee];for(ee=0;ee<64;ee++)U[ee]=0;De(U,Z)}function Rt(U,Z,ee,I){var ne=new Uint8Array(64),Se=new Uint8Array(64),Ae=new Uint8Array(64),Fe,Ye,st=new Float64Array(64),nt=[n(),n(),n(),n()];Q(ne,I,32),ne[0]&=248,ne[31]&=127,ne[31]|=64;var Wt=ee+64;for(Fe=0;Fe<ee;Fe++)U[64+Fe]=Z[Fe];for(Fe=0;Fe<32;Fe++)U[32+Fe]=ne[32+Fe];for(Q(Ae,U.subarray(32),ee+32),tt(Ae),me(nt,Ae),Ke(U,nt),Fe=32;Fe<64;Fe++)U[Fe]=I[Fe];for(Q(Se,U,ee+64),tt(Se),Fe=0;Fe<64;Fe++)st[Fe]=0;for(Fe=0;Fe<32;Fe++)st[Fe]=Ae[Fe];for(Fe=0;Fe<32;Fe++)for(Ye=0;Ye<32;Ye++)st[Fe+Ye]+=Se[Fe]*ne[Ye];return De(U.subarray(32),st),Wt}function at(U,Z){var ee=n(),I=n(),ne=n(),Se=n(),Ae=n(),Fe=n(),Ye=n();return D(U[2],d),M(U[1],Z),he(ne,U[1]),ke(Se,ne,v),ge(ne,ne,U[2]),V(Se,U[2],Se),he(Ae,Se),he(Fe,Ae),ke(Ye,Fe,Ae),ke(ee,Ye,ne),ke(ee,ee,Se),Me(ee,ee),ke(ee,ee,ne),ke(ee,ee,Se),ke(ee,ee,Se),ke(U[0],ee,Se),he(I,U[0]),ke(I,I,Se),T(I,ne)&&ke(U[0],U[0],w),he(I,U[0]),ke(I,I,Se),T(I,ne)?-1:(F(U[0])===Z[31]>>7&&ge(U[0],c,U[0]),ke(U[3],U[0],U[1]),0)}function bt(U,Z,ee,I){var ne,Se=new Uint8Array(32),Ae=new Uint8Array(64),Fe=[n(),n(),n(),n()],Ye=[n(),n(),n(),n()];if(ee<64||at(Ye,I))return-1;for(ne=0;ne<ee;ne++)U[ne]=Z[ne];for(ne=0;ne<32;ne++)U[ne+32]=I[ne];if(Q(Ae,U,ee),tt(Ae),dt(Fe,Ye,Ae),me(Ye,Z.subarray(32)),we(Fe,Ye),Ke(Se,Fe),ee-=64,P(Z,0,Se,0)){for(ne=0;ne<ee;ne++)U[ne]=0;return-1}for(ne=0;ne<ee;ne++)U[ne]=Z[ne+64];return ee}var ct=32,ft=24,_t=32,zt=16,Ct=32,rr=32,ar=32,Lt=32,Jt=32,ur=ft,Ht=_t,hr=zt,er=64,Ft=32,or=64,fr=32,Kt=64;e.lowlevel={crypto_core_hsalsa20:re,crypto_stream_xor:it,crypto_stream:Pe,crypto_stream_salsa20_xor:xe,crypto_stream_salsa20:$e,crypto_onetimeauth:B,crypto_onetimeauth_verify:k,crypto_verify_16:C,crypto_verify_32:P,crypto_secretbox:x,crypto_secretbox_open:A,crypto_scalarmult:Re,crypto_scalarmult_base:Je,crypto_box_beforenm:ue,crypto_box_afternm:qe,crypto_box:ot,crypto_box_open:ie,crypto_box_keypair:le,crypto_hash:Q,crypto_sign:Rt,crypto_sign_keypair:Te,crypto_sign_open:bt,crypto_secretbox_KEYBYTES:ct,crypto_secretbox_NONCEBYTES:ft,crypto_secretbox_ZEROBYTES:_t,crypto_secretbox_BOXZEROBYTES:zt,crypto_scalarmult_BYTES:Ct,crypto_scalarmult_SCALARBYTES:rr,crypto_box_PUBLICKEYBYTES:ar,crypto_box_SECRETKEYBYTES:Lt,crypto_box_BEFORENMBYTES:Jt,crypto_box_NONCEBYTES:ur,crypto_box_ZEROBYTES:Ht,crypto_box_BOXZEROBYTES:hr,crypto_sign_BYTES:er,crypto_sign_PUBLICKEYBYTES:Ft,crypto_sign_SECRETKEYBYTES:or,crypto_sign_SEEDBYTES:fr,crypto_hash_BYTES:Kt,gf:n,D:v,L:Ue,pack25519:j,unpack25519:M,M:ke,A:V,S:he,Z:ge,pow2523:Me,add:we,set25519:D,modL:De,scalarmult:dt,scalarbase:me};function dr(U,Z){if(U.length!==ct)throw new Error("bad key size");if(Z.length!==ft)throw new Error("bad nonce size")}function vr(U,Z){if(U.length!==ar)throw new Error("bad public key size");if(Z.length!==Lt)throw new Error("bad secret key size")}function $t(){for(var U=0;U<arguments.length;U++)if(!(arguments[U]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function pr(U){for(var Z=0;Z<U.length;Z++)U[Z]=0}e.randomBytes=function(U){var Z=new Uint8Array(U);return a(Z,U),Z},e.secretbox=function(U,Z,ee){$t(U,Z,ee),dr(ee,Z);for(var I=new Uint8Array(_t+U.length),ne=new Uint8Array(I.length),Se=0;Se<U.length;Se++)I[Se+_t]=U[Se];return x(ne,I,I.length,Z,ee),ne.subarray(zt)},e.secretbox.open=function(U,Z,ee){$t(U,Z,ee),dr(ee,Z);for(var I=new Uint8Array(zt+U.length),ne=new Uint8Array(I.length),Se=0;Se<U.length;Se++)I[Se+zt]=U[Se];return I.length<32||A(ne,I,I.length,Z,ee)!==0?null:ne.subarray(_t)},e.secretbox.keyLength=ct,e.secretbox.nonceLength=ft,e.secretbox.overheadLength=zt,e.scalarMult=function(U,Z){if($t(U,Z),U.length!==rr)throw new Error("bad n size");if(Z.length!==Ct)throw new Error("bad p size");var ee=new Uint8Array(Ct);return Re(ee,U,Z),ee},e.scalarMult.base=function(U){if($t(U),U.length!==rr)throw new Error("bad n size");var Z=new Uint8Array(Ct);return Je(Z,U),Z},e.scalarMult.scalarLength=rr,e.scalarMult.groupElementLength=Ct,e.box=function(U,Z,ee,I){var ne=e.box.before(ee,I);return e.secretbox(U,Z,ne)},e.box.before=function(U,Z){$t(U,Z),vr(U,Z);var ee=new Uint8Array(Jt);return ue(ee,U,Z),ee},e.box.after=e.secretbox,e.box.open=function(U,Z,ee,I){var ne=e.box.before(ee,I);return e.secretbox.open(U,Z,ne)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var U=new Uint8Array(ar),Z=new Uint8Array(Lt);return le(U,Z),{publicKey:U,secretKey:Z}},e.box.keyPair.fromSecretKey=function(U){if($t(U),U.length!==Lt)throw new Error("bad secret key size");var Z=new Uint8Array(ar);return Je(Z,U),{publicKey:Z,secretKey:new Uint8Array(U)}},e.box.publicKeyLength=ar,e.box.secretKeyLength=Lt,e.box.sharedKeyLength=Jt,e.box.nonceLength=ur,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(U,Z){if($t(U,Z),Z.length!==or)throw new Error("bad secret key size");var ee=new Uint8Array(er+U.length);return Rt(ee,U,U.length,Z),ee},e.sign.open=function(U,Z){if($t(U,Z),Z.length!==Ft)throw new Error("bad public key size");var ee=new Uint8Array(U.length),I=bt(ee,U,U.length,Z);if(I<0)return null;for(var ne=new Uint8Array(I),Se=0;Se<ne.length;Se++)ne[Se]=ee[Se];return ne},e.sign.detached=function(U,Z){for(var ee=e.sign(U,Z),I=new Uint8Array(er),ne=0;ne<I.length;ne++)I[ne]=ee[ne];return I},e.sign.detached.verify=function(U,Z,ee){if($t(U,Z,ee),Z.length!==er)throw new Error("bad signature size");if(ee.length!==Ft)throw new Error("bad public key size");var I=new Uint8Array(er+U.length),ne=new Uint8Array(er+U.length),Se;for(Se=0;Se<er;Se++)I[Se]=Z[Se];for(Se=0;Se<U.length;Se++)I[Se+er]=U[Se];return bt(ne,I,I.length,ee)>=0},e.sign.keyPair=function(){var U=new Uint8Array(Ft),Z=new Uint8Array(or);return Te(U,Z),{publicKey:U,secretKey:Z}},e.sign.keyPair.fromSecretKey=function(U){if($t(U),U.length!==or)throw new Error("bad secret key size");for(var Z=new Uint8Array(Ft),ee=0;ee<Z.length;ee++)Z[ee]=U[32+ee];return{publicKey:Z,secretKey:new Uint8Array(U)}},e.sign.keyPair.fromSeed=function(U){if($t(U),U.length!==fr)throw new Error("bad seed size");for(var Z=new Uint8Array(Ft),ee=new Uint8Array(or),I=0;I<32;I++)ee[I]=U[I];return Te(Z,ee,!0),{publicKey:Z,secretKey:ee}},e.sign.publicKeyLength=Ft,e.sign.secretKeyLength=or,e.sign.seedLength=fr,e.sign.signatureLength=er,e.hash=function(U){$t(U);var Z=new Uint8Array(Kt);return Q(Z,U,U.length),Z},e.hash.hashLength=Kt,e.verify=function(U,Z){return $t(U,Z),U.length===0||Z.length===0||U.length!==Z.length?!1:$(U,0,Z,0,U.length)===0},e.setPRNG=function(U){a=U},function(){var U=typeof self<"u"?self.crypto||self.msCrypto:null;if(U&&U.getRandomValues){var Z=65536;e.setPRNG(function(ee,I){var ne,Se=new Uint8Array(I);for(ne=0;ne<I;ne+=Z)U.getRandomValues(Se.subarray(ne,ne+Math.min(I-ne,Z)));for(ne=0;ne<I;ne++)ee[ne]=Se[ne];pr(Se)})}else typeof commonjsRequire<"u"&&(U=requireCryptoBrowserify(),U&&U.randomBytes&&e.setPRNG(function(ee,I){var ne,Se=U.randomBytes(I);for(ne=0;ne<I;ne++)ee[ne]=Se[ne];pr(Se)}))}()})(t.exports?t.exports:self.nacl=self.nacl||{})})(naclFast);var naclFastExports=naclFast.exports;const tweetnacl=getDefaultExportFromCjs(naclFastExports),KeyDoesNotExist=new Error("Key does not exist. Make sure you properly instantiated the keystore."),NotKeyPair=new Error("Retrieved a symmetric key when an asymmetric keypair was expected. Please use a different key name."),NotKey=new Error("Retrieved an asymmetric keypair when an symmetric key was expected. Please use a different key name."),ECCNotEnabled=new Error("ECC is not enabled for this browser. Please use RSA instead."),UnsupportedCrypto=new Error("Cryptosystem not supported. Please use ECC or RSA"),InvalidKeyUse=new Error("Invalid key use. Please use 'exchange' or 'write"),InvalidMaxValue=new Error("Max must be less than 256 and greater than 0");function checkIsKeyPair(t){if(!t||t===null)throw KeyDoesNotExist;if(t.privateKey===void 0)throw NotKeyPair;return t}function checkIsKey(t){if(!t||t===null)throw KeyDoesNotExist;if(t.privateKey!==void 0||t.algorithm===void 0)throw NotKey;return t}function checkValidCryptoSystem(t){checkValid(t,[CryptoSystem.ECC,CryptoSystem.RSA],UnsupportedCrypto)}function checkValidKeyUse(t){checkValid(t,[KeyUse.Exchange,KeyUse.Write],InvalidKeyUse)}function checkValid(t,e,n){if(!e.some(o=>o===t))throw n}const errors={KeyDoesNotExist,NotKeyPair,NotKey,ECCNotEnabled,UnsupportedCrypto,InvalidKeyUse,checkIsKeyPair,checkIsKey,checkValidCryptoSystem,checkValidKeyUse,InvalidMaxValue};function arrBufToStr(t,e){const n=e===8?new Uint8Array(t):new Uint16Array(t);return Array.from(n).map(a=>String.fromCharCode(a)).join("")}function arrBufToBase64(t){return toString$2(new Uint8Array(t),"base64pad")}function strToArrBuf(t,e){const n=e===8?new Uint8Array(t.length):new Uint16Array(t.length);for(let a=0,o=t.length;a<o;a++)n[a]=t.charCodeAt(a);return n.buffer}function base64ToArrBuf(t){return fromString$2(t,"base64pad").buffer}function publicExponent(){return new Uint8Array([1,0,1])}function randomBuf(t,{max:e}={max:255}){if(e<1||e>255)throw errors.InvalidMaxValue;const n=new Uint8Array(t);if(e==255)return webcrypto.getRandomValues(n),n.buffer;let a=0;const o=e+1,u=Math.floor(256/o)*o,c=new Uint8Array(1);for(;a<n.length;)webcrypto.getRandomValues(c),c[0]<u&&(n[a]=c[0]%o,a++);return n.buffer}function joinBufs(t,e){const n=new Uint8Array(t),a=new Uint8Array(e),o=new Uint8Array(n.length+a.length);return o.set(n),o.set(a,n.length),o.buffer}const normalizeUtf8ToBuf=t=>normalizeToBuf(t,e=>strToArrBuf(e,CharSize.B8)),normalizeUtf16ToBuf=t=>normalizeToBuf(t,e=>strToArrBuf(e,CharSize.B16)),normalizeBase64ToBuf=t=>normalizeToBuf(t,base64ToArrBuf),normalizeUnicodeToBuf=(t,e)=>{switch(e){case 8:return normalizeUtf8ToBuf(t);default:return normalizeUtf16ToBuf(t)}},normalizeToBuf=(t,e)=>{if(typeof t=="string")return e(t);if(typeof t=="object"&&t.byteLength!==void 0)return new Uint8Array(t).buffer;throw new Error("Improper value. Must be a string, ArrayBuffer, Uint8Array")};async function structuralClone(t){return new Promise(e=>{const{port1:n,port2:a}=new MessageChannel;a.onmessage=o=>e(o.data),n.postMessage(t)})}const utils={arrBufToStr,arrBufToBase64,strToArrBuf,base64ToArrBuf,publicExponent,randomBuf,joinBufs,normalizeUtf8ToBuf,normalizeUtf16ToBuf,normalizeBase64ToBuf,normalizeToBuf,structuralClone},ECC_EXCHANGE_ALG="ECDH",ECC_WRITE_ALG="ECDSA",RSA_EXCHANGE_ALG="RSA-OAEP",RSA_WRITE_ALG="RSASSA-PKCS1-v1_5",SALT_LENGTH=128,DEFAULT_CRYPTOSYSTEM="ecc",DEFAULT_ECC_CURVE=EccCurve.P_256,DEFAULT_RSA_SIZE=RsaSize.B2048,DEFAULT_SYMM_ALG=SymmAlg.AES_CTR,DEFAULT_SYMM_LEN=SymmKeyLength.B256,DEFAULT_CTR_LEN=64,DEFAULT_HASH_ALG=HashAlg.SHA_256,DEFAULT_CHAR_SIZE=CharSize.B16,DEFAULT_STORE_NAME="keystore",DEFAULT_EXCHANGE_KEY_NAME="exchange-key",DEFAULT_WRITE_KEY_NAME="write-key";async function makeKey(t){return webcrypto.subtle.generateKey({name:t?.alg||DEFAULT_SYMM_ALG,length:t?.length||DEFAULT_SYMM_LEN},!0,["encrypt","decrypt"])}async function importKey(t,e){const n=utils.base64ToArrBuf(t);return webcrypto.subtle.importKey("raw",n,{name:e?.alg||DEFAULT_SYMM_ALG,length:e?.length||DEFAULT_SYMM_LEN},!0,["encrypt","decrypt"])}const keys$1={makeKey,importKey};async function encryptBytes(t,e,n){const a=utils.normalizeUtf16ToBuf(t),o=typeof e=="string"?await keys$1.importKey(e,n):e,u=n?.alg||DEFAULT_SYMM_ALG,c=n?.iv||utils.randomBuf(16),d=await webcrypto.subtle.encrypt({name:u,iv:u===SymmAlg.AES_CTR?void 0:c,counter:u===SymmAlg.AES_CTR?new Uint8Array(c):void 0,length:u===SymmAlg.AES_CTR?DEFAULT_CTR_LEN:void 0},o,a);return utils.joinBufs(c,d)}async function decryptBytes(t,e,n){const a=utils.normalizeBase64ToBuf(t),o=typeof e=="string"?await keys$1.importKey(e,n):e,u=n?.alg||DEFAULT_SYMM_ALG,c=a.slice(0,16),d=a.slice(16);return await webcrypto.subtle.decrypt({name:u,iv:u===SymmAlg.AES_CTR?void 0:c,counter:u===SymmAlg.AES_CTR?new Uint8Array(c):void 0,length:u===SymmAlg.AES_CTR?DEFAULT_CTR_LEN:void 0},o,d)}async function encrypt$1(t,e,n){const a=await encryptBytes(t,e,n);return utils.arrBufToBase64(a)}async function decrypt$1(t,e,n){const a=await decryptBytes(t,e,n);return utils.arrBufToStr(a,16)}async function exportKey(t){const e=await webcrypto.subtle.exportKey("raw",t);return utils.arrBufToBase64(e)}const operations$1={encryptBytes,decryptBytes,encrypt:encrypt$1,decrypt:decrypt$1,exportKey},aes$1={...keys$1,...operations$1};async function makeKeypair$1(t,e,n){checkValidKeyUse(n);const a=n===KeyUse.Exchange?RSA_EXCHANGE_ALG:RSA_WRITE_ALG,o=n===KeyUse.Exchange?["encrypt","decrypt"]:["sign","verify"];return webcrypto.subtle.generateKey({name:a,modulusLength:t,publicExponent:utils.publicExponent(),hash:{name:e}},!1,o)}function stripKeyHeader(t){return t.replace(`-----BEGIN PUBLIC KEY-----
`,"").replace(`
-----END PUBLIC KEY-----`,"")}async function importPublicKey$1(t,e,n){checkValidKeyUse(n);const a=n===KeyUse.Exchange?RSA_EXCHANGE_ALG:RSA_WRITE_ALG,o=n===KeyUse.Exchange?["encrypt"]:["verify"],u=utils.base64ToArrBuf(stripKeyHeader(t));return webcrypto.subtle.importKey("spki",u,{name:a,hash:{name:e}},!0,o)}const keys={makeKeypair:makeKeypair$1,importPublicKey:importPublicKey$1};async function sign(t,e,n=DEFAULT_CHAR_SIZE){return webcrypto.subtle.sign({name:RSA_WRITE_ALG,saltLength:SALT_LENGTH},e,normalizeUnicodeToBuf(t,n))}async function verify(t,e,n,a=DEFAULT_CHAR_SIZE,o=DEFAULT_HASH_ALG){return webcrypto.subtle.verify({name:RSA_WRITE_ALG,saltLength:SALT_LENGTH},typeof n=="string"?await keys.importPublicKey(n,o,KeyUse.Write):n,normalizeBase64ToBuf(e),normalizeUnicodeToBuf(t,a))}async function encrypt(t,e,n=DEFAULT_CHAR_SIZE,a=DEFAULT_HASH_ALG){return webcrypto.subtle.encrypt({name:RSA_EXCHANGE_ALG},typeof e=="string"?await keys.importPublicKey(e,a,KeyUse.Exchange):e,normalizeUnicodeToBuf(t,n))}async function decrypt(t,e){const n=normalizeBase64ToBuf(t);return webcrypto.subtle.decrypt({name:RSA_EXCHANGE_ALG},e,n)}async function getPublicKey(t){const e=await webcrypto.subtle.exportKey("spki",t.publicKey);return utils.arrBufToBase64(e)}const operations={sign,verify,encrypt,decrypt,getPublicKey};function createStore(t){return localforage.createInstance({name:t})}async function createIfDoesNotExist(t,e,n=localforage){if(await exists(t,n))return;const a=await e();await put(t,a,n)}async function put(t,e,n=localforage){return n.setItem(t,e)}async function getKeypair(t,e=localforage){return get(t,checkIsKeyPair,e)}async function getKey(t,e=localforage){return get(t,checkIsKey,e)}async function get(t,e,n=localforage){const a=await n.getItem(t);return a===null?null:e(a)}async function exists(t,e=localforage){return await e.getItem(t)!==null}async function rm(t,e=localforage){return e.removeItem(t)}async function dropStore(t){return t.dropInstance()}async function clear$1(t){return t?dropStore(t):localforage.clear()}const IDB={createStore,createIfDoesNotExist,put,getKeypair,getKey,exists,rm,dropStore,clear:clear$1};async function makeKeypair(t,e){checkValidKeyUse(e);const n=e===KeyUse.Exchange?ECC_EXCHANGE_ALG:ECC_WRITE_ALG,a=e===KeyUse.Exchange?["deriveKey","deriveBits"]:["sign","verify"];return webcrypto.subtle.generateKey({name:n,namedCurve:t},!1,a)}async function importPublicKey(t,e,n){checkValidKeyUse(n);const a=n===KeyUse.Exchange?ECC_EXCHANGE_ALG:ECC_WRITE_ALG,o=n===KeyUse.Exchange?[]:["verify"],u=utils.base64ToArrBuf(t);return webcrypto.subtle.importKey("raw",u,{name:a,namedCurve:e},!0,o)}const ecc={makeKeypair,importPublicKey},defaultConfig={type:DEFAULT_CRYPTOSYSTEM,curve:DEFAULT_ECC_CURVE,rsaSize:DEFAULT_RSA_SIZE,symmAlg:DEFAULT_SYMM_ALG,symmLen:DEFAULT_SYMM_LEN,hashAlg:DEFAULT_HASH_ALG,charSize:DEFAULT_CHAR_SIZE,storeName:DEFAULT_STORE_NAME,exchangeKeyName:DEFAULT_EXCHANGE_KEY_NAME,writeKeyName:DEFAULT_WRITE_KEY_NAME};function normalize(t,e=!0){let n;return t?n={...defaultConfig,...t}:n=defaultConfig,t?.type||(n.type=e?CryptoSystem.ECC:CryptoSystem.RSA),n}async function eccEnabled(){const t=await ecc.makeKeypair(DEFAULT_ECC_CURVE,KeyUse.Exchange);try{await utils.structuralClone(t)}catch{return!1}return!0}function merge(t,e={}){return{...t,...e}}function symmKeyOpts(t){return{alg:t.symmAlg,length:t.symmLen}}const config={defaultConfig,normalize,eccEnabled,merge,symmKeyOpts};class KeyStoreBase{constructor(e,n){this.cfg=e,this.store=n}async writeKey(){const e=await IDB.getKeypair(this.cfg.writeKeyName,this.store);return checkIsKeyPair(e)}async exchangeKey(){const e=await IDB.getKeypair(this.cfg.exchangeKeyName,this.store);return checkIsKeyPair(e)}async getSymmKey(e,n){const a=config.merge(this.cfg,n),o=await IDB.getKey(e,this.store);if(o!==null)return o;const u=await aes$1.makeKey(config.symmKeyOpts(a));return await IDB.put(e,u,this.store),u}async keyExists(e){return await IDB.getKey(e,this.store)!==null}async deleteKey(e){return IDB.rm(e,this.store)}async destroy(){return IDB.dropStore(this.store)}async importSymmKey(e,n,a){const o=config.merge(this.cfg,a),u=await aes$1.importKey(e,config.symmKeyOpts(o));await IDB.put(n,u,this.store)}async exportSymmKey(e,n){const a=await this.getSymmKey(e,n);return aes$1.exportKey(a)}async encryptWithSymmKey(e,n,a){const o=config.merge(this.cfg,a),u=await this.getSymmKey(n,a),c=await aes$1.encryptBytes(utils.strToArrBuf(e,o.charSize),u,config.symmKeyOpts(o));return utils.arrBufToBase64(c)}async decryptWithSymmKey(e,n,a){const o=config.merge(this.cfg,a),u=await this.getSymmKey(n,a),c=await aes$1.decryptBytes(utils.base64ToArrBuf(e),u,config.symmKeyOpts(o));return utils.arrBufToStr(c,o.charSize)}}class RSAKeyStore extends KeyStoreBase{static async init(e){const n=config.normalize({...e||{},type:CryptoSystem.RSA}),{rsaSize:a,hashAlg:o,storeName:u,exchangeKeyName:c,writeKeyName:d}=n,p=IDB.createStore(u);return await IDB.createIfDoesNotExist(c,()=>keys.makeKeypair(a,o,KeyUse.Exchange),p),await IDB.createIfDoesNotExist(d,()=>keys.makeKeypair(a,o,KeyUse.Write),p),new RSAKeyStore(n,p)}async sign(e,n){const a=config.merge(this.cfg,n),o=await this.writeKey();return utils.arrBufToBase64(await operations.sign(e,o.privateKey,a.charSize))}async verify(e,n,a,o){const u=config.merge(this.cfg,o);return operations.verify(e,n,a,u.charSize,u.hashAlg)}async encrypt(e,n,a){const o=config.merge(this.cfg,a);return utils.arrBufToBase64(await operations.encrypt(e,n,o.charSize,o.hashAlg))}async decrypt(e,n,a){const o=await this.exchangeKey(),u=config.merge(this.cfg,a);return utils.arrBufToStr(await operations.decrypt(e,o.privateKey),u.charSize)}async publicExchangeKey(){const e=await this.exchangeKey();return operations.getPublicKey(e)}async publicWriteKey(){const e=await this.writeKey();return operations.getPublicKey(e)}}const rsaOperations={...keys,...operations,...RSAKeyStore},aes={decrypt:aesDecrypt,encrypt:aesEncrypt,exportKey:aesExportKey,genKey:aesGenKey};function importAesKey(t,e){return webcrypto.subtle.importKey("raw",t,{name:e,length:SymmKeyLength.B256},!0,["encrypt","decrypt"])}async function aesDecrypt(t,e,n,a){const o=isCryptoKey(e)?e:await importAesKey(e,n),u=a?await webcrypto.subtle.decrypt({name:n,iv:a},o,t):await decryptBytes(t,o,{alg:n});return new Uint8Array(u)}async function aesEncrypt(t,e,n,a){const o=isCryptoKey(e)?e:await importAesKey(e,n),u=a?await webcrypto.subtle.encrypt({name:n,iv:a},o,t):await encryptBytes(t,o,{alg:n});return new Uint8Array(u)}async function aesExportKey(t){const e=await webcrypto.subtle.exportKey("raw",t);return new Uint8Array(e)}function aesGenKey(t){return makeKey({length:SymmKeyLength.B256,alg:t})}const did$1={keyTypes:{"bls12-381":{magicBytes:new Uint8Array([234,1]),verify:()=>{throw new Error("Not implemented")}},ed25519:{magicBytes:new Uint8Array([237,1]),verify:ed25519Verify},rsa:{magicBytes:new Uint8Array([0,245,2]),verify:rsaVerify}}};async function ed25519Verify({message:t,publicKey:e,signature:n}){return tweetnacl.sign.detached.verify(t,n,e)}async function rsaVerify({message:t,publicKey:e,signature:n}){return rsaOperations.verify(t,n,await webcrypto.subtle.importKey("spki",e,{name:RSA_WRITE_ALG,hash:RSA_HASHING_ALGORITHM},!1,["verify"]),8)}const hash={sha256};async function sha256(t){return new Uint8Array(await webcrypto.subtle.digest("sha-256",t))}function ksClearStore(t){return t.destroy()}async function ksDecrypt(t,e){const n=await t.exchangeKey();return rsaDecrypt(e,n.privateKey)}async function ksExportSymmKey(t,e){if(await t.keyExists(e)===!1)throw new Error(`Expected a key under the name '${e}', but couldn't find anything`);const n=await t.getSymmKey(e),a=await webcrypto.subtle.exportKey("raw",n);return new Uint8Array(a)}function ksGetAlgorithm(t){return Promise.resolve("rsa")}function ksGetUcanAlgorithm(t){return Promise.resolve("RS256")}function ksImportSymmKey(t,e,n){return t.importSymmKey(toString$2(e,"base64pad"),n)}function ksKeyExists(t,e){return t.keyExists(e)}async function ksPublicExchangeKey(t){const e=await t.exchangeKey(),n=await webcrypto.subtle.exportKey("spki",e.publicKey);return new Uint8Array(n)}async function ksPublicWriteKey(t){const e=await t.writeKey(),n=await webcrypto.subtle.exportKey("spki",e.publicKey);return new Uint8Array(n)}async function ksSign(t,e){const n=await t.writeKey(),a=await rsaOperations.sign(e,n.privateKey,t.cfg.charSize);return new Uint8Array(a)}const misc={randomNumbers};function randomNumbers(t){return webcrypto.getRandomValues(new Uint8Array(t.amount))}const rsa={decrypt:rsaDecrypt,encrypt:rsaEncrypt,exportPublicKey:rsaExportPublicKey,genKey:rsaGenKey},RSA_ALGORITHM="RSA-OAEP",RSA_HASHING_ALGORITHM="SHA-256";function importRsaKey(t,e){return webcrypto.subtle.importKey("spki",t,{name:RSA_ALGORITHM,hash:RSA_HASHING_ALGORITHM},!1,e)}async function rsaDecrypt(t,e){const n=await webcrypto.subtle.decrypt({name:RSA_ALGORITHM},isCryptoKey(e)?e:await importRsaKey(e,["decrypt"]),t);return new Uint8Array(n)}async function rsaEncrypt(t,e){const n=isCryptoKey(e)?e:await importRsaKey(e,["encrypt"]),a=await webcrypto.subtle.encrypt({name:RSA_ALGORITHM},n,t);return new Uint8Array(a)}async function rsaExportPublicKey(t){const e=await webcrypto.subtle.exportKey("spki",t);return new Uint8Array(e)}function rsaGenKey(){return webcrypto.subtle.generateKey({name:RSA_ALGORITHM,modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:RSA_HASHING_ALGORITHM}},!0,["encrypt","decrypt"])}async function implementation$4({storeName:t,exchangeKeyName:e,writeKeyName:n}){const a=await RSAKeyStore.init({charSize:8,hashAlg:HashAlg.SHA_256,storeName:t,exchangeKeyName:e,writeKeyName:n});return{aes,did:did$1,hash,misc,rsa,keystore:{clearStore:(...o)=>ksClearStore(a,...o),decrypt:(...o)=>ksDecrypt(a,...o),exportSymmKey:(...o)=>ksExportSymmKey(a,...o),getAlgorithm:(...o)=>ksGetAlgorithm(a,...o),getUcanAlgorithm:(...o)=>ksGetUcanAlgorithm(a,...o),importSymmKey:(...o)=>ksImportSymmKey(a,...o),keyExists:(...o)=>ksKeyExists(a,...o),publicExchangeKey:(...o)=>ksPublicExchangeKey(a,...o),publicWriteKey:(...o)=>ksPublicWriteKey(a,...o),sign:(...o)=>ksSign(a,...o)}}}const KEYS={ACCOUNT_UCAN:"account-ucan",CID_LOG:"cid-log",SESSION:"session",UCANS:"permissioned-ucans"};function getItem(t,e){return assertBrowser("storage.getItem"),t.getItem(e)}function setItem(t,e,n){return assertBrowser("storage.setItem"),t.setItem(e,n)}function removeItem(t,e){return assertBrowser("storage.removeItem"),t.removeItem(e)}async function clear(t){return assertBrowser("storage.clear"),t.clear()}function implementation$3({name:t}){const e=localforage.createInstance({name:t});return{KEYS,getItem:(...n)=>getItem(e,...n),setItem:(...n)=>setItem(e,...n),removeItem:(...n)=>removeItem(e,...n),clear:(...n)=>clear(e,...n)}}async function lookupTxtRecord(t){return Promise.any([googleLookup(t),cloudflareLookup(t)])}async function googleLookup(t){return dnsOverHttps(`https://dns.google/resolve?name=${t}&type=txt`)}function cloudflareLookup(t){return dnsOverHttps(`https://cloudflare-dns.com/dns-query?name=${t}&type=txt`)}function dnsOverHttps(t){return fetch(t,{headers:{accept:"application/dns-json"}}).then(e=>e.json()).then(e=>{if(e.Answer){const n=e.Answer.map(a=>(a.data||"").replace(/^"+|"+$/g,""));return n[0][3]===";"?n.sort((a,o)=>a.slice(0,4).localeCompare(o.slice(0,4))).map(a=>a.slice(4)).join(""):n.join("")}else return null})}async function lookupDnsLink(t){const e=await lookupTxtRecord(t.startsWith("_dnslink.")?t:`_dnslink.${t}`);return e&&!e.includes("/ipns/")?e.replace(/^dnslink=/,"").replace(/^\/ipfs\//,""):null}const PRODUCTION={apiPath:"/v2/api",lobby:"https://auth.fission.codes",server:"https://runfission.com",userDomain:"fission.name"};function apiUrl(t,e){return`${t.server}${t.apiPath}${e?.length?"/"+e.replace(/^\/+/,""):""}`}const didCache={did:null,host:null,lastFetched:0};async function did(t){let e;try{e=new URL(t.server).host}catch{throw new Error("Unable to parse API Endpoint")}const n=Date.now();if((didCache.host!==e||didCache.lastFetched+1e3*60*60*3<=n)&&(didCache.did=await lookupTxtRecord("_did."+e),didCache.host=e,didCache.lastFetched=n),!didCache.did)throw new Error("Couldn't get the Fission API DID");return didCache.did}const drain=async t=>{for await(const e of t);};var itDrain=drain;const drain$1=getDefaultExportFromCjs(itDrain),filter=async function*(t,e){for await(const n of t)await e(n)&&(yield n)};var itFilter=filter;const filter$1=getDefaultExportFromCjs(itFilter),take=async function*(t,e){let n=0;if(!(e<1)){for await(const a of t)if(yield a,n++,n===e)return}};var itTake=take;const take$1=getDefaultExportFromCjs(itTake),sortAll=(t,e)=>async function*(){yield*(await all$3(t)).sort(e)}();class BaseBlockstore{open(){return Promise.reject(new Error(".open is not implemented"))}close(){return Promise.reject(new Error(".close is not implemented"))}put(e,n,a){return Promise.reject(new Error(".put is not implemented"))}get(e,n){return Promise.reject(new Error(".get is not implemented"))}has(e,n){return Promise.reject(new Error(".has is not implemented"))}delete(e,n){return Promise.reject(new Error(".delete is not implemented"))}async*putMany(e,n={}){for await(const{key:a,value:o}of e)await this.put(a,o,n),yield{key:a,value:o}}async*getMany(e,n={}){for await(const a of e)yield this.get(a,n)}async*deleteMany(e,n={}){for await(const a of e)await this.delete(a,n),yield a}batch(){let e=[],n=[];return{put(a,o){e.push({key:a,value:o})},delete(a){n.push(a)},commit:async a=>{await drain$1(this.putMany(e,a)),e=[],await drain$1(this.deleteMany(n,a)),n=[]}}}async*_all(e,n){throw new Error("._all is not implemented")}async*_allKeys(e,n){throw new Error("._allKeys is not implemented")}query(e,n){let a=this._all(e,n);if(e.prefix!=null&&(a=filter$1(a,o=>o.key.toString().startsWith(e.prefix||""))),Array.isArray(e.filters)&&(a=e.filters.reduce((o,u)=>filter$1(o,u),a)),Array.isArray(e.orders)&&(a=e.orders.reduce((o,u)=>sortAll(o,u),a)),e.offset!=null){let o=0;a=filter$1(a,()=>o++>=(e.offset||0))}return e.limit!=null&&(a=take$1(a,e.limit)),a}queryKeys(e,n){let a=this._allKeys(e,n);if(e.prefix!=null&&(a=filter$1(a,o=>o.toString().startsWith(e.prefix||""))),Array.isArray(e.filters)&&(a=e.filters.reduce((o,u)=>filter$1(o,u),a)),Array.isArray(e.orders)&&(a=e.orders.reduce((o,u)=>sortAll(o,u),a)),e.offset!=null){let o=0;a=filter$1(a,()=>o++>=e.offset)}return e.limit!=null&&(a=take$1(a,e.limit)),a}}function cidToKey(t){const e=CID.asCID(t);if(!e)throw errcode(new Error("Not a valid cid"),"ERR_INVALID_CID");return new Key("/"+base32.encode(e.multihash.bytes).slice(1).toUpperCase(),!1)}function keyToCid(t){return CID.createV1(code$3,decode$6(base32.decode("b"+t.toString().slice(1).toLowerCase())))}function convertPrefix(t){const e=t.substring(0,1);if(e==="/")return convertPrefix(t.substring(1));let n;e.toLowerCase()==="b"?n=u=>base32.decode(u.toLowerCase()).subarray(2):e.toLowerCase()==="c"?n=u=>base32pad.decode(u.toLowerCase()).subarray(2):e==="z"?n=u=>base58btc.decode(u).subarray(2):e==="Q"?n=u=>base58btc.decode("z"+u):n=u=>base32.decode("b"+u.toLowerCase()).subarray(2);let a;for(let u=1;u<t.length;u++)try{a=n(t.substring(0,u))}catch(c){if(c.message!=="Unexpected end of data")throw c}let o="/C";return a&&(o=`/${base32.encode(a).slice(1,-1).toUpperCase()||"C"}`),o}function convertQuery(t){return{...t,prefix:t.prefix?convertPrefix(t.prefix):void 0,filters:t.filters?t.filters.map(e=>n=>e({key:keyToCid(n.key),value:n.value})):void 0,orders:t.orders?t.orders.map(e=>(n,a)=>e({key:keyToCid(n.key),value:n.value},{key:keyToCid(a.key),value:a.value})):void 0}}function convertKeyQuery(t){return{...t,prefix:t.prefix?convertPrefix(t.prefix):void 0,filters:t.filters?t.filters.map(e=>n=>e(keyToCid(n))):void 0,orders:t.orders?t.orders.map(e=>(n,a)=>e(keyToCid(n),keyToCid(a))):void 0}}class BlockstoreDatastoreAdapter extends BaseBlockstore{constructor(e){super(),this.child=e}open(){return this.child.open()}close(){return this.child.close()}async*query(e,n){for await(const{key:a,value:o}of this.child.query(convertQuery(e),n))yield{key:keyToCid(a),value:o}}async*queryKeys(e,n){for await(const a of this.child.queryKeys(convertKeyQuery(e),n))yield keyToCid(a)}async get(e,n){return this.child.get(cidToKey(e),n)}async*getMany(e,n){for await(const a of e)yield this.get(a,n)}async put(e,n,a){await this.child.put(cidToKey(e),n,a)}async*putMany(e,n){const a=pushable({objectMode:!0});(globalThis.process&&globalThis.process.nextTick?globalThis.process.nextTick:globalThis.setImmediate||globalThis.setTimeout)(async()=>{try{const u=this.child;await drain$2(this.child.putMany(async function*(){for await(const c of e){const d=cidToKey(c.key);await u.has(d,n)||(yield{key:d,value:c.value}),a.push(c)}}())),a.end()}catch(u){a.end(u)}}),yield*a}has(e,n){return this.child.has(cidToKey(e),n)}delete(e,n){return this.child.delete(cidToKey(e),n)}deleteMany(e,n){const a=pushable({objectMode:!0});return drain$2(this.child.deleteMany(async function*(){for await(const o of e)yield cidToKey(o),a.push(o);a.end()}(),n)).catch(o=>{a.end(o)}),a}}function endpoint(t){return({rootDID:e})=>`${t}/user/link/${e}`}const createWssChannel=async(t,e,n)=>{const{username:a,handleMessage:o}=n,u=await waitForRootDid(t,a);if(!u)throw new Error(`Failed to lookup DID for ${a}`);const c=`deviceLink#${u}`;console.log("Opening channel",c);const d=new WebSocket(e({rootDID:u}));await waitForOpenConnection(d),d.onmessage=o;const p=publishOnWssChannel(d),v=closeWssChannel(d);return{send:p,close:v}},waitForRootDid=async(t,e)=>{let n=await t.didRoot.lookup(e).catch(()=>(console.warn("Could not fetch root DID. Retrying."),null));return n||new Promise((a,o)=>{let c=0;const d=setInterval(async()=>{if(n=await t.didRoot.lookup(e).catch(()=>(console.warn("Could not fetch root DID. Retrying."),null)),!n&&c<10){c++;return}else!n&&c===10&&o("Failed to fetch root DID.");clearInterval(d),a(n)},1e3)})},waitForOpenConnection=async t=>new Promise((e,n)=>{t.onopen=()=>e(),t.onerror=()=>n("Websocket channel could not be opened")}),closeWssChannel=t=>function(){t&&t.close(1e3)},publishOnWssChannel=t=>function(e){const n=typeof e=="string"?new TextEncoder().encode(e).buffer:e;t?.send(n)},USERNAME_BLOCKLIST=["fission","ipfs","ipns","did","id","identity",".htaccess","htaccess",".htpasswd","htpasswd",".well-known","well-known","400","401","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","421","422","423","424","426","428","429","431","500","501","502","503","504","505","506","507","508","509","510","511","_domainkey","about","about-us","abuse","access","account","accounts","ad","add","admin","administration","administrator","ads","ads.txt","advertise","advertising","aes128-ctr","aes128-gcm","aes192-ctr","aes256-ctr","aes256-gcm","affiliate","affiliates","ajax","alert","alerts","alpha","amp","analytics","api","app","app-ads.txt","apps","asc","assets","atom","auth","authentication","authorize","autoconfig","autodiscover","avatar","backup","banner","banners","bbs","beta","billing","billings","blog","blogs","board","bookmark","bookmarks","broadcasthost","business","buy","cache","calendar","campaign","captcha","careers","cart","cas","categories","category","cdn","cgi","cgi-bin","chacha20-poly1305","change","channel","channels","chart","chat","checkout","clear","client","close","cloud","cms","com","comment","comments","community","compare","compose","config","connect","contact","contest","cookies","copy","copyright","count","cp","cpanel","create","crossdomain.xml","css","curve25519-sha256","customer","customers","customize","dashboard","db","deals","debug","delete","desc","destroy","dev","developer","developers","diffie-hellman-group-exchange-sha256","diffie-hellman-group14-sha1","disconnect","discuss","dns","dns0","dns1","dns2","dns3","dns4","docs","documentation","domain","download","downloads","downvote","draft","drop","ecdh-sha2-nistp256","ecdh-sha2-nistp384","ecdh-sha2-nistp521","edit","editor","email","enterprise","error","errors","event","events","example","exception","exit","explore","export","extensions","false","family","faq","faqs","favicon.ico","features","feed","feedback","feeds","file","files","filter","follow","follower","followers","following","fonts","forgot","forgot-password","forgotpassword","form","forms","forum","forums","friend","friends","ftp","get","git","go","graphql","group","groups","guest","guidelines","guides","head","header","help","hide","hmac-sha","hmac-sha1","hmac-sha1-etm","hmac-sha2-256","hmac-sha2-256-etm","hmac-sha2-512","hmac-sha2-512-etm","home","host","hosting","hostmaster","htpasswd","http","httpd","https","humans.txt","icons","images","imap","img","import","index","info","insert","investors","invitations","invite","invites","invoice","is","isatap","issues","it","jobs","join","js","json","keybase.txt","learn","legal","license","licensing","like","limit","live","load","local","localdomain","localhost","lock","login","logout","lost-password","m","mail","mail0","mail1","mail2","mail3","mail4","mail5","mail6","mail7","mail8","mail9","mailer-daemon","mailerdaemon","map","marketing","marketplace","master","me","media","member","members","message","messages","metrics","mis","mobile","moderator","modify","more","mx","mx1","my","net","network","new","news","newsletter","newsletters","next","nil","no-reply","nobody","noc","none","noreply","notification","notifications","ns","ns0","ns1","ns2","ns3","ns4","ns5","ns6","ns7","ns8","ns9","null","oauth","oauth2","offer","offers","online","openid","order","orders","overview","owa","owner","page","pages","partners","passwd","password","pay","payment","payments","photo","photos","pixel","plans","plugins","policies","policy","pop","pop3","popular","portal","portfolio","post","postfix","postmaster","poweruser","preferences","premium","press","previous","pricing","print","privacy","privacy-policy","private","prod","product","production","profile","profiles","project","projects","public","purchase","put","quota","recover","recovery","redirect","reduce","refund","refunds","register","registration","remove","replies","reply","report","request","request-password","reset","reset-password","response","return","returns","review","reviews","robots.txt","root","rootuser","rsa-sha2-2","rsa-sha2-512","rss","rules","sales","save","script","sdk","search","secure","security","select","services","session","sessions","settings","setup","share","shift","shop","signin","signup","site","sitemap","sites","smtp","sort","source","sql","ssh","ssh-rsa","ssl","ssladmin","ssladministrator","sslwebmaster","stage","staging","stat","static","statistics","stats","status","store","style","styles","stylesheet","stylesheets","subdomain","subscribe","sudo","super","superuser","support","survey","sync","sysadmin","system","tablet","tag","tags","team","telnet","terms","terms-of-use","test","testimonials","theme","themes","today","tools","topic","topics","tour","training","translate","translations","trending","trial","true","umac-128","umac-128-etm","umac-64","umac-64-etm","undefined","unfollow","unlike","unsubscribe","update","upgrade","usenet","user","username","users","uucp","var","verify","video","view","void","vote","vpn","webmail","webmaster","website","widget","widgets","wiki","wpad","write","www","www-data","www1","www2","www3","www4","you","yourname","yourusername","zlib"];async function createAccount(t,e,n){const a=encode$3(await build({audience:await did(t),dependencies:e,issuer:await write(e.crypto)}));return{success:(await fetch(apiUrl(t,"/user"),{method:"PUT",headers:{authorization:`Bearer ${a}`,"content-type":"application/json"},body:JSON.stringify(n)})).status<300}}async function isUsernameAvailable(t,e){return!(await fetch(apiUrl(t,`/user/data/${e}`))).ok}function isUsernameValid(t){return!t.startsWith("-")&&!t.endsWith("-")&&!t.startsWith("_")&&/^[a-zA-Z0-9_-]+$/.test(t)&&!USERNAME_BLOCKLIST.includes(t.toLowerCase())}async function canDelegateAccount(t,e){const n=await t.reference.didRoot.lookup(e);return await retrieve({crypto:t.crypto,accountDID:n})?canDelegateAccount$1(t,e):!1}async function delegateAccount(t,e,n){const a=await t.reference.didRoot.lookup(e),o=await retrieve({crypto:t.crypto,accountDID:a}),{token:u}=await delegateAccount$2(t,e,n);return{readKey:toString$2(o,"base64pad"),ucan:u}}async function linkDevice(t,e,n){if(!isWnfsLinkingData(n))throw new LinkingError(`Consumer received invalid link device response from producer: Expected read key and ucan, but got ${JSON.stringify(n)}`);const{readKey:a,ucan:o}=n,u=decode$2(o);if(await isValid(t.crypto,u)){await t.storage.setItem(t.storage.KEYS.ACCOUNT_UCAN,o),await store({accountDID:await t.reference.didRoot.lookup(e),crypto:t.crypto,readKey:fromString(a)});const c=await write(t.crypto),d=await build({dependencies:t,potency:"APPEND",resource:"*",proof:o,lifetimeInSeconds:60*60*24*30*12*1e3,audience:c,issuer:c});await t.reference.repositories.ucans.add(d)}else throw new LinkingError(`Consumer received invalid link device response from producer. Given ucan is invalid: ${n.ucan}`);await provide(t.storage,{type:TYPE,username:e})}async function session(t,e,n,a){if(e){if(!t.reference.repositories.ucans.find(d=>d.payload.exp<Date.now()+604800?!1:d.payload.ptc==="APPEND"&&d.payload.rsc==="*")){const d=await write(t.crypto),p=await t.storage.getItem(t.storage.KEYS.ACCOUNT_UCAN),v=await build({dependencies:t,potency:"APPEND",resource:"*",proof:p||void 0,lifetimeInSeconds:60*60*24*30*12*1e3,audience:d,issuer:d});await t.reference.repositories.ucans.add(v)}const u=n.fileSystem?.loadImmediately===!1?void 0:await loadFileSystem({config:n,dependencies:{crypto:t.crypto,depot:t.depot,manners:t.manners,reference:t.reference,storage:t.storage},eventEmitter:a.fileSystem,username:e});return new Session({crypto:t.crypto,fs:u,eventEmitter:a.session,storage:t.storage,type:TYPE,username:e})}return null}function isWnfsLinkingData(t){return isObject$1(t)&&"readKey"in t&&typeof t.readKey=="string"&&"ucan"in t&&typeof t.ucan=="string"}function implementation$2(t){const e=implementation$5(t);return{type:e.type,session,canDelegateAccount:(...n)=>canDelegateAccount(t,...n),delegateAccount:(...n)=>delegateAccount(t,...n),linkDevice:(...n)=>linkDevice(t,...n),createChannel:e.createChannel,isUsernameValid:e.isUsernameValid,isUsernameAvailable:e.isUsernameAvailable,register:e.register}}function create({storage:t}){return Repo.create({storage:t,storageName:t.KEYS.CID_LOG})}class Repo extends Repository{constructor(e){super(e)}fromJSON(e){return decodeCID(e)}toJSON(e){return e.toString()}indexOf(e){return this.memoryCache.map(n=>n.toString()).indexOf(e.toString())}newest(){return this.memoryCache[this.memoryCache.length-1]}}async function didRootLookup(t,e){const n=await t.storage.getItem(t.storage.KEYS.ACCOUNT_UCAN);return n?rootIssuer(n):await write(t.crypto)}async function implementation$1(t){return{dataRoot:{domain:()=>{throw new Error("Not implemented")},lookup:()=>{throw new Error("Not implemented")},update:()=>{throw new Error("Not implemented")}},didRoot:{lookup:(...e)=>didRootLookup(t,...e)},dns:{lookupDnsLink,lookupTxtRecord},repositories:{cidLog:await create({storage:t.storage}),ucans:await create$3({storage:t.storage})}}}async function lookup(t,e,n){const a=await lookupOnFisson(t,e,n);if(!a)return null;if(a!==null)return a;try{const o=await lookupDnsLink(n+".files."+t.userDomain);return o?decodeCID(o):null}catch(o){throw console.error(o),new Error("Could not locate user root in DNS")}}async function lookupOnFisson(t,e,n){try{const o=await(await fetch(apiUrl(t,`user/data/${n}`),{cache:"reload"})).json();return decodeCID(o)}catch(a){return e.manners.log("Could not locate user root on Fission server: ",hasProp(a,"toString")?a.toString():a),null}}async function update(t,e,n,a){const o=n.toString();return e.manners.log("🌊 Updating your DNSLink:",o),await fetchWithRetry(apiUrl(t,`user/data/${o}`),{headers:async()=>({authorization:`Bearer ${encode$3(await build({dependencies:e,audience:await did(t),issuer:await write(e.crypto),potency:"APPEND",proof:encode$3(a),resource:a.payload.rsc}))}`}),retries:100,retryDelay:5e3,retryOn:[502,503,504]},{method:"PUT"}).then(u=>(u.status<300?e.manners.log("🪴 DNSLink updated:",o):e.manners.log("🔥 Failed to update DNSLink for:",o),{success:u.status<300})).catch(u=>(e.manners.log("🔥 Failed to update DNSLink for:",o),console.error(u),{success:!1}))}async function fetchWithRetry(t,e,n,a=0){const o=await e.headers(),u=await fetch(t,{...n,headers:{...n.headers,...o}});if(e.retryOn.includes(u.status)){if(a<e.retries)return await new Promise((c,d)=>setTimeout(()=>fetchWithRetry(t,e,n,a+1).then(c,d),e.retryDelay));throw new Error("Too many retries for fetch")}return u}async function root(t,e){try{const n=await lookupTxtRecord(`_did.${e}.${t.userDomain}`);if(n!==null)return n}catch{}throw new Error("Could not locate user DID in DNS.")}function implementation(t){return{log:t.configuration.debug?console.log:()=>{},warn:t.configuration.debug?console.warn:()=>{},wnfsWasmLookup:e=>fetch(`https://unpkg.com/wnfs@${e}/wasm_wnfs_bg.wasm`),fileSystem:{hooks:{afterLoadExisting:async()=>{},afterLoadNew:async e=>{await e.publish()},beforeLoadExisting:async()=>{},beforeLoadNew:async()=>{}}}}}var ProgramError;(function(t){t.InsecureContext="INSECURE_CONTEXT",t.UnsupportedBrowser="UNSUPPORTED_BROWSER"})(ProgramError||(ProgramError={}));async function program(t){if(!t)throw new Error("Expected a settings object of the type `Partial<Components> & Configuration` as the first parameter");if(globalThis.isSecureContext===!1)throw ProgramError.InsecureContext;if(await isSupported()===!1)throw ProgramError.UnsupportedBrowser;const e=await gatherComponents(t);return assemble(extractConfig(t),e)}async function assemble(t,e){const n=t.permissions;await ensureBackwardsCompatibility(e,t);const a=createEmitter(),o=createEmitter(),u=merge$1(a,o),c=await restore(e.storage),d=(_=>({implementation:_,accountConsumer(w){return createConsumer({auth:_,crypto:e.crypto,manners:e.manners},{username:w})},accountProducer(w){return createProducer({auth:_,crypto:e.crypto,manners:e.manners},{username:w})},isUsernameAvailable:_.isUsernameAvailable,isUsernameValid:_.isUsernameValid,register:_.register,async session(){const w=await restore(e.storage);return w?this.implementation.session(e,w.username,t,{fileSystem:a,session:o}):null}}))(e.auth),p={async collect(){const _=await e.capabilities.collect();return _?(await collect({capabilities:_,crypto:e.crypto,reference:e.reference,storage:e.storage}),_.username):null},request(_){return e.capabilities.request({permissions:n,..._||{}})},async session(_){if(!validatePermissions(e.reference.repositories.ucans,n||{}))return console.warn("The present UCANs did not satisfy the configured permissions."),null;const E=await e.reference.didRoot.lookup(_);if(!await validateSecrets(e.crypto,E,n||{}))return console.warn("The present filesystem secrets did not satisfy the configured permissions."),null;await provide(e.storage,{type:SESSION_TYPE,username:_});const C=t.fileSystem?.loadImmediately===!1?void 0:await loadFileSystem({config:t,dependencies:e,eventEmitter:a,username:_});return new Session({fs:C,username:_,crypto:e.crypto,storage:e.storage,type:SESSION_TYPE,eventEmitter:o})}};let v=null;if(isCapabilityBasedAuthConfiguration(t)){const _=await p.collect();_&&(v=await p.session(_)),c&&c.type===SESSION_TYPE&&(v=await p.session(c.username))}else c&&c.type!==SESSION_TYPE&&(v=await d.session());const b={...{accountDID:_=>e.reference.didRoot.lookup(_),agentDID:()=>write(e.crypto),sharingDID:()=>exchange(e.crypto),fileSystem:{addPublicExchangeKey:_=>addPublicExchangeKey(e.crypto,_),addSampleData:_=>addSampleData(_),hasPublicExchangeKey:_=>hasPublicExchangeKey(e.crypto,_),load:_=>loadFileSystem({config:t,username:_,dependencies:e,eventEmitter:a}),recover:_=>recoverFileSystem({auth:d,dependencies:e,..._})}},...listenTo(u),configuration:{...t},auth:d,components:e,capabilities:p,session:v};if(t.debug){if(t.debugging?.injectIntoGlobalContext===void 0?!0:t.debugging?.injectIntoGlobalContext){const E=globalThis;E.__odd=E.__odd||{},E.__odd.programs=E.__odd.programs||{},E.__odd.programs[namespace(t)]=b}if(t.debugging?.emitWindowPostMessages===void 0?!0:t.debugging?.emitWindowPostMessages){const{connect:E,disconnect:$}=await create$2({namespace:t.namespace,session:v,capabilities:t.permissions,dependencies:e,eventEmitters:{fileSystem:a,session:o}}),C=globalThis;C.__odd=C.__odd||{},C.__odd.extension=C.__odd.extension||{},C.__odd.extension.connect=E,C.__odd.extension.disconnect=$,globalThis.postMessage({id:"odd-devtools-ready-message"})}}return b}async function gatherComponents(t){const e=extractConfig(t),n=t.crypto||await defaultCryptoComponent(e),a=t.manners||defaultMannersComponent(e),o=t.storage||defaultStorageComponent(e),u=t.reference||await defaultReferenceComponent({crypto:n,manners:a,storage:o}),c=t.depot||await defaultDepotComponent({storage:o},e),d=t.capabilities||defaultCapabilitiesComponent({crypto:n});return{auth:t.auth||defaultAuthComponent({crypto:n,reference:u,storage:o}),capabilities:d,crypto:n,depot:c,manners:a,reference:u,storage:o}}function defaultAuthComponent({crypto:t,reference:e,storage:n}){return implementation$7({crypto:t,reference:e,storage:n})}function defaultCapabilitiesComponent({crypto:t}){return implementation$8({crypto:t})}function defaultCryptoComponent(t){return implementation$4({storeName:namespace(t),exchangeKeyName:"exchange-key",writeKeyName:"write-key"})}function defaultDepotComponent({storage:t},e){return implementation$9({storage:t},`${namespace(e)}/ipfs`)}function defaultMannersComponent(t){return implementation({configuration:t})}function defaultReferenceComponent({crypto:t,manners:e,storage:n}){return implementation$a({crypto:t,manners:e,storage:n})}function defaultStorageComponent(t){return implementation$3({name:namespace(t)})}async function isSupported(){return localforage.supports(localforage.INDEXEDDB)&&await(()=>new Promise(t=>{const e=indexedDB.open("testDatabase");e.onsuccess=()=>t(!0),e.onerror=()=>t(!1)}))()}async function ensureBackwardsCompatibility(t,e){const[n,a]=["migrated",VERSION],o=fromString$1(VERSION);if(!o)throw new Error("The ODD SDK VERSION should be a semver string");if(await t.storage.getItem(n).then(v=>typeof v=="string"?fromString$1(v):null).then(v=>v&&isBiggerThanOrEqualTo(v,o))||!globalThis.indexedDB)return;const c=globalThis.indexedDB.databases?(await globalThis.indexedDB.databases()).map(v=>v.name):["keystore","localforage"],d=c.includes("keystore")?await bwOpenDatabase("keystore"):null;if(d){const v=await bwGetValue(d,"keyvaluepairs","exchange-key"),y=await bwGetValue(d,"keyvaluepairs","write-key");v&&y&&(await t.storage.setItem("exchange-key",v),await t.storage.setItem("write-key",y))}const p=c.includes("localforage")?await bwOpenDatabase("localforage"):null;if(p){const v=await bwGetValue(p,"keyvaluepairs","ucan"),y=await bwGetValue(p,"keyvaluepairs","webnative.auth_ucans"),b=await bwGetValue(p,"keyvaluepairs","readKey"),_=await bwGetValue(p,"keyvaluepairs","webnative.auth_username");if(b&&isString(b)){const w=v||(Array.isArray(y)?y[0]:void 0),E=w?rootIssuer(w):typeof _=="string"?await t.reference.didRoot.lookup(_):null;if(!E)throw new Error("Failed to retrieve account DID");await store({accountDID:E,crypto:t.crypto,readKey:fromString$2(b,"base64pad")})}v&&await t.storage.setItem(t.storage.KEYS.ACCOUNT_UCAN,v),_&&await t.storage.setItem(t.storage.KEYS.SESSION,JSON.stringify({type:isCapabilityBasedAuthConfiguration(e)?SESSION_TYPE:TYPE,username:_}))}await t.storage.setItem(n,a)}function bwGetValue(t,e,n){return new Promise((a,o)=>{if(!t.objectStoreNames.contains(e))return a(null);const d=t.transaction([e],"readonly").objectStore(e).get(n);d.onerror=()=>{a(null)},d.onsuccess=()=>{a(d.result)}})}function bwOpenDatabase(t){return new Promise((e,n)=>{const a=globalThis.indexedDB.open(t);a.onerror=()=>{e(null)},a.onsuccess=()=>{e(a.result)},a.onupgradeneeded=o=>{a.transaction?.abort(),globalThis.indexedDB.deleteDatabase(t)}})}function extractConfig(t){return{namespace:t.namespace,debug:t.debug,fileSystem:t.fileSystem,permissions:t.permissions,userMessages:t.userMessages}}function isCapabilityBasedAuthConfiguration(t){return!!t.permissions}export{fromString$3 as $,implementation$5 as A,implementation$2 as B,exchange as C,write as D,toPosix as E,urlEncode as F,fromString$2 as G,H,toString$2 as I,fromPosix as J,decode$2 as K,isObject$1 as L,isString as M,implementation$1 as N,lookup as O,PRODUCTION as P,update as Q,root as R,SymmAlg as S,TYPE as T,toString$4 as U,VERSION as V,isIPv4 as W,isIPv6 as X,isIP as Y,varint$1 as Z,_global as _,setMode as a,concat$2 as a0,equals$1 as a1,errcode as a2,debug as a3,length as a4,Key as a5,$protobuf as a6,decode as a7,encode$1 as a8,concat$1 as a9,BlockstoreDatastoreAdapter as aA,dagPB as aB,name as aC,code$1 as aD,dagCBOR as aE,name$1 as aF,concat as aG,getByIdentifier as aH,Flipping as aI,ProgramError as aJ,directory as aK,appData as aL,file as aM,compare as aa,fromString$4 as ab,fnv1a as ac,toString$3 as ad,code as ae,encode$6 as af,decode$5 as ag,notFoundError as ah,PQueue as ai,objectSafeGet as aj,objectSafeSet as ak,sortKeys as al,pushable as am,drain$2 as an,filter$2 as ao,first as ap,QuickLRU as aq,map$2 as ar,merge$2 as as,pipe as at,parallelBatch as au,mergeOptions$1 as av,createMortice as aw,bytes$1 as ax,MemoryDatastore as ay,LevelDatastore as az,proxyCustomElement as b,h as c,Host as d,createEvent as e,forceUpdate as f,getMode as g,hasProp as h,getAssetPath as i,buffer$2 as j,seedrandom as k,lib as l,lodashExports as m,namespace as n,lodash_eq as o,program as p,lodash_indexof as q,readTask as r,setPlatformHelpers as s,createWssChannel as t,endpoint as u,isUsernameAvailable as v,writeTask as w,isUsernameValid as x,createAccount as y,register as z};
//# sourceMappingURL=other-modules-6d20a545.js.map
